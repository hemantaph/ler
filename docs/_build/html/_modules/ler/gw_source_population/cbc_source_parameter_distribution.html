<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ler.gw_source_population.cbc_source_parameter_distribution &mdash; ler 0.3.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=776609e1" />


    <script src="../../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../../_static/documentation_options.js?v=4621528c"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/tabs.js?v=3030b3cb"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA="
        src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
</head>

<body class="wy-body-for-nav">
    <div class="wy-grid-for-nav">
        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
            <div class="wy-side-scroll">
                <div class="wy-side-nav-search">



                    <a href="../../../index.html" class="icon icon-home">
                        ler
                    </a>
                    <div role="search">
                        <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
                            <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
                            <input type="hidden" name="check_keywords" value="yes" />
                            <input type="hidden" name="area" value="default" />
                        </form>
                    </div>
                </div>
                <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
                    <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../Installation2.html">Installation</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../../../Summary.html">Summary</a>
                        </li>
                        <li class="toctree-l1"><a class="reference internal" href="../../../code_overview.html">Code
                                overview</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../GW_events.html">Gravitational wave event rates</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../GW_equations.html">Gravitational wave events sampling (Analytical
                                formulation)</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../../../Lensed_events.html">Lensed
                                event rates</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../Lensed_equations.html">Lensed event sampling (Analytical formulation)</a>
                        </li>
                    </ul>
                    <p class="caption" role="heading"><span class="caption-text">API:</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../autoapi/ler/rates/index.html"><code
                                    class="xref py py-mod docutils literal notranslate"><span class="pre">ler.rates</span></code></a>
                        </li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../autoapi/ler/gw_source_population/index.html"><code
                                    class="xref py py-mod docutils literal notranslate"><span class="pre">ler.gw_source_population</span></code></a>
                        </li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../autoapi/ler/lens_galaxy_population/index.html"><code
                                    class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population</span></code></a>
                        </li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../autoapi/ler/image_properties/index.html"><code
                                    class="xref py py-mod docutils literal notranslate"><span class="pre">ler.image_properties</span></code></a>
                        </li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../autoapi/ler/utils/index.html"><code
                                    class="xref py py-mod docutils literal notranslate"><span class="pre">ler.utils</span></code></a>
                        </li>
                    </ul>
                    <p class="caption" role="heading"><span class="caption-text">Examples:</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/rates/LeR%20complete%20examples.html">LeR complete examples</a>
                        </li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/rates/GWRATES%20complete%20exmaples.html">GWRATES complete
                                exmaples</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/rates/grb%20detection%20rate.html">Calculation of detectable
                                Gamma ray burst (GRB) event rate associated with Binary Neutron Star (BNS) mergers.</a>
                        </li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/rates/ler%20bns%20example.html">LeR complete examples of BNS
                                events (O4 design sensitivity)</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/rates/rates_with_3G_detectors.html">Event Rates with 3G
                                detectors</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/source%20population/merger%20rate%20density%20evolution%20with%20redshift.html">Merger
                                rate density evolution with redshift</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/source%20population/merger%20rate%20density%20model%20comparision.html">Merger
                                rate density model comparision</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/source%20population/merger%20rate%20density%20model%20comparision.html#Primordial-BBH-model,-Ng-et-al.-2022">Primordial
                                BBH model, Ng et al. 2022</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/source%20population/sample%20compact%20binary%20parameters.html">Sampling
                                parameters for a compact binary</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/source%20population/statistical%20study%20of%20changing%20mass%20model%20params.html">Statistical
                                study of changing Mass model paramter(s)</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/source%20population/statistical%20study%20of%20cosmological%20friction.html">Statistical
                                study of cosmological friction and its effect on the redshift vs inferred chirp-mass
                                relation of gravitational waves</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/lens_parameters/sample%20lens%20parameters.html">Lens parameter
                                distributions</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/optical_depth/validation_SIE.html">Optical depth SIE model
                                validation</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/optical_depth/validation_SIS.html">Validation of SIS model
                                (Numerical vs Analytical)</a></li>
                        <li class="toctree-l1"><a class="reference internal"
                                href="../../../examples/image_properties/dt_vs_dmu.html">Study of Time delays and
                                magnification of lensed gravitational waves.</a></li>
                    </ul>

                </div>
            </div>
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" aria-label="Mobile navigation menu">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="../../../index.html">ler</a>
            </nav>

            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="Page navigation">
                        <ul class="wy-breadcrumbs">
                            <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
                            <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
                            <li class="breadcrumb-item active">
                                ler.gw_source_population.cbc_source_parameter_distribution</li>
                            <li class="wy-breadcrumbs-aside">
                            </li>
                        </ul>
                        <hr />
                    </div>
                    <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                        <div itemprop="articleBody">

                            <h1>Source code for ler.gw_source_population.cbc_source_parameter_distribution</h1>
                            <div class="highlight">
                                <pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module contains the classes to generate source compact binary&#39;s intrinsic and extrinsic gravitational waves parameters.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">numba</span> <span class="kn">import</span> <span class="n">njit</span>

<span class="c1"># for redshift to luminosity distance conversion</span>
<span class="kn">from</span> <span class="nn">astropy.cosmology</span> <span class="kn">import</span> <span class="n">LambdaCDM</span>

<span class="c1"># from gwcosmo import priors as p</span>
<span class="kn">from</span> <span class="nn">scipy.integrate</span> <span class="kn">import</span> <span class="n">quad</span>

<span class="c1"># for multiprocessing</span>
<span class="c1"># Import helper routines</span>
<span class="kn">from</span> <span class="nn">..utils</span> <span class="kn">import</span> <span class="n">FunctionConditioning</span>

<span class="c1"># import redshift distribution sampler</span>
<span class="kn">from</span> <span class="nn">.cbc_source_redshift_distribution</span> <span class="kn">import</span> <span class="n">CBCSourceRedshiftDistribution</span>

<span class="kn">from</span> <span class="nn">.jit_functions</span> <span class="kn">import</span> <span class="n">lognormal_distribution_2D</span><span class="p">,</span> <span class="n">bns_bimodal_pdf</span><span class="p">,</span> <span class="n">inverse_transform_sampler_m1m2</span><span class="p">,</span> <span class="n">sample_powerlaw_gaussian_source_bbh_masses</span><span class="p">,</span> <span class="n">sample_broken_powerlaw_nsbh_masses</span>

<span class="n">chunk_size</span> <span class="o">=</span> <span class="mi">10000</span>


<div class="viewcode-block" id="CBCSourceParameterDistribution">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution">[docs]</a>
<span class="k">class</span> <span class="nc">CBCSourceParameterDistribution</span><span class="p">(</span><span class="n">CBCSourceRedshiftDistribution</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to generate a population of compact binaries. It helps sample all the intrinsic and extrinsic parameters of compact binaries. This daughter class inherits from :class:`~ler.ler.CBCSourceRedshiftDistribution` class.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    z_min : `float`</span>
<span class="sd">        Minimum redshift of the source population</span>
<span class="sd">        default: 0.001</span>
<span class="sd">    z_max : `float`</span>
<span class="sd">        Maximum redshift of the source population</span>
<span class="sd">        default: 10.</span>
<span class="sd">    event_type : `str`</span>
<span class="sd">        Type of event to generate.</span>
<span class="sd">        e.g. &#39;BBH&#39;, &#39;BNS&#39;, &#39;NSBH&#39;</span>
<span class="sd">    source_priors, source_priors_params : `dict`, `dict`</span>
<span class="sd">        Dictionary of prior sampler functions and its input parameters.</span>
<span class="sd">        Check for available priors and corresponding input parameters by running,</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; cbc.available_gw_prior_list_and_its_params()</span>
<span class="sd">        # To check the current chosen priors and its parameters, run,</span>
<span class="sd">        &gt;&gt;&gt; print(&quot;default priors=&quot;,cbc.gw_param_samplers)</span>
<span class="sd">        &gt;&gt;&gt; print(&quot;default priors&#39;s parameters=&quot;,cbc.gw_param_samplers_params)</span>
<span class="sd">    cosmology : `astropy.cosmology`</span>
<span class="sd">        Cosmology to use</span>
<span class="sd">        default: None/astropy.cosmology.FlatLambdaCDM(H0=70, Om0=0.3)</span>
<span class="sd">    spin_zero : `bool`</span>
<span class="sd">        If True, spin parameters are completely ignore in the sampling.</span>
<span class="sd">        default: True</span>
<span class="sd">    spin_precession : `bool`</span>
<span class="sd">        If spin_zero=False and spin_precession=True, spin parameters are sampled for precessing binaries.</span>
<span class="sd">        if spin_zero=False and spin_precession=False, spin parameters are sampled for aligned/anti-aligned spin binaries.</span>
<span class="sd">        default: False</span>
<span class="sd">    directory : `str`</span>
<span class="sd">        Directory to store the interpolator pickle files</span>
<span class="sd">        default: &#39;./interpolator_json&#39;</span>
<span class="sd">    create_new_interpolator : `dict`</span>
<span class="sd">        Dictionary of boolean values and resolution to create new interpolator.</span>
<span class="sd">        default: dict(redshift_distribution=dict(create_new=False, resolution=500), z_to_luminosity_distance=dict(create_new=False, resolution=500), differential_comoving_volume=dict(create_new=False, resolution=500))</span>

<span class="sd">    Examples</span>
<span class="sd">    ----------</span>
<span class="sd">    &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">    &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">    &gt;&gt;&gt; params = cbc.gw_parameters(size=1000)</span>
<span class="sd">    &gt;&gt;&gt; print(&quot;sampled parameters=&quot;,list(params.keys()))</span>

<span class="sd">    Instance Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    CBCSourceParameterDistribution has the following instance attributes:\n</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    | Atrributes                          | Type                             |</span>
<span class="sd">    +=====================================+==================================+</span>
<span class="sd">    |:attr:`~z_min`                       | `float`                          |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~z_max`                       | `float`                          |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~event_type`                  | `str`                            |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~source_priors`               | `dict`                           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~source_priors_params`        | `dict`                           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~cosmo`                       | `astropy.cosmology`              |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~spin_zero`                   | `bool`                           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~spin_precession`             | `bool`                           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~directory`                   | `str`                            |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~create_new_interpolator`     | `dict`                           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~available_gw_prior_list_and_its_params`                            |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |                                     | `dict`                           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~gw_param_samplers`           | `dict`                           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~gw_param_samplers_params`    | `dict`                           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:attr:`~sampler_names`               | `dict`                           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>

<span class="sd">    Instance Methods</span>
<span class="sd">    ----------</span>
<span class="sd">    CBCSourceParameterDistribution has the following instance methods:\n</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    | Methods                             | Type                             |</span>
<span class="sd">    +=====================================+==================================+</span>
<span class="sd">    |:meth:`~source_priors_categorization`                                   |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |                                     | Function to categorize the event |</span>
<span class="sd">    |                                     | priors and its parameters        |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~lookup_table_luminosity_distance`                               |</span>
<span class="sd">    |                                     | Function to create a lookup      |</span>
<span class="sd">    |                                     | table for converting redshift    |</span>
<span class="sd">    |                                     | to luminosity distance           |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~gw_parameters`        | Function to sample all the       |</span>
<span class="sd">    |                                     | intrinsic and extrinsic          |</span>
<span class="sd">    |                                     | parameters of compact binaries   |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~source_frame_masses`  | Function to sample source mass1  |</span>
<span class="sd">    |                                     | and mass2                        |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~geocent_time`         | Function to sample geocent time  |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~zs`                   | Function to sample source        |</span>
<span class="sd">    |                                     | redshift                         |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~ra`                   | Function to sample right         |</span>
<span class="sd">    |                                     | ascension (sky position)         |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~dec`                  | Function to sample declination   |</span>
<span class="sd">    |                                     | (sky position)                   |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~phase`                | Function to sample coalescence   |</span>
<span class="sd">    |                                     | phase                            |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~psi`                  | Function to sample polarization  |</span>
<span class="sd">    |                                     | angle                            |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~theta_jn`             | Function to sample inclination   |</span>
<span class="sd">    |                                     | angle                            |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~a_1`                   | Function to sample spin1         |</span>
<span class="sd">    |                                     | magnitude                        |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~a_2`                   | Function to sample spin2         |</span>
<span class="sd">    |                                     | magnitude                        |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~tilt_1`               | Function to sample tilt1 angle   |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~tilt_2`               | Function to sample tilt2 angle   |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~phi_12`               | Function to sample phi12 angle   |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~phi_jl`               | Function to sample phi_jl angle  |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~binary_masses_BBH_popI_II_powerlaw_gaussian`                    |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |                                     | Function to sample source mass1  |</span>
<span class="sd">    |                                     | and mass2 with PowerLaw+PEAK     |</span>
<span class="sd">    |                                     | model                            |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~binary_masses_BBH_popIII_lognormal`                             |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |                                     | Function to sample source mass1  |</span>
<span class="sd">    |                                     | and mass2 with popIII orgin from |</span>
<span class="sd">    |                                     | lognormal distribution. Refer to |</span>
<span class="sd">    |                                     | Ng et al. 2022. Eqn. 1 and 4     |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~binary_masses_BBH_primordial_lognormal`                         |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |                                     | Function to sample source mass1  |</span>
<span class="sd">    |                                     | and mass2 with primordial orgin  |</span>
<span class="sd">    |                                     | from lognormal distribution.     |</span>
<span class="sd">    |                                     | Refer to Ng et al. 2022. Eqn. 1  |</span>
<span class="sd">    |                                     | and 4                            |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~binary_masses_BNS_bimodal`   | Function to sample source mass1  |</span>
<span class="sd">    |                                     | and mass2 from bimodal           |</span>
<span class="sd">    |                                     | distribution. Refer to           |</span>
<span class="sd">    |                                     | Will M. Farr et al. 2020 Eqn. 6  |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~constant_values_n_size`      | Function to return array of      |</span>
<span class="sd">    |                                     | constant values of size n        |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    |:meth:`~sampler_uniform`             | Function to sample from uniform  |</span>
<span class="sd">    |                                     | distribution                     |</span>
<span class="sd">    +-------------------------------------+----------------------------------+</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Attributes</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.z_min">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.z_min">[docs]</a>
    <span class="n">z_min</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;``float`` \n</span>
<span class="sd">    Minimum redshift of the source population</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CBCSourceParameterDistribution.z_max">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.z_max">[docs]</a>
    <span class="n">z_max</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;``float`` \n</span>
<span class="sd">    Maximum redshift of the source population</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CBCSourceParameterDistribution.event_type">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.event_type">[docs]</a>
    <span class="n">event_type</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;``str`` \n</span>
<span class="sd">    Type of event to generate. \n</span>
<span class="sd">    e.g. &#39;BBH&#39;, &#39;BNS&#39;, &#39;NSBH&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CBCSourceParameterDistribution.source_priors">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.source_priors">[docs]</a>
    <span class="n">source_priors</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;``dict`` \n</span>
<span class="sd">    Dictionary of prior sampler functions.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CBCSourceParameterDistribution.source_priors_params">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.source_priors_params">[docs]</a>
    <span class="n">source_priors_params</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;``dict`` \n</span>
<span class="sd">    Dictionary of prior sampler functions&#39; input parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CBCSourceParameterDistribution.cosmo">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.cosmo">[docs]</a>
    <span class="n">cosmo</span> <span class="o">=</span> <span class="n">LambdaCDM</span><span class="p">(</span><span class="n">H0</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">Om0</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">Ode0</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;``astropy.cosmology`` \n</span>
<span class="sd">    Cosmology to use.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CBCSourceParameterDistribution.spin_zero">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.spin_zero">[docs]</a>
    <span class="n">spin_zero</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;``bool`` \n</span>
<span class="sd">    If True, spin prior is set to zero.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">z_min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">z_max</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
        <span class="n">event_type</span><span class="o">=</span><span class="s2">&quot;BBH&quot;</span><span class="p">,</span>
        <span class="n">source_priors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">source_priors_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">cosmology</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">spin_zero</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">spin_precession</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">directory</span><span class="o">=</span><span class="s2">&quot;./interpolator_json&quot;</span><span class="p">,</span>
        <span class="n">create_new_interpolator</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="c1"># set attributes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_min</span> <span class="o">=</span> <span class="n">z_min</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_max</span> <span class="o">=</span> <span class="n">z_max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cosmo</span> <span class="o">=</span> <span class="n">cosmology</span> <span class="k">if</span> <span class="n">cosmology</span> <span class="k">else</span> <span class="n">LambdaCDM</span><span class="p">(</span><span class="n">H0</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">Om0</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">Ode0</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
        <span class="c1"># note that self.cosmo is initialized in the super class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spin_zero</span> <span class="o">=</span> <span class="n">spin_zero</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spin_precession</span> <span class="o">=</span> <span class="n">spin_precession</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directory</span> <span class="o">=</span> <span class="n">directory</span>

        <span class="c1"># setting up the interpolator creation parameters</span>
        <span class="n">create_new_interpolator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup_decision_dictionary_gw_params</span><span class="p">(</span><span class="n">create_new_interpolator</span><span class="p">)</span>

        <span class="c1"># dealing with prior functions and categorization</span>
        <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_priors_categorization</span><span class="p">(</span>
            <span class="n">event_type</span><span class="p">,</span> <span class="n">source_priors</span><span class="p">,</span> <span class="n">source_priors_params</span>
        <span class="p">)</span>

        <span class="c1"># initialize the SourceGalaxyPopulationModel mother class</span>
        <span class="c1"># for redshift distribution</span>
        <span class="c1"># instance attribute source_redshift is initialized here</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">z_min</span><span class="o">=</span><span class="n">z_min</span><span class="p">,</span>
            <span class="n">z_max</span><span class="o">=</span><span class="n">z_max</span><span class="p">,</span>
            <span class="n">event_type</span><span class="o">=</span><span class="n">event_type</span><span class="p">,</span>
            <span class="n">merger_rate_density</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;merger_rate_density&quot;</span><span class="p">],</span>
            <span class="n">merger_rate_density_param</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span>
                <span class="s2">&quot;merger_rate_density&quot;</span>
            <span class="p">],</span>
            <span class="n">cosmology</span><span class="o">=</span><span class="n">cosmology</span><span class="p">,</span>
            <span class="n">directory</span><span class="o">=</span><span class="n">directory</span><span class="p">,</span>
            <span class="n">create_new_interpolator</span><span class="o">=</span><span class="n">create_new_interpolator</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Initializing CBCSourceParameterDistribution...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># initializing samplers</span>
        <span class="c1"># it goes through the setter functions and assign the sampler functions</span>
        <span class="c1"># self.source_redshift is already initialized in the super class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;zs&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_frame_masses</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geocent_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;geocent_time&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ra</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;ra&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;dec&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">psi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;psi&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_jn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;theta_jn&quot;</span><span class="p">]</span>
        <span class="c1"># initialize the spin prior attribute</span>
        <span class="c1"># remove spin prior if spin_zero is True</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">spin_zero</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">a_1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;a_1&quot;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">a_2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;a_2&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">spin_precession</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tilt_1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;tilt_1&quot;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tilt_2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;tilt_2&quot;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">phi_12</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;phi_12&quot;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">phi_jl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="p">[</span><span class="s2">&quot;phi_jl&quot;</span><span class="p">]</span>


<div class="viewcode-block" id="CBCSourceParameterDistribution.setup_decision_dictionary_gw_params">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.setup_decision_dictionary_gw_params">[docs]</a>
    <span class="k">def</span> <span class="nf">setup_decision_dictionary_gw_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">create_new_interpolator</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to set up a decision dictionary for interpolator creation.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        create_new_interpolator : `dict`, `bool`</span>
<span class="sd">            If `dict`, dictionary of boolean values and resolution to create new interpolator.</span>
<span class="sd">            If `bool`, boolean value to create new interpolator for all quantities.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        create_new_interpolator_ : `dict`</span>
<span class="sd">            Dictionary of boolean values and resolution to create new interpolator.</span>
<span class="sd">            e.g. dict(redshift_distribution=dict(create_new=False, resolution=1000), luminosity_distance=dict(create_new=False, resolution=1000), differential_comoving_volume=dict(create_new=False, resolution=1000))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">create_new_interpolator_</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">source_frame_masses</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">geocent_time</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">ra</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">dec</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">phase</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">psi</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">theta_jn</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">a_1</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">a_2</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">tilt_1</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">tilt_2</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">phi_12</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">phi_jl</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">merger_rate_density</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
            <span class="n">redshift_distribution</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span> 
            <span class="n">luminosity_distance</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span> 
            <span class="n">differential_comoving_volume</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">create_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">create_new_interpolator</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">create_new_interpolator_</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">create_new_interpolator</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">create_new_interpolator</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">create_new_interpolator_</span><span class="p">:</span>
                <span class="n">create_new_interpolator_</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;create_new&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">create_new_interpolator_</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.source_priors_categorization">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.source_priors_categorization">[docs]</a>
    <span class="k">def</span> <span class="nf">source_priors_categorization</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">,</span> <span class="n">source_priors</span><span class="p">,</span> <span class="n">source_prior_params</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to categorize the event priors and its parameters.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        event_type : `str`</span>
<span class="sd">            Type of event to generate.</span>
<span class="sd">            e.g. &#39;BBH&#39;, &#39;BNS&#39;, &#39;BBH_popIII&#39;, &#39;BBH_primordial&#39;, &#39;NSBH&#39;</span>
<span class="sd">        source_priors : `dict`</span>
<span class="sd">            Dictionary of prior sampler functions for each parameter</span>
<span class="sd">        source_prior_params : `dict`</span>
<span class="sd">            Dictionary of sampler parameters for each GW parameter</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        source_priors_ : `dict`</span>
<span class="sd">            Dictionary of prior sampler functions for each parameter</span>
<span class="sd">        source_prior_params_ : `dict`</span>
<span class="sd">            Dictionary of sampler parameters for each parameter</span>
<span class="sd">        sampler_names_ : `dict`</span>
<span class="sd">            Dictionary of sampler names with description</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; source_priors, source_prior_params, sampler_names = cbc.source_priors_categorization(event_type=&#39;BBH&#39;, source_priors=None, source_prior_params=None)</span>
<span class="sd">        &gt;&gt;&gt; print(source_priors.keys())</span>
<span class="sd">        &gt;&gt;&gt; print(source_prior_params.keys())</span>
<span class="sd">        &gt;&gt;&gt; print(sampler_names.keys())</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># for BBH</span>
        <span class="k">if</span> <span class="n">event_type</span> <span class="o">==</span> <span class="s2">&quot;BBH&quot;</span><span class="p">:</span>
            <span class="n">merger_rate_density_prior</span> <span class="o">=</span> <span class="s2">&quot;merger_rate_density_bbh_popI_II_oguri2018&quot;</span>
            <span class="n">merger_rate_density_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">R0</span><span class="o">=</span><span class="mf">23.9</span> <span class="o">*</span> <span class="mf">1e-9</span><span class="p">,</span> <span class="n">b2</span><span class="o">=</span><span class="mf">1.6</span><span class="p">,</span> <span class="n">b3</span><span class="o">=</span><span class="mf">2.1</span><span class="p">,</span> <span class="n">b4</span><span class="o">=</span><span class="mi">30</span>  <span class="c1"># </span>
            <span class="p">)</span>
            <span class="n">source_frame_masses_prior</span> <span class="o">=</span> <span class="s2">&quot;binary_masses_BBH_popI_II_powerlaw_gaussian&quot;</span>
            <span class="n">source_frame_masses_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">mminbh</span><span class="o">=</span><span class="mf">4.98</span><span class="p">,</span>
                <span class="n">mmaxbh</span><span class="o">=</span><span class="mf">112.5</span><span class="p">,</span>
                <span class="n">alpha</span><span class="o">=</span><span class="mf">3.78</span><span class="p">,</span>
                <span class="n">mu_g</span><span class="o">=</span><span class="mf">32.27</span><span class="p">,</span>
                <span class="n">sigma_g</span><span class="o">=</span><span class="mf">3.88</span><span class="p">,</span>
                <span class="n">lambda_peak</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span>
                <span class="n">delta_m</span><span class="o">=</span><span class="mf">4.8</span><span class="p">,</span>
                <span class="n">beta</span><span class="o">=</span><span class="mf">0.81</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">a_max</span> <span class="o">=</span> <span class="mf">0.8</span>

        <span class="k">elif</span> <span class="n">event_type</span> <span class="o">==</span> <span class="s2">&quot;BNS&quot;</span><span class="p">:</span>
            <span class="n">merger_rate_density_prior</span> <span class="o">=</span> <span class="s2">&quot;merger_rate_density_bbh_popI_II_oguri2018&quot;</span>
            <span class="n">merger_rate_density_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">R0</span><span class="o">=</span><span class="mf">105.5</span> <span class="o">*</span> <span class="mf">1e-9</span><span class="p">,</span> <span class="n">b2</span><span class="o">=</span><span class="mf">1.6</span><span class="p">,</span> <span class="n">b3</span><span class="o">=</span><span class="mf">2.1</span><span class="p">,</span> <span class="n">b4</span><span class="o">=</span><span class="mi">30</span>
            <span class="p">)</span>
            <span class="n">source_frame_masses_prior</span> <span class="o">=</span> <span class="s2">&quot;binary_masses_BNS_bimodal&quot;</span>
            <span class="n">source_frame_masses_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">w</span><span class="o">=</span><span class="mf">0.643</span><span class="p">,</span>
                <span class="n">muL</span><span class="o">=</span><span class="mf">1.352</span><span class="p">,</span>
                <span class="n">sigmaL</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span>
                <span class="n">muR</span><span class="o">=</span><span class="mf">1.88</span><span class="p">,</span>
                <span class="n">sigmaR</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                <span class="n">mmin</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                <span class="n">mmax</span><span class="o">=</span><span class="mf">2.3</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">a_max</span> <span class="o">=</span> <span class="mf">0.05</span>

        <span class="k">elif</span> <span class="n">event_type</span> <span class="o">==</span> <span class="s2">&quot;NSBH&quot;</span><span class="p">:</span>
            <span class="n">merger_rate_density_prior</span> <span class="o">=</span> <span class="s2">&quot;merger_rate_density_bbh_popI_II_oguri2018&quot;</span>
            <span class="n">merger_rate_density_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">R0</span><span class="o">=</span><span class="mf">27.0</span> <span class="o">*</span> <span class="mf">1e-9</span><span class="p">,</span> <span class="n">b2</span><span class="o">=</span><span class="mf">1.6</span><span class="p">,</span> <span class="n">b3</span><span class="o">=</span><span class="mf">2.1</span><span class="p">,</span> <span class="n">b4</span><span class="o">=</span><span class="mi">30</span>
            <span class="p">)</span>
            <span class="n">source_frame_masses_prior</span> <span class="o">=</span> <span class="s2">&quot;binary_masses_NSBH_broken_powerlaw&quot;</span>
            <span class="n">source_frame_masses_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">mminbh</span><span class="o">=</span><span class="mi">26</span><span class="p">,</span>
                <span class="n">mmaxbh</span><span class="o">=</span><span class="mi">125</span><span class="p">,</span>
                <span class="n">alpha_1</span><span class="o">=</span><span class="mf">6.75</span><span class="p">,</span>
                <span class="n">alpha_2</span><span class="o">=</span><span class="mf">6.75</span><span class="p">,</span>
                <span class="n">b</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                <span class="n">delta_m</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                <span class="n">mminns</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                <span class="n">mmaxns</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span>
                <span class="n">alphans</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">a_max</span> <span class="o">=</span> <span class="mf">0.8</span>

        <span class="k">elif</span> <span class="n">event_type</span> <span class="o">==</span> <span class="s2">&quot;BBH_popIII&quot;</span><span class="p">:</span>
            <span class="n">merger_rate_density_prior</span> <span class="o">=</span> <span class="s2">&quot;merger_rate_density_bbh_popIII_ken2022&quot;</span>
            <span class="n">merger_rate_density_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">n0</span><span class="o">=</span><span class="mf">19.2</span> <span class="o">*</span> <span class="mf">1e-9</span><span class="p">,</span> <span class="n">aIII</span><span class="o">=</span><span class="mf">0.66</span><span class="p">,</span> <span class="n">bIII</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">zIII</span><span class="o">=</span><span class="mf">11.6</span>
            <span class="p">)</span>
            <span class="n">source_frame_masses_prior</span> <span class="o">=</span> <span class="s2">&quot;binary_masses_BBH_popIII_lognormal&quot;</span>
            <span class="n">source_frame_masses_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">m_min</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">150.0</span><span class="p">,</span> <span class="n">Mc</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">chunk_size</span><span class="o">=</span><span class="n">chunk_size</span>
            <span class="p">)</span>
            <span class="n">a_max</span> <span class="o">=</span> <span class="mf">0.8</span>

        <span class="k">elif</span> <span class="n">event_type</span> <span class="o">==</span> <span class="s2">&quot;BBH_primordial&quot;</span><span class="p">:</span>
            <span class="n">merger_rate_density_prior</span> <span class="o">=</span> <span class="s2">&quot;merger_rate_density_bbh_primordial_ken2022&quot;</span>
            <span class="n">merger_rate_density_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">n0</span><span class="o">=</span><span class="mf">0.044</span> <span class="o">*</span> <span class="mf">1e-9</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="mf">13.786885302009708</span>
            <span class="p">)</span>
            <span class="n">source_frame_masses_prior</span> <span class="o">=</span> <span class="s2">&quot;binary_masses_BBH_primordial_lognormal&quot;</span>
            <span class="n">source_frame_masses_prior_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">m_min</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span> <span class="n">Mc</span><span class="o">=</span><span class="mf">20.0</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">chunk_size</span><span class="o">=</span><span class="n">chunk_size</span>
            <span class="p">)</span>
            <span class="n">a_max</span> <span class="o">=</span> <span class="mf">0.8</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;event_type is not recognized&quot;</span><span class="p">)</span>

        <span class="c1"># setting the priors and its parameters</span>
        <span class="n">source_priors_</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">merger_rate_density</span><span class="o">=</span><span class="n">merger_rate_density_prior</span><span class="p">,</span>
            <span class="n">zs</span><span class="o">=</span><span class="s1">&#39;source_redshift&#39;</span><span class="p">,</span>
            <span class="n">source_frame_masses</span><span class="o">=</span><span class="n">source_frame_masses_prior</span><span class="p">,</span>
            <span class="n">geocent_time</span><span class="o">=</span><span class="s2">&quot;sampler_uniform&quot;</span><span class="p">,</span>
            <span class="n">ra</span><span class="o">=</span><span class="s2">&quot;sampler_uniform&quot;</span><span class="p">,</span>
            <span class="n">dec</span><span class="o">=</span><span class="s2">&quot;sampler_cosine&quot;</span><span class="p">,</span>
            <span class="n">phase</span><span class="o">=</span><span class="s2">&quot;sampler_uniform&quot;</span><span class="p">,</span>
            <span class="n">psi</span><span class="o">=</span><span class="s2">&quot;sampler_uniform&quot;</span><span class="p">,</span>
            <span class="n">theta_jn</span><span class="o">=</span><span class="s2">&quot;sampler_sine&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">source_prior_params_</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">merger_rate_density</span><span class="o">=</span><span class="n">merger_rate_density_prior_params</span><span class="p">,</span>
            <span class="n">zs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">source_frame_masses</span><span class="o">=</span><span class="n">source_frame_masses_prior_params</span><span class="p">,</span>
            <span class="n">geocent_time</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=</span><span class="mi">1238166018</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="mi">1269702018</span><span class="p">),</span>
            <span class="n">ra</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="mf">2.</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
            <span class="n">dec</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># dict(min_=-np.pi/2, max_=np.pi/2),</span>
            <span class="n">phase</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="mf">2.</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
            <span class="n">psi</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
            <span class="n">theta_jn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># dict(min_=0., max_=np.pi),</span>
        <span class="p">)</span>

        <span class="c1"># spin</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">spin_zero</span><span class="p">:</span>
            <span class="n">source_priors_</span><span class="p">[</span><span class="s2">&quot;a_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_uniform&quot;</span>
            <span class="n">source_prior_params_</span><span class="p">[</span><span class="s2">&quot;a_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=-</span><span class="n">a_max</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="n">a_max</span><span class="p">)</span>
            <span class="n">source_priors_</span><span class="p">[</span><span class="s2">&quot;a_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_uniform&quot;</span>
            <span class="n">source_prior_params_</span><span class="p">[</span><span class="s2">&quot;a_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=-</span><span class="n">a_max</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="n">a_max</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">spin_precession</span><span class="p">:</span>
                <span class="n">source_priors_</span><span class="p">[</span><span class="s2">&quot;a_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_uniform&quot;</span>
                <span class="n">source_prior_params_</span><span class="p">[</span><span class="s2">&quot;a_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="n">a_max</span><span class="p">)</span>
                <span class="n">source_priors_</span><span class="p">[</span><span class="s2">&quot;a_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_uniform&quot;</span>
                <span class="n">source_prior_params_</span><span class="p">[</span><span class="s2">&quot;a_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="n">a_max</span><span class="p">)</span>
                <span class="n">source_priors_</span><span class="p">[</span><span class="s2">&quot;tilt_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_sine&quot;</span>
                <span class="n">source_prior_params_</span><span class="p">[</span><span class="s2">&quot;tilt_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="n">source_priors_</span><span class="p">[</span><span class="s2">&quot;tilt_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_sine&quot;</span>
                <span class="n">source_prior_params_</span><span class="p">[</span><span class="s2">&quot;tilt_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="n">source_priors_</span><span class="p">[</span><span class="s2">&quot;phi_12&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_uniform&quot;</span>
                <span class="n">source_prior_params_</span><span class="p">[</span><span class="s2">&quot;phi_12&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
                <span class="n">source_priors_</span><span class="p">[</span><span class="s2">&quot;phi_jl&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_uniform&quot;</span>
                <span class="n">source_prior_params_</span><span class="p">[</span><span class="s2">&quot;phi_jl&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">min_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>

        <span class="c1"># update the priors if input is given</span>
        <span class="k">if</span> <span class="n">source_priors</span><span class="p">:</span>
            <span class="n">source_priors_</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">source_priors</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">source_prior_params</span><span class="p">:</span>
            <span class="n">source_prior_params_</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">source_prior_params</span><span class="p">)</span>

        <span class="c1"># taking care of source_prior_params from the available_gw_prior_list_and_its_params</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">source_priors_</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">dict_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>  <span class="c1"># e.g. all source_frame_masses_prior function names and its parameters</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">dict_</span><span class="p">:</span>
                    <span class="n">param_dict</span> <span class="o">=</span> <span class="n">dict_</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">source_prior_params_</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">source_prior_params_</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_dict</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">param_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">source_prior_params_</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
                        <span class="n">source_prior_params_</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_dict</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;source_prior_params_[&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;] is not in available_gw_prior_list_and_its_params&quot;</span>
                    <span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;source_prior_params_[&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;] should be either a string name of available sampler or a function&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">source_priors_</span><span class="p">,</span> <span class="n">source_prior_params_</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="CBCSourceParameterDistribution.sample_gw_parameters">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.sample_gw_parameters">[docs]</a>
    <span class="k">def</span> <span class="nf">sample_gw_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">param</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample BBH/BNS/NSBH intrinsic and extrinsics parameters.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        gw_parameters : `dict`</span>
<span class="sd">            Dictionary of sampled parameters</span>
<span class="sd">            gw_parameters.keys() = [&#39;mass_1&#39;, &#39;mass_2&#39;, &#39;mass_1_source&#39;, &#39;mass_2_source&#39;, &#39;zs&#39;, &#39;luminosity_distance&#39;, &#39;theta_jn&#39;, &#39;psi&#39;, &#39;phase&#39;, &#39;geocent_time&#39;, &#39;ra&#39;, &#39;dec&#39;, &#39;a_1&#39;, &#39;a_2&#39;, &#39;tilt_1&#39;, &#39;tilt_2&#39;, &#39;phi_12&#39;, &#39;phi_jl&#39;]</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; params = cbc.gw_parameters(size=1000)</span>
<span class="sd">        &gt;&gt;&gt; print(&quot;sampled parameters=&quot;,list(params.keys()))</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># check for input parameters</span>
        <span class="c1"># allow some of the parameters to be fixed </span>
        <span class="k">if</span> <span class="n">param</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">param</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># empty</span>
            <span class="n">param_keys</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>  <span class="c1"># empty</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">param_keys</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

        <span class="c1"># sample parameters</span>
        <span class="n">param_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">del</span> <span class="n">param_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># remove merger_rate_density</span>

        <span class="n">gw_parameters</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># initialize dictionary to store parameters</span>
        <span class="k">for</span> <span class="n">sampler_name</span> <span class="ow">in</span> <span class="n">param_names</span><span class="p">:</span>
            <span class="c1"># print(name)</span>
            <span class="k">if</span> <span class="n">sampler_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">param_keys</span><span class="p">:</span>
                <span class="c1"># Sample the parameter using the specified sampler function</span>
                <span class="c1"># try:</span>
                <span class="n">gw_parameters</span><span class="p">[</span><span class="n">sampler_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">sampler_name</span><span class="p">))(</span><span class="n">size</span><span class="p">)</span>
                <span class="c1"># except:</span>
                <span class="c1">#     raise Exception(f&quot;Sampler {sampler_name} is not defined.&quot;)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Use the provided value from kwargs</span>
                <span class="n">gw_parameters</span><span class="p">[</span><span class="n">sampler_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="p">[</span><span class="n">sampler_name</span><span class="p">]</span>

        <span class="c1"># calculate luminosity distance</span>
        <span class="n">zs</span> <span class="o">=</span> <span class="n">gw_parameters</span><span class="p">[</span><span class="s2">&quot;zs&quot;</span><span class="p">]</span>
        <span class="n">gw_parameters</span><span class="p">[</span><span class="s2">&quot;luminosity_distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">luminosity_distance</span><span class="p">(</span><span class="n">zs</span><span class="p">)</span>  <span class="c1"># Mpc</span>
        
        <span class="c1"># mass1 and mass2</span>
        <span class="n">m1</span><span class="p">,</span> <span class="n">m2</span> <span class="o">=</span> <span class="n">gw_parameters</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">]</span>  <span class="c1"># Msun</span>
        <span class="c1"># exchange m1 and m2 if m1 &lt; m2 in the fastest way</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">m1</span> <span class="o">&lt;</span> <span class="n">m2</span>
        <span class="n">m1</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">m2</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">m2</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">m1</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="n">gw_parameters</span><span class="p">[</span><span class="s2">&quot;mass_1_source&quot;</span><span class="p">],</span> <span class="n">gw_parameters</span><span class="p">[</span><span class="s2">&quot;mass_2_source&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m1</span><span class="p">,</span> <span class="n">m2</span>
        <span class="n">gw_parameters</span><span class="p">[</span><span class="s2">&quot;mass_1&quot;</span><span class="p">],</span> <span class="n">gw_parameters</span><span class="p">[</span><span class="s2">&quot;mass_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m1</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">zs</span><span class="p">),</span> <span class="n">m2</span> <span class="o">*</span> <span class="p">(</span>
            <span class="mi">1</span> <span class="o">+</span> <span class="n">zs</span>
        <span class="p">)</span>  <span class="c1"># Msun</span>
        <span class="k">del</span> <span class="n">gw_parameters</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">gw_parameters</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.binary_masses_BBH_popI_II_powerlaw_gaussian">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.binary_masses_BBH_popI_II_powerlaw_gaussian">[docs]</a>
    <span class="k">def</span> <span class="nf">binary_masses_BBH_popI_II_powerlaw_gaussian</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">size</span><span class="p">,</span>
        <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample source mass1 and mass2 with PowerLaw+PEAK model</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        mminbh : `float`</span>
<span class="sd">            Minimum mass of the black hole (Msun)</span>
<span class="sd">            default: 4.98</span>
<span class="sd">        mmaxbh : `float`</span>
<span class="sd">            Maximum mass of the black hole (Msun)</span>
<span class="sd">            default: 86.22</span>
<span class="sd">        alpha : `float`</span>
<span class="sd">            Spectral index for the powerlaw of the primary mass distribution</span>
<span class="sd">            default: 2.63</span>
<span class="sd">        mu_g : `float`</span>
<span class="sd">            Mean of the Gaussian component in the primary mass distribution</span>
<span class="sd">            default: 33.07</span>
<span class="sd">        sigma_g : `float`</span>
<span class="sd">            Width of the Gaussian component in the primary mass distribution</span>
<span class="sd">            default: 5.69</span>
<span class="sd">        lambda_peak : `float`</span>
<span class="sd">            Fraction of the model in the Gaussian component</span>
<span class="sd">            default: 0.10</span>
<span class="sd">        delta_m : `float`</span>
<span class="sd">            Range of mass tapering on the lower end of the mass distribution</span>
<span class="sd">            default: 4.82</span>
<span class="sd">        beta : `float`</span>
<span class="sd">            Spectral index for the powerlaw of the mass ratio distribution</span>
<span class="sd">        param : `dict`</span>
<span class="sd">            Allows to pass in above parameters as dict.</span>
<span class="sd">            e.g. param = dict(mminbh=4.98, mmaxbh=86.22, alpha=2.63, mu_g=33.07, sigma_g=5.69, lambda_peak=0.10, delta_m=4.82, beta=1.26)</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        mass_1_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass1 in source frame (Msun)</span>
<span class="sd">        mass_2_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass2 in source frame (Msun)</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; m1_src, m2_src = cbc.binary_masses_BBH_popI_II_powerlaw_gaussian(size=1000)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;binary_masses_BBH_popI_II_powerlaw_gaussian&quot;</span><span class="p">}</span>
        <span class="n">param_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;binary_masses_BBH_popI_II_powerlaw_gaussian&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">param_dict</span><span class="p">:</span>
            <span class="n">param_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">param_dict</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">param_dict</span><span class="p">)</span>


        <span class="c1"># mass function</span>
        <span class="n">rvs_</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="n">sample_powerlaw_gaussian_source_bbh_masses</span><span class="p">(</span>
            <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
            <span class="n">mminbh</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mminbh&quot;</span><span class="p">],</span>
            <span class="n">mmaxbh</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mmaxbh&quot;</span><span class="p">],</span>
            <span class="n">alpha</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">],</span>
            <span class="n">mu_g</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mu_g&quot;</span><span class="p">],</span>
            <span class="n">sigma_g</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;sigma_g&#39;</span><span class="p">],</span>
            <span class="n">lambda_peak</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;lambda_peak&#39;</span><span class="p">],</span>
            <span class="n">delta_m</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;delta_m&#39;</span><span class="p">],</span>
            <span class="n">beta</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;beta&#39;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">mass_object</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">param_dict_given</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">,</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span>
            <span class="n">sub_directory</span><span class="o">=</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
            <span class="n">create_new</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_new_interpolator</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;create_new&quot;</span><span class="p">],</span>
            <span class="n">create_function_inverse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_function</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="n">rvs_</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">mass_object</span> <span class="k">if</span> <span class="n">get_attribute</span> <span class="k">else</span> <span class="n">mass_object</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.binary_masses_BBH_popIII_lognormal">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.binary_masses_BBH_popIII_lognormal">[docs]</a>
    <span class="k">def</span> <span class="nf">binary_masses_BBH_popIII_lognormal</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">size</span><span class="p">,</span>
        <span class="c1"># m_min=5.0,</span>
        <span class="c1"># m_max=150.0,</span>
        <span class="c1"># Mc=30.0,</span>
        <span class="c1"># sigma=0.3,</span>
        <span class="c1"># chunk_size=10000,</span>
        <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample source mass1 and mass2 with pop III origin. Refer to Eqn. 1 and 4 of Ng et al. 2022</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        m_min : `float`</span>
<span class="sd">            Minimum mass of the black hole (popIII) (Msun)</span>
<span class="sd">            default: 10.</span>
<span class="sd">        m_max : `float`</span>
<span class="sd">            Maximum mass of the black hole (popIII) (Msun)</span>
<span class="sd">            default: 100.</span>
<span class="sd">        Mc    : `float`</span>
<span class="sd">            Mass scale; the distribution is centered around Mc</span>
<span class="sd">            default: 30.0</span>
<span class="sd">        sigma : `float`</span>
<span class="sd">            Width of the distribution</span>
<span class="sd">            default: 0.3</span>
<span class="sd">        param : `dict`</span>
<span class="sd">            Allows to pass in above parameters as dict.</span>
<span class="sd">            e.g. param = dict(m_min=10., m_max=100., Mc=30.0, sigma=0.3)</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        mass_1_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass1 in source frame (Msun)</span>
<span class="sd">        mass_2_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass2 in source frame (Msun)</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; m1_src, m2_src = cbc.binary_masses_BBH_popIII_lognormal(size=1000)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;binary_masses_BBH_popIII_lognormal&quot;</span><span class="p">}</span>
        <span class="n">param_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;binary_masses_BBH_popIII_lognormal&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">param_dict</span><span class="p">:</span>
            <span class="n">param_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">param_dict</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">param_dict</span><span class="p">)</span>

        <span class="n">rvs_</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="n">lognormal_distribution_2D</span><span class="p">(</span>
            <span class="n">size</span><span class="p">,</span>
            <span class="n">m_min</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;m_min&quot;</span><span class="p">],</span>
            <span class="n">m_max</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;m_max&quot;</span><span class="p">],</span>
            <span class="n">Mc</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;Mc&quot;</span><span class="p">],</span>
            <span class="n">sigma</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;sigma&quot;</span><span class="p">],</span>
            <span class="n">chunk_size</span><span class="o">=</span><span class="n">chunk_size</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">mass_object</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">param_dict_given</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">,</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span>
            <span class="n">sub_directory</span><span class="o">=</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
            <span class="n">create_new</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_new_interpolator</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;create_new&quot;</span><span class="p">],</span>
            <span class="n">create_function_inverse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_function</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="n">rvs_</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">mass_object</span> <span class="k">if</span> <span class="n">get_attribute</span> <span class="k">else</span> <span class="n">mass_object</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.binary_masses_BBH_primordial_lognormal">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.binary_masses_BBH_primordial_lognormal">[docs]</a>
    <span class="k">def</span> <span class="nf">binary_masses_BBH_primordial_lognormal</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">size</span><span class="p">,</span>
        <span class="c1"># m_min=1.0,</span>
        <span class="c1"># m_max=100.0,</span>
        <span class="c1"># Mc=20.0,</span>
        <span class="c1"># sigma=0.3,</span>
        <span class="c1"># chunk_size=10000,</span>
        <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample source mass1 and mass2 with primordial origin. Refer to Eqn. 1 and 4 of Ng et al. 2022</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        m_min : `float`</span>
<span class="sd">            Minimum mass of the black hole (primordial) (Msun)</span>
<span class="sd">            default: 10.</span>
<span class="sd">        m_max : `float`</span>
<span class="sd">            Maximum mass of the black hole (primordial) (Msun)</span>
<span class="sd">            default: 100.</span>
<span class="sd">        Mc, sigma : `float`</span>
<span class="sd">            Fitting parameters</span>
<span class="sd">            default: Mc=30.0, sigma=0.3</span>
<span class="sd">        param : `dict`</span>
<span class="sd">            Allows to pass in above parameters as dict.</span>
<span class="sd">            e.g. param = dict(m_min=10., m_max=100., Mc=30.0, sigma=0.3)</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        mass_1_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass1 in source frame (Msun)</span>
<span class="sd">        mass_2_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass2 in source frame (Msun)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;binary_masses_BBH_primordial_lognormal&quot;</span><span class="p">}</span>    
        <span class="n">param_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;binary_masses_BBH_primordial_lognormal&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">param_dict</span><span class="p">:</span>
            <span class="n">param_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">param_dict</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">param_dict</span><span class="p">)</span>

        <span class="n">rvs_</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="n">lognormal_distribution_2D</span><span class="p">(</span>
            <span class="n">size</span><span class="p">,</span>
            <span class="n">m_min</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;m_min&quot;</span><span class="p">],</span>
            <span class="n">m_max</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;m_max&quot;</span><span class="p">],</span>
            <span class="n">Mc</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;Mc&quot;</span><span class="p">],</span>
            <span class="n">sigma</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;sigma&quot;</span><span class="p">],</span>
            <span class="n">chunk_size</span><span class="o">=</span><span class="n">chunk_size</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">mass_object</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">param_dict_given</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">,</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span>
            <span class="n">sub_directory</span><span class="o">=</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
            <span class="n">create_new</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_new_interpolator</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;create_new&quot;</span><span class="p">],</span>
            <span class="n">create_function_inverse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_function</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="n">rvs_</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">mass_object</span> <span class="k">if</span> <span class="n">get_attribute</span> <span class="k">else</span> <span class="n">mass_object</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


    <span class="c1"># def binary_masses_BNS_gwcosmo(</span>
    <span class="c1">#     self, size, get_attribute=False, **kwargs</span>
    <span class="c1"># ):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Function to calculate source mass1 and mass2 of BNS from powerlaw distribution (gwcosmo)</span>

    <span class="c1">#     Parameters</span>
    <span class="c1">#     ----------</span>
    <span class="c1">#     size : `int`</span>
    <span class="c1">#         Number of samples to draw</span>
    <span class="c1">#     mminns : `float`</span>
    <span class="c1">#         Minimum mass of the BNS (Msun)</span>
    <span class="c1">#         default: 1.0</span>
    <span class="c1">#     mmaxns : `float`</span>
    <span class="c1">#         Maximum mass of the BNS (Msun)</span>
    <span class="c1">#         default: 3.0</span>
    <span class="c1">#     alphans : `float`</span>
    <span class="c1">#         Power law index</span>
    <span class="c1">#         default: 0.0</span>

    <span class="c1">#     Returns</span>
    <span class="c1">#     ----------</span>
    <span class="c1">#     mass_1_source : `numpy.ndarray` (1D array of floats)</span>
    <span class="c1">#         Array of mass1 in source frame (Msun)</span>
    <span class="c1">#     mass_2_source : `numpy.ndarray` (1D array of floats)</span>
    <span class="c1">#         Array of mass2 in source frame (Msun)</span>

    <span class="c1">#     Examples</span>
    <span class="c1">#     ----------</span>
    <span class="c1">#     &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
    <span class="c1">#     &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
    <span class="c1">#     &gt;&gt;&gt; m1_src, m2_src = cbc.binary_masses_BNS_gwcosmo(size=1000)</span>
    <span class="c1">#     &quot;&quot;&quot;</span>

    <span class="c1">#     # if param:</span>
    <span class="c1">#     #     mminns = param[&quot;mminns&quot;]</span>
    <span class="c1">#     #     mmaxns = param[&quot;mmaxns&quot;]</span>
    <span class="c1">#     #     alphans = param[&quot;alphans&quot;]</span>

    <span class="c1">#     identifier_dict = {&#39;name&#39;: &quot;binary_masses_BNS_gwcosmo&quot;}</span>
    <span class="c1">#     param_dict = self.available_gw_prior_list_and_its_params[&quot;source_frame_masses&quot;][&quot;binary_masses_BNS_gwcosmo&quot;].copy()</span>
    <span class="c1">#     if param_dict is not None:</span>
    <span class="c1">#         param_dict.update(kwargs)</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         param_dict = kwargs</span>
    <span class="c1">#     identifier_dict.update(param_dict)</span>

    <span class="c1">#     # mass function for BNS</span>
    <span class="c1">#     model = p.BNS(</span>
    <span class="c1">#         mminns=identifier_dict[&quot;mminns&quot;],</span>
    <span class="c1">#         mmaxns=identifier_dict[&quot;mmaxns&quot;],</span>
    <span class="c1">#         alphans=identifier_dict[&quot;alphans&quot;],</span>
    <span class="c1">#     )</span>
    <span class="c1">#     rvs_ = lambda size: model.sample(Nsample=size)</span>

    <span class="c1">#     mass_object = FunctionConditioning(</span>
    <span class="c1">#         function=None,</span>
    <span class="c1">#         x_array=None,</span>
    <span class="c1">#         identifier_dict=identifier_dict,</span>
    <span class="c1">#         directory=self.directory,</span>
    <span class="c1">#         sub_directory=&quot;source_frame_masses&quot;,</span>
    <span class="c1">#         name=identifier_dict[&#39;name&#39;],</span>
    <span class="c1">#         create_new=self.create_new_interpolator[&quot;source_frame_masses&quot;][&quot;create_new&quot;],</span>
    <span class="c1">#         create_function_inverse=False,</span>
    <span class="c1">#         create_function=False,</span>
    <span class="c1">#         create_pdf=False,</span>
    <span class="c1">#         create_rvs=rvs_,</span>
    <span class="c1">#         callback=&#39;rvs&#39;,</span>
    <span class="c1">#     )</span>

    <span class="c1">#     return mass_object if get_attribute else mass_object(size)</span>
        
<div class="viewcode-block" id="CBCSourceParameterDistribution.binary_masses_NSBH_broken_powerlaw">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.binary_masses_NSBH_broken_powerlaw">[docs]</a>
    <span class="k">def</span> <span class="nf">binary_masses_NSBH_broken_powerlaw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to calculate source mass1 and mass2 of NSBH from powerlaw distribution (gwcosmo). Parameters are mminbh=26,mmaxbh=125,alpha_1=6.75,alpha_2=6.75,b=0.5,delta_m=5,mminns=1.0,mmaxns=3.0,alphans=0.0.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        mminbh : `float`</span>
<span class="sd">            Minimum mass of the black hole (Msun)</span>
<span class="sd">            default: 26</span>
<span class="sd">        mmaxbh : `float`</span>
<span class="sd">            Maximum mass of the black hole (Msun)</span>
<span class="sd">            default: 125</span>
<span class="sd">        alpha_1 : `float`</span>
<span class="sd">            Power law index for the primary mass distribution</span>
<span class="sd">            default: 6.75</span>
<span class="sd">        alpha_2 : `float`</span>
<span class="sd">            Power law index for the secondary mass distribution</span>
<span class="sd">            default: 6.75</span>
<span class="sd">        b : `float`</span>
<span class="sd">            Break point of the power law</span>
<span class="sd">            default: 0.5</span>
<span class="sd">        delta_m : `float`</span>
<span class="sd">            Range of mass tapering on</span>
<span class="sd">            default: 5</span>
<span class="sd">        mminns : `float`</span>
<span class="sd">            Minimum mass of the neutron star (Msun)</span>
<span class="sd">            default: 1.0</span>
<span class="sd">        mmaxns : `float`</span>
<span class="sd">            Maximum mass of the neutron star (Msun)</span>
<span class="sd">            default: 3.0</span>
<span class="sd">        alphans : `float`</span>
<span class="sd">            Power law index for the neutron star mass distribution</span>
<span class="sd">            default: 0.0</span>
<span class="sd">        get_attribute : `bool`</span>
<span class="sd">            If True, return a sampler function with size as the only input where parameters are fixed to the given values.</span>
<span class="sd">        param : `dict`</span>
<span class="sd">            Allows to pass in above parameters as dict.</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        mass_1_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass1 in source frame (Msun)</span>
<span class="sd">        mass_2_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass2 in source frame (Msun)</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; m1_src, m2_src = cbc.binary_masses_NSBH_broken_powerlaw(size=1000)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;binary_masses_NSBH_broken_powerlaw&quot;</span><span class="p">}</span>
        <span class="n">param_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;binary_masses_NSBH_broken_powerlaw&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">param_dict</span><span class="p">:</span>
            <span class="n">param_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">param_dict</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">param_dict</span><span class="p">)</span>

        <span class="c1"># mass function for NSBH</span>
        <span class="n">rvs_</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="n">sample_broken_powerlaw_nsbh_masses</span><span class="p">(</span>
            <span class="n">Nsample</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
            <span class="n">mminbh</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mminbh&quot;</span><span class="p">],</span>
            <span class="n">mmaxbh</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mmaxbh&quot;</span><span class="p">],</span>
            <span class="n">alpha_1</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;alpha_1&quot;</span><span class="p">],</span>
            <span class="n">alpha_2</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;alpha_2&quot;</span><span class="p">],</span>
            <span class="n">b</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">],</span>
            <span class="n">delta_m</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;delta_m&quot;</span><span class="p">],</span>
            <span class="n">mminns</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mminns&quot;</span><span class="p">],</span>
            <span class="n">mmaxns</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mmaxns&quot;</span><span class="p">],</span>
            <span class="n">alphans</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;alphans&quot;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">mass_object</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">param_dict_given</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">,</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span>
            <span class="n">sub_directory</span><span class="o">=</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
            <span class="n">create_new</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_new_interpolator</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;create_new&quot;</span><span class="p">],</span>
            <span class="n">create_function_inverse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_function</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="n">rvs_</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">mass_object</span> <span class="k">if</span> <span class="n">get_attribute</span> <span class="k">else</span> <span class="n">mass_object</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.binary_masses_uniform">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.binary_masses_uniform">[docs]</a>
    <span class="k">def</span> <span class="nf">binary_masses_uniform</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">size</span><span class="p">,</span>
        <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample source mass1 and mass2 from uniform distribution.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        m_min : `float`</span>
<span class="sd">            Minimum mass of the BNS</span>
<span class="sd">            default: 1.0</span>
<span class="sd">        m_max : `float`</span>
<span class="sd">            Maximum mass of the BNS</span>
<span class="sd">            default: 3.0</span>
<span class="sd">        get_attribute : `bool`</span>
<span class="sd">            If True, return a sampler function with size as the only input where parameters are fixed to the given values.</span>
<span class="sd">        param : `dict`</span>
<span class="sd">            Allows to pass in above parameters as dict.</span>
<span class="sd">            e.g. param = dict(m_min=1.0, m_max=3.0)</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        mass_1_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass1 in source frame (Msun)</span>
<span class="sd">        mass_2_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass2 in source frame (Msun)</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; m1_src, m2_src = cbc.binary_masses_uniform(size=1000)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;binary_masses_uniform&quot;</span><span class="p">}</span>
        <span class="n">param_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;binary_masses_uniform&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">param_dict</span><span class="p">:</span>
            <span class="n">param_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">param_dict</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">param_dict</span><span class="p">)</span>

        <span class="n">m_min</span> <span class="o">=</span> <span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;m_min&quot;</span><span class="p">]</span>
        <span class="n">m_max</span> <span class="o">=</span> <span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;m_max&quot;</span><span class="p">]</span>
        <span class="n">rvs_</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">m_min</span><span class="p">,</span> <span class="n">m_max</span><span class="p">,</span> <span class="n">size</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">m_min</span><span class="p">,</span> <span class="n">m_max</span><span class="p">,</span> <span class="n">size</span><span class="p">)))</span>

        <span class="n">mass_object</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">param_dict_given</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">,</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span>
            <span class="n">sub_directory</span><span class="o">=</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
            <span class="n">create_new</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_new_interpolator</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;create_new&quot;</span><span class="p">],</span>
            <span class="n">create_function_inverse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_function</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="n">rvs_</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">mass_object</span> <span class="k">if</span> <span class="n">get_attribute</span> <span class="k">else</span> <span class="n">mass_object</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.binary_masses_BNS_bimodal">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.binary_masses_BNS_bimodal">[docs]</a>
    <span class="k">def</span> <span class="nf">binary_masses_BNS_bimodal</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">size</span><span class="p">,</span>
        <span class="c1"># w=0.643,</span>
        <span class="c1"># muL=1.352,</span>
        <span class="c1"># sigmaL=0.08,</span>
        <span class="c1"># muR=1.88,</span>
        <span class="c1"># sigmaR=0.3,</span>
        <span class="c1"># mmin=1.0,</span>
        <span class="c1"># mmax=2.3,</span>
        <span class="c1"># resolution=500,</span>
        <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample source mass1 and mass2 from bimodal distribution. Refer to Will M. Farr et al. 2020 Eqn. 6, https://arxiv.org/pdf/2005.00032.pdf .</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        w : `float`</span>
<span class="sd">            Weight of the left peak</span>
<span class="sd">            default: 0.643</span>
<span class="sd">        muL : `float`</span>
<span class="sd">            Mean of the left peak</span>
<span class="sd">            default: 1.352</span>
<span class="sd">        sigmaL : `float`</span>
<span class="sd">            Width of the left peak</span>
<span class="sd">            default: 0.08</span>
<span class="sd">        muR : `float`</span>
<span class="sd">            Mean of the right peak</span>
<span class="sd">            default: 1.88</span>
<span class="sd">        sigmaR : `float`</span>
<span class="sd">            Width of the right peak</span>
<span class="sd">            default: 0.3</span>
<span class="sd">        mmin : `float`</span>
<span class="sd">            Minimum mass of the BNS</span>
<span class="sd">            default: 1.0</span>
<span class="sd">        mmax : `float`</span>
<span class="sd">            Maximum mass of the BNS</span>
<span class="sd">            default: 2.3</span>
<span class="sd">        resolution : `int`</span>
<span class="sd">            Number of points to sample</span>
<span class="sd">            default: 500</span>
<span class="sd">        create_new : `bool`</span>
<span class="sd">            If True, create new interpolator</span>
<span class="sd">            default: False</span>
<span class="sd">        get_attribute : `bool`</span>
<span class="sd">            If True, return a sampler function with size as the only input where parameters are fixed to the given values.</span>
<span class="sd">        param : `dict`</span>
<span class="sd">            Allows to pass in above parameters as dict.</span>
<span class="sd">            e.g. param = dict(w=0.643, muL=1.352, sigmaL=0.08, muR=1.88, sigmaR=0.3, mmin=1.0, mmax=2.3, resolution=500)</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        mass_1_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass1 in source frame (Msun)</span>
<span class="sd">        mass_2_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass2 in source frame (Msun)</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; m1_src, m2_src = cbc.binary_masses_BNS_bimodal(size=1000)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;binary_masses_BNS_bimodal&quot;</span><span class="p">}</span>
        <span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;resolution&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_new_interpolator</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;resolution&quot;</span><span class="p">]</span>
        <span class="n">param_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;binary_masses_BNS_bimodal&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">param_dict</span><span class="p">:</span>
            <span class="n">param_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">param_dict</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">param_dict</span><span class="p">)</span>

        <span class="c1"># mass function for BNS</span>
        <span class="n">mass</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mmin&quot;</span><span class="p">],</span> <span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mmax&quot;</span><span class="p">],</span> <span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;resolution&quot;</span><span class="p">])</span> 
        <span class="n">model</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">mass</span><span class="p">:</span> <span class="n">bns_bimodal_pdf</span><span class="p">(</span>
            <span class="n">mass</span><span class="p">,</span>
            <span class="n">w</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;w&quot;</span><span class="p">],</span>
            <span class="n">muL</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;muL&quot;</span><span class="p">],</span>
            <span class="n">sigmaL</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;sigmaL&quot;</span><span class="p">],</span>
            <span class="n">muR</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;muR&quot;</span><span class="p">],</span>
            <span class="n">sigmaR</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;sigmaR&quot;</span><span class="p">],</span>
            <span class="n">mmin</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mmin&quot;</span><span class="p">],</span>
            <span class="n">mmax</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;mmax&quot;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">mass_object</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">function</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">x_array</span><span class="o">=</span><span class="n">mass</span><span class="p">,</span>
            <span class="n">param_dict_given</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">,</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span>
            <span class="n">sub_directory</span><span class="o">=</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
            <span class="n">create_new</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_new_interpolator</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">][</span><span class="s2">&quot;create_new&quot;</span><span class="p">],</span>
            <span class="n">create_function_inverse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">create_function</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">cdf_values</span> <span class="o">=</span> <span class="n">mass_object</span><span class="o">.</span><span class="n">cdf_values</span>
        <span class="n">x_array</span> <span class="o">=</span> <span class="n">mass_object</span><span class="o">.</span><span class="n">x_array</span>

        <span class="n">mass_object</span><span class="o">.</span><span class="n">rvs</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="n">inverse_transform_sampler_m1m2</span><span class="p">(</span>
            <span class="n">size</span><span class="p">,</span> 
            <span class="n">cdf_values</span><span class="p">,</span> 
            <span class="n">x_array</span><span class="p">,)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">get_attribute</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mass_object</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mass_object</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.constant_values_n_size">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.constant_values_n_size">[docs]</a>
    <span class="k">def</span> <span class="nf">constant_values_n_size</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample constant values of size n.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        get_attribute : `bool`</span>
<span class="sd">            If True, return the njitted sampler function with size as the only input where parameters are fixed to the given values.</span>
<span class="sd">        kwargs : `keyword arguments`</span>
<span class="sd">            Additional parameters to pass to the function</span>


<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        values : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of constant values</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; value = cbc.constant_values_n_size(size=1000)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># if param:</span>
        <span class="c1">#     value = param[&quot;value&quot;]</span>
        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;constant_values_n_size&quot;</span><span class="p">}</span>
        <span class="n">param_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="n">param_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">param_dict</span><span class="p">)</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">identifier_dict</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="c1"># pdf_, zero everywhere except at value</span>
        <span class="n">pdf_</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">value</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
        <span class="c1"># rvs_, return value</span>
        <span class="n">rvs_</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">size</span><span class="p">)</span> <span class="o">*</span> <span class="n">value</span><span class="p">)</span>

        <span class="n">object_</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="n">pdf_</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="n">rvs_</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">get_attribute</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">object_</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">object_</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.sampler_uniform">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.sampler_uniform">[docs]</a>
    <span class="k">def</span> <span class="nf">sampler_uniform</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample values from uniform distribution.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        get_attribute : `bool`</span>
<span class="sd">            If True, return the njitted sampler function with size as the only input where parameters are fixed to the given values.</span>
<span class="sd">        param : `dict`</span>
<span class="sd">            Allows to pass in above parameters as dict.</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        values : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of uniformly distributed values in the range of [min_, max_]</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; value = cbc.sampler_uniform(size=1000)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;sampler_uniform&quot;</span><span class="p">}</span>
        <span class="n">param_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="n">param_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">param_dict</span><span class="p">)</span>

        <span class="n">xmin</span> <span class="o">=</span> <span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;xmin&#39;</span><span class="p">]</span>
        <span class="n">xmax</span> <span class="o">=</span> <span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;xmax&#39;</span><span class="p">]</span>

        <span class="n">pdf_</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
        <span class="n">rvs_</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">))</span>

        <span class="n">object_</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">param_dict_given</span><span class="o">=</span><span class="n">identifier_dict</span><span class="p">,</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="n">pdf_</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="n">rvs_</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">get_attribute</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">object_</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">object_</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.sampler_cosine">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.sampler_cosine">[docs]</a>
    <span class="k">def</span> <span class="nf">sampler_cosine</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample from sine distribution at the limit of [-np.pi/2, np.pi/2]</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        get_attribute : `bool`</span>
<span class="sd">            If True, return the njitted sampler function with size as the only input where parameters are fixed to the given values.</span>
<span class="sd">        param : None</span>
<span class="sd">            This parameter is not used. It is only here to make the function signature consistent with other samplers.</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        sine : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of values in the range of [-np.pi/2, np.pi/2]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_cosine&quot;</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">pdf_</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">rvs_</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span>

        <span class="n">object_</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="n">pdf_</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="n">rvs_</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">get_attribute</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">object_</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">object_</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


<div class="viewcode-block" id="CBCSourceParameterDistribution.sampler_sine">
<a class="viewcode-back" href="../../../autoapi/ler/rates/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.sampler_sine">[docs]</a>
    <span class="k">def</span> <span class="nf">sampler_sine</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample from sine distribution at the limit of [0, np.pi]</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        get_attribute : `bool`</span>
<span class="sd">            If True, return the njitted sampler function with size as the only input where parameters are fixed to the given values.</span>
<span class="sd">        param : None</span>
<span class="sd">            This parameter is not used. It is only here to make the function signature consistent with other samplers.</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        sine : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of values in the range of [0, np.pi]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">identifier_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">identifier_dict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sampler_sine&quot;</span>
        <span class="n">identifier_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">pdf_</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">rvs_</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="k">lambda</span> <span class="n">size</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arccos</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>

        <span class="n">object_</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span>
            <span class="n">create_pdf</span><span class="o">=</span><span class="n">pdf_</span><span class="p">,</span>
            <span class="n">create_rvs</span><span class="o">=</span><span class="n">rvs_</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="s1">&#39;rvs&#39;</span><span class="p">,</span>
        <span class="p">)</span>   

        <span class="k">if</span> <span class="n">get_attribute</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">object_</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">object_</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></div>


    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.source_frame_masses">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.source_frame_masses">[docs]</a>
    <span class="k">def</span> <span class="nf">source_frame_masses</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample source frame masses (mass1_source, mass2_source) with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        mass_1_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass1 in source frame</span>
<span class="sd">        mass_2_source : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of mass2 in source frame</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source_frame_masses</span></div>


    <span class="nd">@source_frame_masses</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">source_frame_masses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available source_frame_masses function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;source_frame_masses&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_source_frame_masses</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># follwing should return a sampler function with only one argument (size)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_source_frame_masses</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user defined custom source_frame_masses function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_source_frame_masses</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user defined custom source_frame_masses class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_source_frame_masses</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;source_frame_masses prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span>
            <span class="p">)</span>
        
    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.zs">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.zs">[docs]</a>
    <span class="k">def</span> <span class="nf">zs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample source redshift with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        zs : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of source redshift</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zs</span></div>

    
    <span class="nd">@zs</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">zs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;zs&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available zs function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_zs</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user defined custom zs function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_zs</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user defined custom zs class/object&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;zs prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.geocent_time">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.geocent_time">[docs]</a>
    <span class="k">def</span> <span class="nf">geocent_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample geocent time with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        geocent_time : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of geocent_time or time of coalescence</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geocent_time</span></div>


    <span class="nd">@geocent_time</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">geocent_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;geocent_time&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available geocent_time function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;geocent_time&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_geocent_time</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># follwing should return a sampler function with only one argument (size)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_geocent_time</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user defined custom geocent_time function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_geocent_time</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user defined custom geocent_time class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_geocent_time</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;geocent_time prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.ra">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.ra">[docs]</a>
    <span class="k">def</span> <span class="nf">ra</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample right ascension of sky position with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        ra : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of right ascension of sky position</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ra</span></div>


    <span class="nd">@ra</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">ra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;ra&quot;</span><span class="p">]:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;ra&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_ra</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span><span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># follwing should return a sampler function with only one argument (size)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_ra</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span><span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user defined custom ra function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ra</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user defined custom ra class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ra</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;ra prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.dec">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.dec">[docs]</a>
    <span class="k">def</span> <span class="nf">dec</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample declination of sky position with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        dec : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of declination of sky position</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dec</span></div>


    <span class="nd">@dec</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">dec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;dec&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available dec function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;dec&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_dec</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span><span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># follwing should return a sampler function with only one argument (size)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_dec</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span><span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom dec function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_dec</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom dec class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_dec</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;dec prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.phase">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.phase">[docs]</a>
    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample coalescence phase with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        phase : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of coalescence phase</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_phase</span></div>


    <span class="nd">@phase</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available phase function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_phase</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span><span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># follwing should return a sampler function with only one argument (size)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_phase</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span><span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom phase function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phase</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom phase class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phase</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;phase prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.psi">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.psi">[docs]</a>
    <span class="k">def</span> <span class="nf">psi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample polarization angle with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        psi : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of polarization angle</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psi</span></div>


    <span class="nd">@psi</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">psi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;psi&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available psi function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;psi&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_psi</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span><span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># follwing should return a sampler function with only one argument (size)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_psi</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span><span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom psi function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_psi</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom psi class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_psi</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;psi prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.theta_jn">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.theta_jn">[docs]</a>
    <span class="k">def</span> <span class="nf">theta_jn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample theta_jn with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        theta_jn : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of theta_jn</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_theta_jn</span></div>


    <span class="nd">@theta_jn</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">theta_jn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;theta_jn&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available theta_jn function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;theta_jn&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_theta_jn</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># follwing should return a sampler function with only one argument (size)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_theta_jn</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom theta_jn function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_theta_jn</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom theta_jn class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_theta_jn</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;theta_jn prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.a_1">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.a_1">[docs]</a>
    <span class="k">def</span> <span class="nf">a_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample spin magnitude of the compact binaries (body1) with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        a_1 : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of spin magnitude of the compact binaries (body1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_a_1</span></div>


    <span class="nd">@a_1</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">a_1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;a_1&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available a_1 function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;a_1&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_a_1</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># follwing should return a sampler function with only one argument (size)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_a_1</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom a_1 function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_a_1</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom a_1 class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_a_1</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;a_1 prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.a_2">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.a_2">[docs]</a>
    <span class="k">def</span> <span class="nf">a_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample spin magnitude of the compact binaries (body2) with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        a_2 : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of spin magnitude of the compact binaries (body2)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_a_2</span></div>


    <span class="nd">@a_2</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">a_2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;a_2&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available a_2 function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;a_2&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_a_2</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># follwing should return a sampler function with only one argument (size)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_a_2</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom a_2 function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_a_2</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom a_2 class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_a_2</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;a_2 prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.tilt_1">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.tilt_1">[docs]</a>
    <span class="k">def</span> <span class="nf">tilt_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample tilt angle of the compact binaries (body1) with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        tilt_1 : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of tilt angle of the compact binaries (body1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_1</span></div>


    <span class="nd">@tilt_1</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">tilt_1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;tilt_1&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available tilt_1 function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;tilt_1&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_1</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_1</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom tilt_1 function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_1</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom tilt_1 class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_1</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;tilt_1 prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.tilt_2">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.tilt_2">[docs]</a>
    <span class="k">def</span> <span class="nf">tilt_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample tilt angle of the compact binaries (body2) with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        tilt_2 : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of tilt angle of the compact binaries (body2)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_2</span></div>


    <span class="nd">@tilt_2</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">tilt_2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;tilt_2&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available tilt_2 function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;tilt_2&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_2</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_2</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom tilt_2 function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_2</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom tilt_2 class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tilt_2</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;tilt_2 prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span><span class="p">)</span>
        
    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.phi_12">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.phi_12">[docs]</a>
    <span class="k">def</span> <span class="nf">phi_12</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample azimuthal angle between the two spins with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        phi_12 : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of azimuthal angle between the two spins</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_phi_12</span></div>


    <span class="nd">@phi_12</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">phi_12</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;phi_12&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available phi_12 function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;phi_12&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_phi_12</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_phi_12</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom phi_12 function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phi_12</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom phi_12 class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phi_12</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;phi_12 prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.phi_jl">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.phi_jl">[docs]</a>
    <span class="k">def</span> <span class="nf">phi_jl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to sample azimuthal angle between the total angular momentum and the orbital angular momentum with the initialized prior.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        size : `int`</span>
<span class="sd">            Number of samples to draw</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        phi_jl : `numpy.ndarray` (1D array of floats)</span>
<span class="sd">            Array of azimuthal angle between the total angular momentum and the orbital angular momentum</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_phi_jl</span></div>


    <span class="nd">@phi_jl</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">phi_jl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">prior</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_gw_prior_list_and_its_params</span><span class="p">[</span><span class="s2">&quot;phi_jl&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;using ler available phi_jl function : </span><span class="si">{</span><span class="n">prior</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gw_param_samplers_params</span><span class="p">[</span><span class="s2">&quot;phi_jl&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_phi_jl</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_phi_jl</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prior</span><span class="p">)(</span>
                    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">prior</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom phi_jl function&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phi_jl</span> <span class="o">=</span> <span class="n">FunctionConditioning</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_array</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">create_rvs</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prior</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;using user provided custom phi_jl class/object&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_phi_jl</span> <span class="o">=</span> <span class="n">prior</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;phi_jl prior not available in available_gw_prior_list_and_its_params. Must be a string or a callable function.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="CBCSourceParameterDistribution.available_gw_prior_list_and_its_params">
<a class="viewcode-back" href="../../../autoapi/ler/gw_source_population/cbc_source_parameter_distribution/index.html#ler.gw_source_population.cbc_source_parameter_distribution.CBCSourceParameterDistribution.available_gw_prior_list_and_its_params">[docs]</a>
    <span class="k">def</span> <span class="nf">available_gw_prior_list_and_its_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Dictionary with list all the available priors and it&#39;s corresponding parameters. This is an immutable instance attribute.</span>

<span class="sd">        Examples</span>
<span class="sd">        ----------</span>
<span class="sd">        &gt;&gt;&gt; from ler.gw_source_population import CBCSourceParameterDistribution</span>
<span class="sd">        &gt;&gt;&gt; cbc = CBCSourceParameterDistribution()</span>
<span class="sd">        &gt;&gt;&gt; priors = cbc.available_gw_prior_list_and_its_params</span>
<span class="sd">        &gt;&gt;&gt; priors.keys()  # type of priors</span>
<span class="sd">        dict_keys([&#39;merger_rate_density&#39;, &#39;source_frame_masses&#39;, &#39;spin&#39;, &#39;geocent_time&#39;, &#39;ra&#39;, &#39;phase&#39;, &#39;psi&#39;, &#39;theta_jn&#39;])</span>
<span class="sd">        &gt;&gt;&gt; priors[&#39;source_frame_masses&#39;].keys()  # type of source_frame_masses priors</span>
<span class="sd">        dict_keys([&#39;binary_masses_BBH_popI_II_powerlaw_gaussian&#39;, &#39;binary_masses_BBH_popIII_lognormal&#39;, &#39;binary_masses_BBH_primordial_lognormal&#39;, &#39;binary_masses_BNS_bimodal&#39;])</span>
<span class="sd">        &gt;&gt;&gt; priors[&#39;source_frame_masses&#39;][&#39;binary_masses_BBH_popI_II_powerlaw_gaussian&#39;].keys()  # parameters of binary_masses_BBH_popI_II_powerlaw_gaussian</span>
<span class="sd">        dict_keys([&#39;mminbh&#39;, &#39;mmaxbh&#39;, &#39;alpha&#39;, &#39;mu_g&#39;, &#39;sigma_g&#39;, &#39;lambda_peak&#39;, &#39;delta_m&#39;, &#39;beta&#39;])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_available_gw_prior_list_and_its_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">merger_rate_density</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">merger_rate_density_model_list</span><span class="p">,</span>
            <span class="n">zs</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">source_redshift</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">source_frame_masses</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">binary_masses_BBH_popI_II_powerlaw_gaussian</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                    <span class="n">mminbh</span><span class="o">=</span><span class="mf">4.98</span><span class="p">,</span>
                    <span class="n">mmaxbh</span><span class="o">=</span><span class="mf">112.5</span><span class="p">,</span>
                    <span class="n">alpha</span><span class="o">=</span><span class="mf">3.78</span><span class="p">,</span>
                    <span class="n">mu_g</span><span class="o">=</span><span class="mf">32.27</span><span class="p">,</span>
                    <span class="n">sigma_g</span><span class="o">=</span><span class="mf">3.88</span><span class="p">,</span>
                    <span class="n">lambda_peak</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span>
                    <span class="n">delta_m</span><span class="o">=</span><span class="mf">4.8</span><span class="p">,</span>
                    <span class="n">beta</span><span class="o">=</span><span class="mf">0.81</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">binary_masses_BBH_popIII_lognormal</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">m_min</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">150.0</span><span class="p">,</span> <span class="n">Mc</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.3</span><span class="p">),</span>
                <span class="n">binary_masses_BBH_primordial_lognormal</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                    <span class="n">Mc</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">1.1</span>
                <span class="p">),</span>
                <span class="n">binary_masses_NSBH_broken_powerlaw</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                    <span class="n">mminbh</span><span class="o">=</span><span class="mi">26</span><span class="p">,</span>
                    <span class="n">mmaxbh</span><span class="o">=</span><span class="mi">125</span><span class="p">,</span>
                    <span class="n">alpha_1</span><span class="o">=</span><span class="mf">6.75</span><span class="p">,</span>
                    <span class="n">alpha_2</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">b</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                    <span class="n">delta_m</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                    <span class="n">mminns</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                    <span class="n">mmaxns</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span>
                    <span class="n">alphans</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">binary_masses_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">m_min</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">3.0</span><span class="p">),</span>
                <span class="n">binary_masses_BNS_bimodal</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                    <span class="n">w</span><span class="o">=</span><span class="mf">0.643</span><span class="p">,</span>
                    <span class="n">muL</span><span class="o">=</span><span class="mf">1.352</span><span class="p">,</span>
                    <span class="n">sigmaL</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span>
                    <span class="n">muR</span><span class="o">=</span><span class="mf">1.88</span><span class="p">,</span>
                    <span class="n">sigmaR</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                    <span class="n">mmin</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                    <span class="n">mmax</span><span class="o">=</span><span class="mf">2.3</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">),</span>
            <span class="n">a_1</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=-</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">spin_zero</span> <span class="k">else</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">a_2</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=-</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">spin_zero</span> <span class="k">else</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">tilt_1</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_sine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">tilt_2</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_sine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">phi_12</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">phi_jl</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">geocent_time</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                    <span class="n">xmin</span><span class="o">=</span><span class="mi">1238166018</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">1238166018</span> <span class="o">+</span> <span class="mf">31557600.0</span>
                <span class="p">),</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1238166018</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">ra</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">dec</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">sampler_cosine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">phase</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">psi</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">theta_jn</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="n">sampler_sine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">constant_values_n_size</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="n">sampler_uniform</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
            <span class="p">),</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_gw_prior_list_and_its_params</span></div>
</div>

</pre>
                            </div>

                        </div>
                    </div>
                    <footer>

                        <hr />

                        <div role="contentinfo">
                            <p>&#169; Copyright 2023, Phurailatpam Hemantakumar.</p>
                        </div>

                        Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
                        <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
                        provided by <a href="https://readthedocs.org">Read the Docs</a>.


                    </footer>
                </div>
            </div>
        </section>
    </div>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>

</html>