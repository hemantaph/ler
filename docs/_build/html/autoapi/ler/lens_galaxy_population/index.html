

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ler.lens_galaxy_population &mdash; ler 0.5.9 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/scalefix.css?v=242ac6f9" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=30f3526c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dark_mode_css/dark.css?v=70edf1c7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=9a3cda14"></script>
      <script src="../../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="../../../_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
      <script src="../../../_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ler.lens_galaxy_population.cross_section_interpolator" href="cross_section_interpolator/index.html" />
    <link rel="prev" title="ler.gw_source_population.sfr_with_time_delay" href="../gw_source_population/sfr_with_time_delay/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980b9" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            ler
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Summary.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../code_overview.html">Code overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analytical_formulation_unlensed.html">Analytical Formulation for Gravitational Wave Event Rates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analytical_formulation_lensed.html">Analytical Formulation for Lensed Gravitational Wave Event Rates</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../rates/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.rates</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../gw_source_population/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.gw_source_population</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cross_section_interpolator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.cross_section_interpolator</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="lens_functions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.lens_functions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="lens_galaxy_parameter_distribution/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.lens_galaxy_parameter_distribution</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="mp/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.mp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="optical_depth/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.optical_depth</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="sampler_functions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.sampler_functions</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#package-contents">Package Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#attributes">Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.OpticalDepth"><code class="docutils literal notranslate"><span class="pre">OpticalDepth</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution"><code class="docutils literal notranslate"><span class="pre">CBCSourceParameterDistribution</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.ImageProperties"><code class="docutils literal notranslate"><span class="pre">ImageProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.FunctionConditioning"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.redshift_optimal_spacing"><code class="docutils literal notranslate"><span class="pre">redshift_optimal_spacing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution"><code class="docutils literal notranslate"><span class="pre">LensGalaxyParameterDistribution</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.cubic_spline_interpolator"><code class="docutils literal notranslate"><span class="pre">cubic_spline_interpolator()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.inverse_transform_sampler"><code class="docutils literal notranslate"><span class="pre">inverse_transform_sampler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.cubic_spline_interpolator2d_array"><code class="docutils literal notranslate"><span class="pre">cubic_spline_interpolator2d_array()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.save_json"><code class="docutils literal notranslate"><span class="pre">save_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.load_json"><code class="docutils literal notranslate"><span class="pre">load_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.interpolator_json_path"><code class="docutils literal notranslate"><span class="pre">interpolator_json_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.inverse_transform_sampler2d"><code class="docutils literal notranslate"><span class="pre">inverse_transform_sampler2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.pdf_cubic_spline_interpolator2d_array"><code class="docutils literal notranslate"><span class="pre">pdf_cubic_spline_interpolator2d_array()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.normal_pdf"><code class="docutils literal notranslate"><span class="pre">normal_pdf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.normal_pdf_2d"><code class="docutils literal notranslate"><span class="pre">normal_pdf_2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.comoving_distance"><code class="docutils literal notranslate"><span class="pre">comoving_distance()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.angular_diameter_distance"><code class="docutils literal notranslate"><span class="pre">angular_diameter_distance()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.angular_diameter_distance_z1z2"><code class="docutils literal notranslate"><span class="pre">angular_diameter_distance_z1z2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.differential_comoving_volume"><code class="docutils literal notranslate"><span class="pre">differential_comoving_volume()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17"><code class="docutils literal notranslate"><span class="pre">redshift_optimal_spacing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.phi_cut_SIE"><code class="docutils literal notranslate"><span class="pre">phi_cut_SIE()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.phi_q2_ellipticity"><code class="docutils literal notranslate"><span class="pre">phi_q2_ellipticity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.cross_section"><code class="docutils literal notranslate"><span class="pre">cross_section()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.cross_section_mp"><code class="docutils literal notranslate"><span class="pre">cross_section_mp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18"><code class="docutils literal notranslate"><span class="pre">OpticalDepth</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id65"><code class="docutils literal notranslate"><span class="pre">cross_section()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.load_pickle"><code class="docutils literal notranslate"><span class="pre">load_pickle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.CS_UNIT_SLOPE"><code class="docutils literal notranslate"><span class="pre">CS_UNIT_SLOPE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.CS_UNIT_INTERCEPT"><code class="docutils literal notranslate"><span class="pre">CS_UNIT_INTERCEPT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_njit"><code class="docutils literal notranslate"><span class="pre">lens_redshift_strongly_lensed_njit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_mp"><code class="docutils literal notranslate"><span class="pre">lens_redshift_strongly_lensed_mp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.cross_section_unit_mp"><code class="docutils literal notranslate"><span class="pre">cross_section_unit_mp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id66"><code class="docutils literal notranslate"><span class="pre">cross_section_mp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.is_njitted"><code class="docutils literal notranslate"><span class="pre">is_njitted()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.save_pickle"><code class="docutils literal notranslate"><span class="pre">save_pickle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id67"><code class="docutils literal notranslate"><span class="pre">load_pickle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id68"><code class="docutils literal notranslate"><span class="pre">inverse_transform_sampler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id69"><code class="docutils literal notranslate"><span class="pre">redshift_optimal_spacing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.available_sampler_list"><code class="docutils literal notranslate"><span class="pre">available_sampler_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_pdf"><code class="docutils literal notranslate"><span class="pre">lens_redshift_strongly_lensed_sis_haris_pdf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_rvs"><code class="docutils literal notranslate"><span class="pre">lens_redshift_strongly_lensed_sis_haris_rvs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_ewoud_denisty_function"><code class="docutils literal notranslate"><span class="pre">velocity_dispersion_ewoud_denisty_function()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_bernardi_denisty_function"><code class="docutils literal notranslate"><span class="pre">velocity_dispersion_bernardi_denisty_function()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_gengamma_density_function"><code class="docutils literal notranslate"><span class="pre">velocity_dispersion_gengamma_density_function()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_gengamma_pdf"><code class="docutils literal notranslate"><span class="pre">velocity_dispersion_gengamma_pdf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_gengamma_rvs"><code class="docutils literal notranslate"><span class="pre">velocity_dispersion_gengamma_rvs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.axis_ratio_rayleigh_rvs"><code class="docutils literal notranslate"><span class="pre">axis_ratio_rayleigh_rvs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.axis_ratio_rayleigh_pdf"><code class="docutils literal notranslate"><span class="pre">axis_ratio_rayleigh_pdf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.axis_ratio_padilla_strauss_rvs"><code class="docutils literal notranslate"><span class="pre">axis_ratio_padilla_strauss_rvs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.axis_ratio_padilla_strauss_pdf"><code class="docutils literal notranslate"><span class="pre">axis_ratio_padilla_strauss_pdf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.bounded_normal_sample"><code class="docutils literal notranslate"><span class="pre">bounded_normal_sample()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.rejection_sampler"><code class="docutils literal notranslate"><span class="pre">rejection_sampler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.create_rejection_sampler"><code class="docutils literal notranslate"><span class="pre">create_rejection_sampler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.importance_sampler"><code class="docutils literal notranslate"><span class="pre">importance_sampler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.importance_sampler_mp"><code class="docutils literal notranslate"><span class="pre">importance_sampler_mp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.create_importance_sampler"><code class="docutils literal notranslate"><span class="pre">create_importance_sampler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id70"><code class="docutils literal notranslate"><span class="pre">phi_cut_SIE()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id71"><code class="docutils literal notranslate"><span class="pre">phi_q2_ellipticity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id72"><code class="docutils literal notranslate"><span class="pre">cross_section()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id73"><code class="docutils literal notranslate"><span class="pre">phi_q2_ellipticity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.C_LIGHT"><code class="docutils literal notranslate"><span class="pre">C_LIGHT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ler.lens_galaxy_population.make_cross_section_reinit"><code class="docutils literal notranslate"><span class="pre">make_cross_section_reinit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../image_properties/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.image_properties</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.utils</span></code></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/LeR_short_examples.html">LeR Short Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/GWRATES_complete_examples.html">GWRATES complete example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/LeR_custom_functions.html">LeR with Custom Functions and Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/LeR_advanced_sampling.html">LeR Advanced Sampling — Generating Detectable Events</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980b9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">ler</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/autoapi/ler/lens_galaxy_population/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-ler.lens_galaxy_population">
<span id="ler-lens-galaxy-population"></span><h1><a class="reference internal" href="#module-ler.lens_galaxy_population" title="ler.lens_galaxy_population"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population</span></code></a><a class="headerlink" href="#module-ler.lens_galaxy_population" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cross_section_interpolator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.cross_section_interpolator</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="lens_functions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.lens_functions</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="lens_galaxy_parameter_distribution/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.lens_galaxy_parameter_distribution</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="mp/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.mp</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="optical_depth/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.optical_depth</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="sampler_functions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.sampler_functions</span></code></a></li>
</ul>
</div>
</section>
<section id="package-contents">
<h2>Package Contents<a class="headerlink" href="#package-contents" title="Link to this heading"></a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#id18" title="ler.lens_galaxy_population.OpticalDepth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OpticalDepth</span></code></a></p></td>
<td><p>Class for computing optical depth and lens galaxy population parameters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution" title="ler.lens_galaxy_population.CBCSourceParameterDistribution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CBCSourceParameterDistribution</span></code></a></p></td>
<td><p>Class for sampling compact binary coalescence source parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.ImageProperties" title="ler.lens_galaxy_population.ImageProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageProperties</span></code></a></p></td>
<td><p>Class to compute image properties of strongly lensed gravitational wave events.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id0" title="ler.lens_galaxy_population.FunctionConditioning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution" title="ler.lens_galaxy_population.LensGalaxyParameterDistribution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LensGalaxyParameterDistribution</span></code></a></p></td>
<td><p>Sample lens galaxy parameters conditioned on strong lensing.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id0" title="ler.lens_galaxy_population.FunctionConditioning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id18" title="ler.lens_galaxy_population.OpticalDepth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OpticalDepth</span></code></a></p></td>
<td><p>Class for computing optical depth and lens galaxy population parameters.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#id69" title="ler.lens_galaxy_population.redshift_optimal_spacing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redshift_optimal_spacing</span></code></a>(z_min, z_max, resolution)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.cubic_spline_interpolator" title="ler.lens_galaxy_population.cubic_spline_interpolator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cubic_spline_interpolator</span></code></a>(xnew, coefficients, x)</p></td>
<td><p>Function to interpolate using cubic spline.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id68" title="ler.lens_galaxy_population.inverse_transform_sampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inverse_transform_sampler</span></code></a>(size, cdf, x)</p></td>
<td><p>Function to sample from the inverse transform method.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.cubic_spline_interpolator2d_array" title="ler.lens_galaxy_population.cubic_spline_interpolator2d_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cubic_spline_interpolator2d_array</span></code></a>(xnew_array, ...)</p></td>
<td><p>Function to calculate the interpolated value of snr_partialscaled given the mass ratio (ynew) and total mass (xnew). This is based off 2D bicubic spline interpolation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.save_json" title="ler.lens_galaxy_population.save_json"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_json</span></code></a>(file_name, param)</p></td>
<td><p>Save a dictionary as a json file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.load_json" title="ler.lens_galaxy_population.load_json"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_json</span></code></a>(file_name)</p></td>
<td><p>Load a json file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.interpolator_json_path" title="ler.lens_galaxy_population.interpolator_json_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolator_json_path</span></code></a>(identifier_dict, directory, ...)</p></td>
<td><p>Function to create the interpolator json file path.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.inverse_transform_sampler2d" title="ler.lens_galaxy_population.inverse_transform_sampler2d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inverse_transform_sampler2d</span></code></a>(size, conditioned_y, ...)</p></td>
<td><p>Function to find sampler interpolator coefficients from the conditioned y.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.pdf_cubic_spline_interpolator2d_array" title="ler.lens_galaxy_population.pdf_cubic_spline_interpolator2d_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pdf_cubic_spline_interpolator2d_array</span></code></a>(xnew_array, ...)</p></td>
<td><p>Function to calculate the interpolated value of snr_partialscaled given the mass ratio (ynew) and total mass (xnew). This is based off 2D bicubic spline interpolation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.normal_pdf" title="ler.lens_galaxy_population.normal_pdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normal_pdf</span></code></a>(x[, mean, std])</p></td>
<td><p>Calculate the value of a normal probability density function.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.normal_pdf_2d" title="ler.lens_galaxy_population.normal_pdf_2d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normal_pdf_2d</span></code></a>(x, y[, mean_x, std_x, mean_y, std_y])</p></td>
<td><p>Calculate the value of a 2D normal probability density function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.comoving_distance" title="ler.lens_galaxy_population.comoving_distance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">comoving_distance</span></code></a>([z, z_min, z_max, cosmo, directory, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.angular_diameter_distance" title="ler.lens_galaxy_population.angular_diameter_distance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">angular_diameter_distance</span></code></a>([z, z_min, z_max, cosmo, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.angular_diameter_distance_z1z2" title="ler.lens_galaxy_population.angular_diameter_distance_z1z2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">angular_diameter_distance_z1z2</span></code></a>([z1, z2, z_min, z_max, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.differential_comoving_volume" title="ler.lens_galaxy_population.differential_comoving_volume"><code class="xref py py-obj docutils literal notranslate"><span class="pre">differential_comoving_volume</span></code></a>([z, z_min, z_max, cosmo, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id69" title="ler.lens_galaxy_population.redshift_optimal_spacing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redshift_optimal_spacing</span></code></a>(z_min, z_max, resolution)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id70" title="ler.lens_galaxy_population.phi_cut_SIE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">phi_cut_SIE</span></code></a>(q)</p></td>
<td><p>Calculate cross-section scaling factor for SIE lens galaxy from SIS.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id73" title="ler.lens_galaxy_population.phi_q2_ellipticity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">phi_q2_ellipticity</span></code></a>(phi, q)</p></td>
<td><p>Convert position angle and axis ratio to ellipticity components.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id72" title="ler.lens_galaxy_population.cross_section"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cross_section</span></code></a>(theta_E, e1, e2, gamma, gamma1, gamma2)</p></td>
<td><p>Compute the strong lensing cross-section for an EPL+Shear lens.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id66" title="ler.lens_galaxy_population.cross_section_mp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cross_section_mp</span></code></a>(params)</p></td>
<td><p>Multiprocessing worker for cross-section calculation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id72" title="ler.lens_galaxy_population.cross_section"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cross_section</span></code></a>(theta_E, e1, e2, gamma, gamma1, gamma2)</p></td>
<td><p>Compute the strong lensing cross-section for an EPL+Shear lens.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id67" title="ler.lens_galaxy_population.load_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_pickle</span></code></a>(file_name)</p></td>
<td><p>Load a pickle file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_njit" title="ler.lens_galaxy_population.lens_redshift_strongly_lensed_njit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lens_redshift_strongly_lensed_njit</span></code></a>(zs_array, ...)</p></td>
<td><p>JIT-compiled parallel computation of lens redshift optical depth.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_mp" title="ler.lens_galaxy_population.lens_redshift_strongly_lensed_mp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lens_redshift_strongly_lensed_mp</span></code></a>(params)</p></td>
<td><p>Multiprocessing worker for lens redshift optical depth calculation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.cross_section_unit_mp" title="ler.lens_galaxy_population.cross_section_unit_mp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cross_section_unit_mp</span></code></a>(params)</p></td>
<td><p>Multiprocessing worker for unit Einstein radius cross-section.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id66" title="ler.lens_galaxy_population.cross_section_mp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cross_section_mp</span></code></a>(params)</p></td>
<td><p>Multiprocessing worker for cross-section calculation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.is_njitted" title="ler.lens_galaxy_population.is_njitted"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_njitted</span></code></a>(func)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.save_pickle" title="ler.lens_galaxy_population.save_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_pickle</span></code></a>(file_name, param)</p></td>
<td><p>Save a dictionary as a pickle file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id67" title="ler.lens_galaxy_population.load_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_pickle</span></code></a>(file_name)</p></td>
<td><p>Load a pickle file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id68" title="ler.lens_galaxy_population.inverse_transform_sampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inverse_transform_sampler</span></code></a>(size, cdf, x)</p></td>
<td><p>Function to sample from the inverse transform method.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id69" title="ler.lens_galaxy_population.redshift_optimal_spacing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redshift_optimal_spacing</span></code></a>(z_min, z_max, resolution)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.available_sampler_list" title="ler.lens_galaxy_population.available_sampler_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">available_sampler_list</span></code></a>()</p></td>
<td><p>Return list of available lens parameter samplers.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_pdf" title="ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_pdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lens_redshift_strongly_lensed_sis_haris_pdf</span></code></a>(zl, zs[, ...])</p></td>
<td><p>Compute lens redshift PDF for SIS model (Haris et al. 2018).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_rvs" title="ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_rvs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lens_redshift_strongly_lensed_sis_haris_rvs</span></code></a>(size, zs)</p></td>
<td><p>Sample lens redshifts for SIS model (Haris et al. 2018).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_ewoud_denisty_function" title="ler.lens_galaxy_population.velocity_dispersion_ewoud_denisty_function"><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity_dispersion_ewoud_denisty_function</span></code></a>(sigma, z[, ...])</p></td>
<td><p>Calculate the lens galaxy velocity dispersion function at redshift z (Oguri et al. (2018b) + Wempe et al. (2022)).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_bernardi_denisty_function" title="ler.lens_galaxy_population.velocity_dispersion_bernardi_denisty_function"><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity_dispersion_bernardi_denisty_function</span></code></a>(sigma, ...)</p></td>
<td><p>Calculate the local universe velocity dispersion function.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_gengamma_density_function" title="ler.lens_galaxy_population.velocity_dispersion_gengamma_density_function"><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity_dispersion_gengamma_density_function</span></code></a>(sigma[, ...])</p></td>
<td><p>Compute unnormalized velocity dispersion function using generalized gamma.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_gengamma_pdf" title="ler.lens_galaxy_population.velocity_dispersion_gengamma_pdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity_dispersion_gengamma_pdf</span></code></a>(sigma[, sigma_min, ...])</p></td>
<td><p>Compute normalized velocity dispersion PDF using generalized gamma.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.velocity_dispersion_gengamma_rvs" title="ler.lens_galaxy_population.velocity_dispersion_gengamma_rvs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity_dispersion_gengamma_rvs</span></code></a>(size[, sigma_min, ...])</p></td>
<td><p>Sample velocity dispersions from generalized gamma distribution.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.axis_ratio_rayleigh_rvs" title="ler.lens_galaxy_population.axis_ratio_rayleigh_rvs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">axis_ratio_rayleigh_rvs</span></code></a>(size, sigma[, q_min, q_max])</p></td>
<td><p>Sample axis ratios from velocity-dependent Rayleigh distribution.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.axis_ratio_rayleigh_pdf" title="ler.lens_galaxy_population.axis_ratio_rayleigh_pdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">axis_ratio_rayleigh_pdf</span></code></a>(q, sigma[, q_min, q_max])</p></td>
<td><p>Compute truncated Rayleigh PDF for axis ratio.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.axis_ratio_padilla_strauss_rvs" title="ler.lens_galaxy_population.axis_ratio_padilla_strauss_rvs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">axis_ratio_padilla_strauss_rvs</span></code></a>(size)</p></td>
<td><p>Sample axis ratios from Padilla &amp; Strauss (2008) distribution.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.axis_ratio_padilla_strauss_pdf" title="ler.lens_galaxy_population.axis_ratio_padilla_strauss_pdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">axis_ratio_padilla_strauss_pdf</span></code></a>(q)</p></td>
<td><p>Compute axis ratio PDF from Padilla &amp; Strauss (2008).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.bounded_normal_sample" title="ler.lens_galaxy_population.bounded_normal_sample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bounded_normal_sample</span></code></a>(size, mean, std, low, high)</p></td>
<td><p>Sample from truncated normal distribution via rejection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.rejection_sampler" title="ler.lens_galaxy_population.rejection_sampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rejection_sampler</span></code></a>(zs, zl, sigma_max, sigma_rvs, q_rvs, ...)</p></td>
<td><p>Core rejection sampling algorithm for lens parameters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.create_rejection_sampler" title="ler.lens_galaxy_population.create_rejection_sampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_rejection_sampler</span></code></a>(sigma_max, sigma_rvs, q_rvs, ...)</p></td>
<td><p>Create a rejection sampler for cross-section weighted lens parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.importance_sampler" title="ler.lens_galaxy_population.importance_sampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">importance_sampler</span></code></a>(zs, zl, sigma_min, sigma_max, ...)</p></td>
<td><p>Core importance sampling algorithm for lens parameters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.importance_sampler_mp" title="ler.lens_galaxy_population.importance_sampler_mp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">importance_sampler_mp</span></code></a>(zs, zl, sigma_min, sigma_max, ...)</p></td>
<td><p>Multiprocessing version of importance sampling for lens parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.create_importance_sampler" title="ler.lens_galaxy_population.create_importance_sampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_importance_sampler</span></code></a>(sigma_min, sigma_max, q_rvs, ...)</p></td>
<td><p>Create an importance sampler for cross-section weighted lens parameters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id70" title="ler.lens_galaxy_population.phi_cut_SIE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">phi_cut_SIE</span></code></a>(q)</p></td>
<td><p>Calculate cross-section scaling factor for SIE lens galaxy from SIS.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id73" title="ler.lens_galaxy_population.phi_q2_ellipticity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">phi_q2_ellipticity</span></code></a>(phi, q)</p></td>
<td><p>Convert position angle and axis ratio to ellipticity components.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id72" title="ler.lens_galaxy_population.cross_section"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cross_section</span></code></a>(theta_E, e1, e2, gamma, gamma1, gamma2)</p></td>
<td><p>Compute the strong lensing cross-section for an EPL+Shear lens.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id73" title="ler.lens_galaxy_population.phi_q2_ellipticity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">phi_q2_ellipticity</span></code></a>(phi, q)</p></td>
<td><p>Convert position angle and axis ratio to ellipticity components.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.make_cross_section_reinit" title="ler.lens_galaxy_population.make_cross_section_reinit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_cross_section_reinit</span></code></a>(e1_grid, e2_grid, ...[, ...])</p></td>
<td><p>Factory function to create a JIT-compiled cross section calculator.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Link to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CS_UNIT_SLOPE" title="ler.lens_galaxy_population.CS_UNIT_SLOPE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CS_UNIT_SLOPE</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CS_UNIT_INTERCEPT" title="ler.lens_galaxy_population.CS_UNIT_INTERCEPT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CS_UNIT_INTERCEPT</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.C_LIGHT" title="ler.lens_galaxy_population.C_LIGHT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">C_LIGHT</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">OpticalDepth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmology</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epl_shear_galaxy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_functions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_functions_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_param_samplers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_param_samplers_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new_interpolator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth" title="Link to this definition"></a></dt>
<dd><p>Class for computing optical depth and lens galaxy population parameters.</p>
<p>This class calculates strong lensing optical depth, velocity dispersion,
axis ratio, and other parameters for a lens galaxy population. It supports
SIS, SIE, and EPL + external shear lens models with customizable samplers
and interpolators for efficient computation.</p>
<p>Key Features:</p>
<ul class="simple">
<li><p>Multiple lens model support (SIS, SIE, EPL + shear)</p></li>
<li><p>Configurable velocity dispersion distributions</p></li>
<li><p>Cached interpolators for fast optical depth computation</p></li>
<li><p>Flexible parameter sampling with user-defined priors</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>npool</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of processors for multiprocessing.</p>
<p>default: 4</p>
</dd>
<dt><strong>z_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum redshift of the lens galaxy population.</p>
<p>default: 0.0</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum redshift of the lens galaxy population.</p>
<p>default: 10.0</p>
</dd>
<dt><strong>cosmology</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Cosmology object for distance calculations.</p>
<p>default: LambdaCDM(H0=70, Om0=0.3, Ode0=0.7)</p>
</dd>
<dt><strong>lens_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Type of lens galaxy model.</p>
<p>Options:</p>
<ul class="simple">
<li><p>‘epl_shear_galaxy’: Elliptical power-law with external shear</p></li>
<li><p>‘sie_galaxy’: Singular isothermal ellipsoid</p></li>
<li><p>‘sis_galaxy’: Singular isothermal sphere</p></li>
</ul>
<p>default: ‘epl_shear_galaxy’</p>
</dd>
<dt><strong>lens_functions</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary with lens-related functions.</p>
<p>default: None (uses defaults for lens_type)</p>
</dd>
<dt><strong>lens_functions_params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary with parameters for lens-related functions.</p>
<p>default: None</p>
</dd>
<dt><strong>lens_param_samplers</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary of sampler functions for lens parameters.</p>
<p>default: None (uses defaults for lens_type)</p>
</dd>
<dt><strong>lens_param_samplers_params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary with parameters for the samplers.</p>
<p>default: None</p>
</dd>
<dt><strong>directory</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Directory where interpolators are saved.</p>
<p>default: ‘./interpolator_json’</p>
</dd>
<dt><strong>create_new_interpolator</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code> or <code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Whether to create new interpolators.</p>
<p>default: False</p>
</dd>
<dt><strong>verbose</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, prints additional information.</p>
<p>default: False</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Basic usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tau</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">optical_depth</span><span class="p">(</span><span class="n">zs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]))</span>
</pre></div>
</div>
<section id="instance-methods">
<h4>Instance Methods<a class="headerlink" href="#instance-methods" title="Link to this heading"></a></h4>
<p>OpticalDepth has the following instance methods:</p>
</section>
<section id="instance-attributes">
<h4>Instance Attributes<a class="headerlink" href="#instance-attributes" title="Link to this heading"></a></h4>
<p>OpticalDepth has the following instance attributes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#id22" title="ler.lens_galaxy_population.OpticalDepth.npool"><code class="xref py py-attr docutils literal notranslate"><span class="pre">npool</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td></td>
<td><p>Number of processors for multiprocessing</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id23" title="ler.lens_galaxy_population.OpticalDepth.z_min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_min</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td><p>Minimum redshift</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id24" title="ler.lens_galaxy_population.OpticalDepth.z_max"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_max</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td><p>Maximum redshift</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id25" title="ler.lens_galaxy_population.OpticalDepth.cosmo"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cosmo</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></p></td>
<td></td>
<td><p>Cosmology object</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id21" title="ler.lens_galaxy_population.OpticalDepth.lens_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lens_type</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td></td>
<td><p>Type of lens galaxy model</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id26" title="ler.lens_galaxy_population.OpticalDepth.directory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">directory</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td></td>
<td><p>Directory for interpolator storage</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="optical_depth/index.html#module-ler.lens_galaxy_population.optical_depth" title="ler.lens_galaxy_population.optical_depth"><code class="xref py py-attr docutils literal notranslate"><span class="pre">optical_depth</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>Optical depth calculator</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id27" title="ler.lens_galaxy_population.OpticalDepth.velocity_dispersion"><code class="xref py py-attr docutils literal notranslate"><span class="pre">velocity_dispersion</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td><p>km/s</p></td>
<td><p>Velocity dispersion sampler</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id28" title="ler.lens_galaxy_population.OpticalDepth.axis_ratio"><code class="xref py py-attr docutils literal notranslate"><span class="pre">axis_ratio</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>Axis ratio sampler</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id29" title="ler.lens_galaxy_population.OpticalDepth.axis_rotation_angle"><code class="xref py py-attr docutils literal notranslate"><span class="pre">axis_rotation_angle</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td><p>rad</p></td>
<td><p>Axis rotation angle sampler</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id33" title="ler.lens_galaxy_population.OpticalDepth.lens_redshift"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lens_redshift</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>Lens redshift sampler</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id31" title="ler.lens_galaxy_population.OpticalDepth.external_shear"><code class="xref py py-attr docutils literal notranslate"><span class="pre">external_shear</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>External shear sampler</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id30" title="ler.lens_galaxy_population.OpticalDepth.density_profile_slope"><code class="xref py py-attr docutils literal notranslate"><span class="pre">density_profile_slope</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>Density profile slope sampler</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id72" title="ler.lens_galaxy_population.cross_section"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cross_section</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td><p>rad²</p></td>
<td><p>Cross-section calculator</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id37" title="ler.lens_galaxy_population.OpticalDepth.available_lens_samplers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">available_lens_samplers</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Available lens parameter samplers</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id38" title="ler.lens_galaxy_population.OpticalDepth.available_lens_functions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">available_lens_functions</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Available lens functions</p></td>
</tr>
</tbody>
</table>
<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.lens_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lens_type</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.lens_type" title="Link to this definition"></a></dt>
<dd><p>Type of lens galaxy model.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Lens type (‘epl_shear_galaxy’, ‘sie_galaxy’, or ‘sis_galaxy’).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.npool">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">npool</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.npool" title="Link to this definition"></a></dt>
<dd><p>Number of processors for multiprocessing.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>npool</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of parallel processors.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.z_min">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">z_min</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.z_min" title="Link to this definition"></a></dt>
<dd><p>Minimum redshift of the lens galaxy population.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum redshift.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.z_max">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">z_max</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.z_max" title="Link to this definition"></a></dt>
<dd><p>Maximum redshift of the lens galaxy population.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum redshift.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.cosmo">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cosmo</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.cosmo" title="Link to this definition"></a></dt>
<dd><p>Cosmology object for distance calculations.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>cosmo</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></span></dt><dd><p>Cosmology object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.directory">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">directory</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.directory" title="Link to this definition"></a></dt>
<dd><p>Directory for interpolator storage.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>directory</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Path to interpolator JSON files.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.velocity_dispersion">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">velocity_dispersion</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.velocity_dispersion" title="Link to this definition"></a></dt>
<dd><p>Velocity dispersion sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size,</span> <span class="pre">zl)</span></code>: Sample velocity dispersion values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(sigma,</span> <span class="pre">zl)</span></code>: Get probability density</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function(sigma,</span> <span class="pre">zl)</span></code>: Get number density function</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>velocity_dispersion</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for velocity dispersion (km/s).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">velocity_dispersion</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.axis_ratio">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_ratio</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.axis_ratio" title="Link to this definition"></a></dt>
<dd><p>Axis ratio sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size,</span> <span class="pre">sigma)</span></code>: Sample axis ratio values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(q,</span> <span class="pre">sigma)</span></code>: Get probability density</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function(q,</span> <span class="pre">sigma)</span></code>: Get distribution function</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>axis_ratio</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for axis ratio.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_ratio</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">200.</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.axis_rotation_angle">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_rotation_angle</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.axis_rotation_angle" title="Link to this definition"></a></dt>
<dd><p>Axis rotation angle sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample axis rotation angles</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(phi)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>axis_rotation_angle</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for axis rotation angle (rad).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phi</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_rotation_angle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.density_profile_slope">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">density_profile_slope</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.density_profile_slope" title="Link to this definition"></a></dt>
<dd><p>Density profile slope sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample density profile slope values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(gamma)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>density_profile_slope</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for density profile slope.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">density_profile_slope</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.external_shear">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">external_shear</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.external_shear" title="Link to this definition"></a></dt>
<dd><p>External shear sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample shear components (gamma1, gamma2)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(gamma1,</span> <span class="pre">gamma2)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>external_shear</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for external shear.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">external_shear</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.cross_section">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cross_section</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.cross_section" title="Link to this definition"></a></dt>
<dd><p>Lensing cross-section calculator.</p>
<p>Returns a callable that computes lensing cross-section for individual</p>
<p>lensing events. Input parameters depend on lens type:</p>
<ul class="simple">
<li><p>EPL+shear: zs, zl, sigma, q, phi, gamma, gamma1, gamma2</p></li>
<li><p>SIE: zs, zl, sigma, q</p></li>
<li><p>SIS: zs, zl, sigma</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>cross_section</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Cross-section function (rad² units).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">cross_section</span><span class="p">(</span><span class="n">zs</span><span class="o">=</span><span class="n">zs</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="n">zl</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="n">sigma</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.lens_redshift">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lens_redshift</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.lens_redshift" title="Link to this definition"></a></dt>
<dd><p>Lens redshift sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size,</span> <span class="pre">zs)</span></code>: Sample lens redshifts given source redshifts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(zl,</span> <span class="pre">zs)</span></code>: Get probability density</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function(zl,</span> <span class="pre">zs)</span></code>: Get effective lensing cross-section</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_redshift</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for lens redshift.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">lens_redshift</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">2.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.density_profile_slope_sl">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">density_profile_slope_sl</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.density_profile_slope_sl" title="Link to this definition"></a></dt>
<dd><p>Density profile slope sampler object (strong lensing conditioned).</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample density profile slope values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(gamma)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>density_profile_slope_sl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for density profile slope (strong lensing).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">density_profile_slope_sl</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.external_shear_sl">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">external_shear_sl</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.external_shear_sl" title="Link to this definition"></a></dt>
<dd><p>External shear sampler object (strong lensing conditioned).</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample shear components (gamma1, gamma2)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(gamma1,</span> <span class="pre">gamma2)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>external_shear_sl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for external shear (strong lensing).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">external_shear_sl</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.optical_depth">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">optical_depth</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.optical_depth" title="Link to this definition"></a></dt>
<dd><p>Strong lensing optical depth calculator.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>optical_depth</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Function object with <cite>.function(zs)</cite> method that returns n
optical depth for given source redshifts.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tau</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">optical_depth</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.available_lens_samplers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_lens_samplers</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.available_lens_samplers" title="Link to this definition"></a></dt>
<dd><p>Dictionary of available lens parameter samplers and their default parameters.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>available_lens_samplers</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary with sampler names and default parameters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.available_lens_functions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_lens_functions</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.available_lens_functions" title="Link to this definition"></a></dt>
<dd><p>Dictionary of available lens functions and their default parameters.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>available_lens_functions</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary with function names and default parameters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.comoving_distance">
<span class="sig-name descname"><span class="pre">comoving_distance</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.comoving_distance" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.angular_diameter_distance">
<span class="sig-name descname"><span class="pre">angular_diameter_distance</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.angular_diameter_distance" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.angular_diameter_distance_z1z2">
<span class="sig-name descname"><span class="pre">angular_diameter_distance_z1z2</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.angular_diameter_distance_z1z2" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.differential_comoving_volume">
<span class="sig-name descname"><span class="pre">differential_comoving_volume</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.differential_comoving_volume" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.lens_redshift_intrinsic">
<span class="sig-name descname"><span class="pre">lens_redshift_intrinsic</span></span><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.lens_redshift_intrinsic" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.lens_redshift_strongly_lensed_numerical">
<span class="sig-name descname"><span class="pre">lens_redshift_strongly_lensed_numerical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.lens_redshift_strongly_lensed_numerical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.lens_redshift_strongly_lensed_numerical" title="Link to this definition"></a></dt>
<dd><p>Sample lens redshifts conditioned on strong lensing (numerical method).</p>
<p>This method computes the lens redshift distribution by numerically
integrating over the velocity dispersion distribution (galaxy density distribution wrt), cross-section and differential comoving volume.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate. n
default: 1000</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples. n
default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Lens redshift samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">lens_redshift</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">2.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.lens_redshift_strongly_lensed_sis_haris">
<span class="sig-name descname"><span class="pre">lens_redshift_strongly_lensed_sis_haris</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.lens_redshift_strongly_lensed_sis_haris"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.lens_redshift_strongly_lensed_sis_haris" title="Link to this definition"></a></dt>
<dd><p>Sample SIS lens redshifts using Haris et al. (2018) distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Lens redshift samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_type</span><span class="o">=</span><span class="s1">&#39;sis_galaxy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">lens_redshift</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">2.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.velocity_dispersion_gengamma">
<span class="sig-name descname"><span class="pre">velocity_dispersion_gengamma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.velocity_dispersion_gengamma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.velocity_dispersion_gengamma" title="Link to this definition"></a></dt>
<dd><p>Sample velocity dispersion from generalized gamma distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sigma_min</p></td>
<td><p>km/s</p></td>
<td><p>minimum velocity dispersion</p></td>
</tr>
<tr class="row-odd"><td><p>sigma_max</p></td>
<td><p>km/s</p></td>
<td><p>maximum velocity dispersion</p></td>
</tr>
<tr class="row-even"><td><p>alpha</p></td>
<td><p>dimensionless</p></td>
<td><p>Power-law index governing the slope
of the distribution at low velocities</p></td>
</tr>
<tr class="row-odd"><td><p>beta</p></td>
<td><p>dimensionless</p></td>
<td><p>Exponential parameter determining the
sharpness of the high-velocity cutoff</p></td>
</tr>
<tr class="row-even"><td><p>phistar</p></td>
<td><p>h^3 Mpc^-3</p></td>
<td><p>Normalization constant representing
the comoving number density of galaxy</p></td>
</tr>
<tr class="row-odd"><td><p>sigmastar</p></td>
<td><p>km/s</p></td>
<td><p>Characteristic velocity scale marking
the “knee” transition in the VDF</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Velocity dispersion samples (km/s) or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">velocity_dispersion</span><span class="o">=</span><span class="s2">&quot;velocity_dispersion_gengamma&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">velocity_dispersion</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.velocity_dispersion_bernardi">
<span class="sig-name descname"><span class="pre">velocity_dispersion_bernardi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.velocity_dispersion_bernardi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.velocity_dispersion_bernardi" title="Link to this definition"></a></dt>
<dd><p>Sample velocity dispersion from Bernardi et al. (2010) distribution.</p>
<p>Uses inverse transform sampling on the velocity dispersion function.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sigma_min</p></td>
<td><p>km/s</p></td>
<td><p>minimum velocity dispersion</p></td>
</tr>
<tr class="row-odd"><td><p>sigma_max</p></td>
<td><p>km/s</p></td>
<td><p>maximum velocity dispersion</p></td>
</tr>
<tr class="row-even"><td><p>alpha</p></td>
<td><p>dimensionless</p></td>
<td><p>Power-law index governing the slope
of the distribution at low velocities</p></td>
</tr>
<tr class="row-odd"><td><p>beta</p></td>
<td><p>dimensionless</p></td>
<td><p>Exponential parameter determining the
sharpness of the high-velocity cutoff</p></td>
</tr>
<tr class="row-even"><td><p>phistar</p></td>
<td><p>h^3 Mpc^-3</p></td>
<td><p>Normalization constant representing
the comoving number density of galaxy</p></td>
</tr>
<tr class="row-odd"><td><p>sigmastar</p></td>
<td><p>km/s</p></td>
<td><p>Characteristic velocity scale marking
the “knee” transition in the VDF</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Velocity dispersion samples (km/s) or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">velocity_dispersion</span><span class="o">=</span><span class="s2">&quot;velocity_dispersion_bernardi&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">velocity_dispersion</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.velocity_dispersion_ewoud">
<span class="sig-name descname"><span class="pre">velocity_dispersion_ewoud</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.velocity_dispersion_ewoud"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.velocity_dispersion_ewoud" title="Link to this definition"></a></dt>
<dd><p>Sample redshift-dependent velocity dispersion from Wempe et al. (2022).</p>
<p>Uses inverse transform sampling with redshift-dependent velocity
dispersion function.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Lens redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sigma_min</p></td>
<td><p>km/s</p></td>
<td><p>minimum velocity dispersion</p></td>
</tr>
<tr class="row-odd"><td><p>sigma_max</p></td>
<td><p>km/s</p></td>
<td><p>maximum velocity dispersion</p></td>
</tr>
<tr class="row-even"><td><p>alpha</p></td>
<td><p>dimensionless</p></td>
<td><p>Power-law index governing the slope
of the distribution at low velocities</p></td>
</tr>
<tr class="row-odd"><td><p>beta</p></td>
<td><p>dimensionless</p></td>
<td><p>Exponential parameter determining the
sharpness of the high-velocity cutoff</p></td>
</tr>
<tr class="row-even"><td><p>phistar</p></td>
<td><p>h^3 Mpc^-3</p></td>
<td><p>Normalization constant representing
the comoving number density of galaxy</p></td>
</tr>
<tr class="row-odd"><td><p>sigmastar</p></td>
<td><p>km/s</p></td>
<td><p>Characteristic velocity scale marking
the “knee” transition in the VDF</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Velocity dispersion samples (km/s) or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">velocity_dispersion</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.axis_ratio_rayleigh">
<span class="sig-name descname"><span class="pre">axis_ratio_rayleigh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.axis_ratio_rayleigh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.axis_ratio_rayleigh" title="Link to this definition"></a></dt>
<dd><p>Sample axis ratio from Rayleigh distribution conditioned on velocity dispersion.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Velocity dispersion of the lens galaxy (km/s).</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (q_min, q_max).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Axis ratio samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">axis_ratio</span><span class="o">=</span><span class="s2">&quot;axis_ratio_rayleigh&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_ratio</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">200.</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.axis_ratio_padilla_strauss">
<span class="sig-name descname"><span class="pre">axis_ratio_padilla_strauss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.axis_ratio_padilla_strauss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.axis_ratio_padilla_strauss" title="Link to this definition"></a></dt>
<dd><p>Sample axis ratio from Padilla &amp; Strauss (2008) distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
<p>default: 1000</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (q_min, q_max).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Axis ratio samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">axis_ratio</span><span class="o">=</span><span class="s2">&quot;axis_ratio_padilla_strauss&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_ratio</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.axis_rotation_angle_uniform">
<span class="sig-name descname"><span class="pre">axis_rotation_angle_uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.axis_rotation_angle_uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.axis_rotation_angle_uniform" title="Link to this definition"></a></dt>
<dd><p>Sample axis rotation angle from uniform distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (phi_min, phi_max).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>phi</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Axis rotation angle samples (rad) or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phi</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_rotation_angle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.axis_ratio_uniform">
<span class="sig-name descname"><span class="pre">axis_ratio_uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.axis_ratio_uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.axis_ratio_uniform" title="Link to this definition"></a></dt>
<dd><p>Sample axis ratio from uniform distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (q_min, q_max).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Axis ratio samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">axis_ratio</span><span class="o">=</span><span class="s2">&quot;axis_ratio_uniform&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_ratio</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.external_shear_normal">
<span class="sig-name descname"><span class="pre">external_shear_normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.external_shear_normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.external_shear_normal" title="Link to this definition"></a></dt>
<dd><p>Sample external shear parameters from 2D normal distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (mean, std).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>shear</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Array of shape (2, size) with gamma1, gamma2 or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">external_shear</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.density_profile_slope_normal">
<span class="sig-name descname"><span class="pre">density_profile_slope_normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.density_profile_slope_normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.density_profile_slope_normal" title="Link to this definition"></a></dt>
<dd><p>Sample density profile slope from normal distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (mean, std).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>gamma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Density profile slope samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">density_profile_slope</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.optical_depth_numerical">
<span class="sig-name descname"><span class="pre">optical_depth_numerical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.optical_depth_numerical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.optical_depth_numerical" title="Link to this definition"></a></dt>
<dd><p>Helper to compute optical depth numerically by integrating lens redshift.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the function object instead of values. n
default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>tau</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Optical depth values or function object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.compute_einstein_radii">
<span class="sig-name descname"><span class="pre">compute_einstein_radii</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.compute_einstein_radii"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.compute_einstein_radii" title="Link to this definition"></a></dt>
<dd><p>Function to compute the Einstein radii of the lens galaxies</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>velocity dispersion of the lens galaxy</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>lens redshifts</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>source redshifts</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>theta_E</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Einstein radii of the lens galaxies in radians. Multiply by</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">LensGalaxyParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span> <span class="o">=</span> <span class="n">LensGalaxyParameterDistribution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="mf">200.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zs</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span><span class="o">.</span><span class="n">compute_einstein_radii</span><span class="p">(</span><span class="n">sigma</span><span class="p">,</span> <span class="n">zl</span><span class="p">,</span> <span class="n">zs</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.optical_depth_sis_analytic">
<span class="sig-name descname"><span class="pre">optical_depth_sis_analytic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.optical_depth_sis_analytic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.optical_depth_sis_analytic" title="Link to this definition"></a></dt>
<dd><p>Function to compute the strong lensing optical depth (SIS).
LambdaCDM(H0=70, Om0=0.3, Ode0=0.7) was used to derive the following equation. This is the analytic version of optical depth from z=0 to z=zs.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the function object instead of values. n
default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>tau</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Optical depth values or function object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.cross_section_sis">
<span class="sig-name descname"><span class="pre">cross_section_sis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_sis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.cross_section_sis" title="Link to this definition"></a></dt>
<dd><p>Function to compute the SIS cross-section</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>velocity dispersion of the lens galaxy</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>redshift of the lens galaxy</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>redshift of the source galaxy</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cross_section</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>SIS cross-section</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cross_section_sis</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mf">200.</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.cross_section_sie_feixu">
<span class="sig-name descname"><span class="pre">cross_section_sie_feixu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_sie_feixu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.cross_section_sie_feixu" title="Link to this definition"></a></dt>
<dd><p>Function to compute the SIE cross-section from Fei Xu et al. (2021)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>velocity dispersion of the lens galaxy</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>redshift of the lens galaxy</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>redshift of the source galaxy</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cross_section</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>SIE cross-section</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cross_section_sie_feixu</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mf">200.</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.cross_section_epl_shear_numerical">
<span class="sig-name descname"><span class="pre">cross_section_epl_shear_numerical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_epl_shear_numerical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.cross_section_epl_shear_numerical" title="Link to this definition"></a></dt>
<dd><p>Function to compute the strong lensing cross-section numerically for EPL + external shear lenses.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>redshift of the source galaxies</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>redshift of the lens galaxies</p>
</dd>
<dt><strong>sigma</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>velocity dispersion of the lens galaxies</p>
</dd>
<dt><strong>q</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>axis ratios of the lens galaxies</p>
</dd>
<dt><strong>phi</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>axis rotation angles of the lens galaxies in radians</p>
</dd>
<dt><strong>gamma</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear magnitudes of the lens galaxies</p>
</dd>
<dt><strong>gamma1</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear component 1 of the lens galaxies</p>
</dd>
<dt><strong>gamma2</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear component 2 of the lens galaxies</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cross_section</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>strong lensing cross-section of the lens galaxies in square radians</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.cross_section_epl_shear_numerical_mp">
<span class="sig-name descname"><span class="pre">cross_section_epl_shear_numerical_mp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta_E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_epl_shear_numerical_mp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.cross_section_epl_shear_numerical_mp" title="Link to this definition"></a></dt>
<dd><p>Function to compute the strong lensing cross-section numerically for EPL + external shear lenses.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>theta_E</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Einstein radii of the lens galaxies in radians</p>
</dd>
<dt><strong>gamma</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear magnitudes of the lens galaxies</p>
</dd>
<dt><strong>gamma1</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear component 1 of the lens galaxies</p>
</dd>
<dt><strong>gamma2</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear component 2 of the lens galaxies</p>
</dd>
<dt><strong>q</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>axis ratios of the lens galaxies</p>
</dd>
<dt><strong>phi</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>axis rotation angles of the lens galaxies in radians</p>
</dd>
<dt><strong>e1</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>ellipticity component 1 of the lens galaxies</p>
</dd>
<dt><strong>e2</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>ellipticity component 2 of the lens galaxies</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cross_section</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>strong lensing cross-section of the lens galaxies in square radians</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.create_parameter_grid">
<span class="sig-name descname"><span class="pre">create_parameter_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[25,</span> <span class="pre">25,</span> <span class="pre">45,</span> <span class="pre">15,</span> <span class="pre">15]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.create_parameter_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.create_parameter_grid" title="Link to this definition"></a></dt>
<dd><p>Create a parameter grid for lens galaxies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>size_list</strong><span class="classifier">list</span></dt><dd><p>List of sizes for each parameter grid.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>zl</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>Lens redshifts.</p>
</dd>
<dt><strong>sigma</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>Velocity dispersions.</p>
</dd>
<dt><strong>q</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>Axis ratios.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.cross_section_epl_shear_interpolation_init">
<span class="sig-name descname"><span class="pre">cross_section_epl_shear_interpolation_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_epl_shear_interpolation_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.cross_section_epl_shear_interpolation_init" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.OpticalDepth.cross_section_epl_shear_interpolation">
<span class="sig-name descname"><span class="pre">cross_section_epl_shear_interpolation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[25,</span> <span class="pre">25,</span> <span class="pre">45,</span> <span class="pre">15,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_epl_shear_interpolation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.OpticalDepth.cross_section_epl_shear_interpolation" title="Link to this definition"></a></dt>
<dd><p>Function to compute the cross-section correction factor</p>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">CBCSourceParameterDistribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'BBH'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_priors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_priors_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmology</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_zero</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_precession</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new_interpolator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="../gw_source_population/cbc_source_redshift_distribution/index.html#ler.gw_source_population.cbc_source_redshift_distribution.CBCSourceRedshiftDistribution" title="ler.gw_source_population.cbc_source_redshift_distribution.CBCSourceRedshiftDistribution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ler.gw_source_population.cbc_source_redshift_distribution.CBCSourceRedshiftDistribution</span></code></a></p>
<p>Class for sampling compact binary coalescence source parameters.</p>
<p>This class generates complete sets of intrinsic and extrinsic gravitational
wave parameters for compact binary sources including masses, spins, sky
positions, and orbital parameters. It supports BBH, BNS, NSBH, and primordial
black hole populations with configurable prior distributions.</p>
<p>Key Features:</p>
<ul class="simple">
<li><p>Multiple mass distribution models (PowerLaw+Gaussian, lognormal, bimodal)</p></li>
<li><p>Configurable spin priors (zero, aligned, precessing)</p></li>
<li><p>Isotropic sky position and orientation sampling</p></li>
<li><p>Built-in support for population III and primordial black holes</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum redshift of the source population.</p>
<p>default: 0.0</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum redshift of the source population.</p>
<p>default: 10.0</p>
</dd>
<dt><strong>event_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Type of compact binary event to generate.</p>
<p>Options:</p>
<ul class="simple">
<li><p>‘BBH’: Binary black hole (Population I/II)</p></li>
<li><p>‘BNS’: Binary neutron star</p></li>
<li><p>‘NSBH’: Neutron star-black hole</p></li>
<li><p>‘BBH_popIII’: Population III binary black hole</p></li>
<li><p>‘BBH_primordial’: Primordial binary black hole</p></li>
</ul>
<p>default: ‘BBH’</p>
</dd>
<dt><strong>source_priors</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary of prior sampler functions for each parameter.</p>
<p>If None, uses default priors based on event_type.</p>
<p>default: None</p>
</dd>
<dt><strong>source_priors_params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary of parameters for each prior sampler function.</p>
<p>If None, uses default parameters based on event_type.</p>
<p>default: None</p>
</dd>
<dt><strong>cosmology</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Cosmology to use for distance calculations.</p>
<p>default: LambdaCDM(H0=70, Om0=0.3, Ode0=0.7, Tcmb0=0.0, Neff=3.04, m_nu=None, Ob0=0.0)</p>
</dd>
<dt><strong>spin_zero</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, spin parameters are set to zero (no spin sampling).</p>
<p>default: False</p>
</dd>
<dt><strong>spin_precession</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True (and spin_zero=False), sample precessing spin parameters.</p>
<p>If False (and spin_zero=False), sample aligned/anti-aligned spins.</p>
<p>default: False</p>
</dd>
<dt><strong>directory</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Directory to store interpolator JSON files.</p>
<p>default: ‘./interpolator_json’</p>
</dd>
<dt><strong>create_new_interpolator</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>Configuration for creating new interpolators.</p>
<p>If bool, applies to all interpolators.</p>
<p>default: False</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.gw_source_population</span> <span class="kn">import</span> <span class="n">CBCSourceParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cbc</span> <span class="o">=</span> <span class="n">CBCSourceParameterDistribution</span><span class="p">(</span><span class="n">event_type</span><span class="o">=</span><span class="s1">&#39;BBH&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">cbc</span><span class="o">.</span><span class="n">sample_gw_parameters</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
<section id="id1">
<h4>Instance Methods<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<p>CBCSourceParameterDistribution has the following methods:</p>
</section>
<section id="id2">
<h4>Instance Attributes<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<p>CBCSourceParameterDistribution has the following attributes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.z_min" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.z_min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_min</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td><p>Minimum redshift of source population</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.z_max" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.z_max"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_max</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td><p>Maximum redshift of source population</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.cosmo" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.cosmo"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cosmo</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></p></td>
<td></td>
<td><p>Cosmology for distance calculations</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.spin_zero" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.spin_zero"><code class="xref py py-attr docutils literal notranslate"><span class="pre">spin_zero</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td></td>
<td><p>Whether to ignore spin parameters</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.spin_precession" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.spin_precession"><code class="xref py py-attr docutils literal notranslate"><span class="pre">spin_precession</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td></td>
<td><p>Whether to use precessing spins</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.directory" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.directory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">directory</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td></td>
<td><p>Directory for interpolator files</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">gw_param_samplers</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Dictionary of parameter sampler functions</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">gw_param_samplers_params</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Dictionary of sampler function parameters</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.available_gw_prior" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.available_gw_prior"><code class="xref py py-attr docutils literal notranslate"><span class="pre">available_gw_prior</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Available prior distributions</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.source_frame_masses" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.source_frame_masses"><code class="xref py py-attr docutils literal notranslate"><span class="pre">source_frame_masses</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for source frame masses</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.zs" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.zs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">zs</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for source redshift</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.geocent_time" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.geocent_time"><code class="xref py py-attr docutils literal notranslate"><span class="pre">geocent_time</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for geocentric time</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.ra" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.ra"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ra</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for right ascension</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.dec" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.dec"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dec</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for declination</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.phase" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.phase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">phase</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for coalescence phase</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.psi" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.psi"><code class="xref py py-attr docutils literal notranslate"><span class="pre">psi</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for polarization angle</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.theta_jn" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.theta_jn"><code class="xref py py-attr docutils literal notranslate"><span class="pre">theta_jn</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for inclination angle</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.a_1" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.a_1"><code class="xref py py-attr docutils literal notranslate"><span class="pre">a_1</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for spin1 magnitude</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.a_2" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.a_2"><code class="xref py py-attr docutils literal notranslate"><span class="pre">a_2</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for spin2 magnitude</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.tilt_1" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.tilt_1"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tilt_1</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for tilt1 angle</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.tilt_2" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.tilt_2"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tilt_2</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for tilt2 angle</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.phi_12" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.phi_12"><code class="xref py py-attr docutils literal notranslate"><span class="pre">phi_12</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for phi_12 angle</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.phi_jl" title="ler.lens_galaxy_population.CBCSourceParameterDistribution.phi_jl"><code class="xref py py-attr docutils literal notranslate"><span class="pre">phi_jl</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td></td>
<td><p>Sampler for phi_jl angle</p></td>
</tr>
</tbody>
</table>
<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.zs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">zs</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.zs" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for source redshift, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the redshift distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the redshift distribution</p></li>
<li><p><cite>function</cite>: returns the redshift distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of redshift values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.source_frame_masses">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source_frame_masses</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.source_frame_masses" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for source frame masses, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the density profile slope distribution</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of mass_1_source values in solar masses.</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of mass_2_source values in solar masses.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.gw_source_population</span> <span class="kn">import</span> <span class="n">CBCSourceParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cbc_source_param_dist</span> <span class="o">=</span> <span class="n">CBCSourceParameterDistribution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cbc_source_param_dist</span><span class="o">.</span><span class="n">source_frame_masses</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.geocent_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">geocent_time</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.geocent_time" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for geocentric time, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the geocentric time distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the geocentric time distribution</p></li>
<li><p><cite>function</cite>: returns the geocentric time distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>geocent_time</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of geocentric time values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.ra">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ra</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.ra" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for right ascension, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the right ascension distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the right ascension distribution</p></li>
<li><p><cite>function</cite>: returns the right ascension distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>ra</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of right ascension values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.dec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dec</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.dec" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for declination, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the declination distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the declination distribution</p></li>
<li><p><cite>function</cite>: returns the declination distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>dec</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of declination values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.phase">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">phase</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.phase" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for coalescence phase, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the coalescence phase distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the coalescence phase distribution</p></li>
<li><p><cite>function</cite>: returns the coalescence phase distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>phase</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of coalescence phase values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.psi">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">psi</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.psi" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for polarization angle, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the polarization angle distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the polarization angle distribution</p></li>
<li><p><cite>function</cite>: returns the polarization angle distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>geocent_time</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of polarization angle values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.theta_jn">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">theta_jn</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.theta_jn" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for inclination angle, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the inclination angle distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the inclination angle distribution</p></li>
<li><p><cite>function</cite>: returns the inclination angle distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>theta_jn</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of inclination angle values, i.e. the angle between the line of sight and the orbital angular momentum (rad).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.a_1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">a_1</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.a_1" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for spin1 magnitude, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the spin1 magnitude distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the spin1 magnitude distribution</p></li>
<li><p><cite>function</cite>: returns the spin1 magnitude distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>a_1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of spin magnitude values for the primary body.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.a_2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">a_2</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.a_2" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for spin2 magnitude, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the spin2 magnitude distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the spin2 magnitude distribution</p></li>
<li><p><cite>function</cite>: returns the spin2 magnitude distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>a_2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of spin magnitude values for the secondary body.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.tilt_1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tilt_1</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.tilt_1" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for tilt1 angle, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the tilt1 angle distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the tilt1 angle distribution</p></li>
<li><p><cite>function</cite>: returns the tilt1 angle distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>tilt_1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of the spin tilt angle of the primary body, i.e. the angle between the spin vector and the orbital angular momentum for the primary body (rad).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.tilt_2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tilt_2</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.tilt_2" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for tilt2 angle, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the tilt2 angle distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the tilt2 angle distribution</p></li>
<li><p><cite>function</cite>: returns the tilt2 angle distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>tilt_2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of the spin tilt angle of the secondary body, i.e. the angle between the spin vector and the orbital angular momentum for the secondary body (rad).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.phi_12">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">phi_12</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.phi_12" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for phi_12 angle, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the phi_12 angle distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the phi_12 angle distribution</p></li>
<li><p><cite>function</cite>: returns the phi_12 angle distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>phi_12</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of the spin tilt angle between the two spins, i.e., angle between the projections of the two spins onto the orbital plane (rad).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.phi_jl">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">phi_jl</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.phi_jl" title="Link to this definition"></a></dt>
<dd><p>Class object (of FunctionConditioning) for phi_jl angle, with rvs/sampler as callback. Can also be a user defined callable sampler.</p>
<p>The class object contains the following attribute methods:</p>
<ul class="simple">
<li><p><cite>rvs</cite>: returns random samples from the phi_jl angle distribution</p></li>
<li><p><cite>pdf</cite>: returns the probability density function of the phi_jl angle distribution</p></li>
<li><p><cite>function</cite>: returns the phi_jl angle distribution function.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>phi_jl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of the angle values between the orientation of the total angular momentum around the orbital angular momentum (rad).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.available_gw_prior">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_gw_prior</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.available_gw_prior" title="Link to this definition"></a></dt>
<dd><p>Dictionary of all available prior distributions and their parameters.</p>
<p>This is a dynamically generated dictionary containing available samplers
for each GW parameter type and their default parameter values.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>available_gw_prior</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Nested dictionary organized by parameter type (e.g., ‘source_frame_masses’,</p>
<p>‘geocent_time’, etc.) with sampler names and default parameters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.z_min">
<span class="sig-name descname"><span class="pre">z_min</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'None'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.z_min" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Minimum redshift of the source population</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.z_max">
<span class="sig-name descname"><span class="pre">z_max</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'None'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.z_max" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Maximum redshift of the source population</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.event_type">
<span class="sig-name descname"><span class="pre">event_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'None'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.event_type" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
<p>Type of event to generate.</p>
<p>e.g. ‘BBH’, ‘BNS’, ‘NSBH’</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.source_priors">
<span class="sig-name descname"><span class="pre">source_priors</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'None'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.source_priors" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Dictionary of prior sampler functions.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.source_priors_params">
<span class="sig-name descname"><span class="pre">source_priors_params</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'None'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.source_priors_params" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Dictionary of prior sampler functions’ input parameters.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.cosmo">
<span class="sig-name descname"><span class="pre">cosmo</span></span><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.cosmo" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></p>
<p>Cosmology to use.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.spin_zero">
<span class="sig-name descname"><span class="pre">spin_zero</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'None'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.spin_zero" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
<p>If True, spin prior is set to zero.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.spin_precession">
<span class="sig-name descname"><span class="pre">spin_precession</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'False'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.spin_precession" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.directory">
<span class="sig-name descname"><span class="pre">directory</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&quot;'./interpolator_json'&quot;</span></em><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.directory" title="Link to this definition"></a></dt>
<dd><p>Directory path for storing interpolator JSON files.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>directory</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Path to the interpolator storage directory.</p>
<p>default: ‘./interpolator_json’</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.sample_gw_parameters">
<span class="sig-name descname"><span class="pre">sample_gw_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.sample_gw_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.sample_gw_parameters" title="Link to this definition"></a></dt>
<dd><p>Sample all gravitational wave parameters for compact binaries.</p>
<p>Generates a complete set of intrinsic and extrinsic parameters including
masses, redshift, luminosity distance, sky position, orientation, and
optionally spin parameters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
<p>default: 1000</p>
</dd>
<dt><strong>param</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary of fixed parameter values.</p>
<p>Parameters in this dict will not be sampled.</p>
<p>default: None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>gw_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary of sampled GW parameters. The included parameters and their units are as follows (for default settings):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>zs</p></td>
<td></td>
<td><p>redshift of the source</p></td>
</tr>
<tr class="row-odd"><td><p>geocent_time</p></td>
<td><p>s</p></td>
<td><p>GPS time of coalescence</p></td>
</tr>
<tr class="row-even"><td><p>ra</p></td>
<td><p>rad</p></td>
<td><p>right ascension</p></td>
</tr>
<tr class="row-odd"><td><p>dec</p></td>
<td><p>rad</p></td>
<td><p>declination</p></td>
</tr>
<tr class="row-even"><td><p>phase</p></td>
<td><p>rad</p></td>
<td><p>phase of GW at reference frequency</p></td>
</tr>
<tr class="row-odd"><td><p>psi</p></td>
<td><p>rad</p></td>
<td><p>polarization angle</p></td>
</tr>
<tr class="row-even"><td><p>theta_jn</p></td>
<td><p>rad</p></td>
<td><p>inclination angle</p></td>
</tr>
<tr class="row-odd"><td><p>a_1</p></td>
<td></td>
<td><p>spin_1 of the compact binary</p></td>
</tr>
<tr class="row-even"><td><p>a_2</p></td>
<td></td>
<td><p>spin of the secondary compact binary</p></td>
</tr>
<tr class="row-odd"><td><p>luminosity_distance</p></td>
<td><p>Mpc</p></td>
<td><p>luminosity distance</p></td>
</tr>
<tr class="row-even"><td><p>mass_1_source</p></td>
<td><p>Msun</p></td>
<td><p>mass_1 of the compact binary
(source frame)</p></td>
</tr>
<tr class="row-odd"><td><p>mass_2_source</p></td>
<td><p>Msun</p></td>
<td><p>mass_2 of the compact binary
(source frame)</p></td>
</tr>
<tr class="row-even"><td><p>mass_1</p></td>
<td><p>Msun</p></td>
<td><p>mass_1 of the compact binary
(detector frame)</p></td>
</tr>
<tr class="row-odd"><td><p>mass_2</p></td>
<td><p>Msun</p></td>
<td><p>mass_2 of the compact binary
(detector frame)</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.gw_source_population</span> <span class="kn">import</span> <span class="n">CBCSourceParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cbc</span> <span class="o">=</span> <span class="n">CBCSourceParameterDistribution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">cbc</span><span class="o">.</span><span class="n">sample_gw_parameters</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_BBH_powerlaw_gaussian">
<span class="sig-name descname"><span class="pre">binary_masses_BBH_powerlaw_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.binary_masses_BBH_powerlaw_gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_BBH_powerlaw_gaussian" title="Link to this definition"></a></dt>
<dd><p>Sample source masses with PowerLaw+PEAK model for Population I/II BBH.</p>
<p>Implements the mass distribution model from LIGO-Virgo population analyses
combining a power-law with a Gaussian peak component.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Model parameters:</p>
<ul class="simple">
<li><p>mminbh: Minimum BH mass (Msun), default: 4.98</p></li>
<li><p>mmaxbh: Maximum BH mass (Msun), default: 112.5</p></li>
<li><p>alpha: Power-law spectral index, default: 3.78</p></li>
<li><p>mu_g: Gaussian peak mean (Msun), default: 32.27</p></li>
<li><p>sigma_g: Gaussian peak width (Msun), default: 3.88</p></li>
<li><p>lambda_peak: Fraction in Gaussian component, default: 0.03</p></li>
<li><p>delta_m: Low-mass tapering range (Msun), default: 4.8</p></li>
<li><p>beta: Mass ratio power-law index, default: 0.81</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of primary masses in source frame (Msun).</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of secondary masses in source frame (Msun).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.gw_source_population</span> <span class="kn">import</span> <span class="n">CBCSourceParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cbc</span> <span class="o">=</span> <span class="n">CBCSourceParameterDistribution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1_src</span><span class="p">,</span> <span class="n">m2_src</span> <span class="o">=</span> <span class="n">cbc</span><span class="o">.</span><span class="n">binary_masses_BBH_powerlaw_gaussian</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_BBH_popIII_lognormal">
<span class="sig-name descname"><span class="pre">binary_masses_BBH_popIII_lognormal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.binary_masses_BBH_popIII_lognormal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_BBH_popIII_lognormal" title="Link to this definition"></a></dt>
<dd><p>Sample source masses for Population III BBH from lognormal distribution.</p>
<p>Based on Eqn. 1 and 4 of Ng et al. 2022 for Population III black holes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Model parameters:</p>
<ul class="simple">
<li><p>m_min: Minimum BH mass (Msun), default: 5.0</p></li>
<li><p>m_max: Maximum BH mass (Msun), default: 150.0</p></li>
<li><p>Mc: Central mass scale (Msun), default: 30.0</p></li>
<li><p>sigma: Distribution width, default: 0.3</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of primary masses in source frame (Msun).</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of secondary masses in source frame (Msun).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.gw_source_population</span> <span class="kn">import</span> <span class="n">CBCSourceParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cbc</span> <span class="o">=</span> <span class="n">CBCSourceParameterDistribution</span><span class="p">(</span><span class="n">event_type</span><span class="o">=</span><span class="s1">&#39;BBH_popIII&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1_src</span><span class="p">,</span> <span class="n">m2_src</span> <span class="o">=</span> <span class="n">cbc</span><span class="o">.</span><span class="n">binary_masses_BBH_popIII_lognormal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_BBH_primordial_lognormal">
<span class="sig-name descname"><span class="pre">binary_masses_BBH_primordial_lognormal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.binary_masses_BBH_primordial_lognormal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_BBH_primordial_lognormal" title="Link to this definition"></a></dt>
<dd><p>Sample source masses for primordial BBH from lognormal distribution.</p>
<p>Based on Eqn. 1 and 4 of Ng et al. 2022 for primordial black holes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Model parameters:</p>
<ul class="simple">
<li><p>m_min: Minimum BH mass (Msun), default: 1.0</p></li>
<li><p>m_max: Maximum BH mass (Msun), default: 100.0</p></li>
<li><p>Mc: Central mass scale (Msun), default: 20.0</p></li>
<li><p>sigma: Distribution width, default: 0.3</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of primary masses in source frame (Msun).</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of secondary masses in source frame (Msun).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_NSBH_broken_powerlaw">
<span class="sig-name descname"><span class="pre">binary_masses_NSBH_broken_powerlaw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.binary_masses_NSBH_broken_powerlaw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_NSBH_broken_powerlaw" title="Link to this definition"></a></dt>
<dd><p>Sample source masses for NSBH from broken power-law distribution.</p>
<p>Uses gwcosmo-style broken power-law for black hole mass and power-law
for neutron star mass.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Model parameters:</p>
<ul class="simple">
<li><p>mminbh: Minimum BH mass (Msun), default: 26</p></li>
<li><p>mmaxbh: Maximum BH mass (Msun), default: 125</p></li>
<li><p>alpha_1: Primary power-law index, default: 6.75</p></li>
<li><p>alpha_2: Secondary power-law index, default: 6.75</p></li>
<li><p>b: Break point, default: 0.5</p></li>
<li><p>delta_m: Tapering range (Msun), default: 5</p></li>
<li><p>mminns: Minimum NS mass (Msun), default: 1.0</p></li>
<li><p>mmaxns: Maximum NS mass (Msun), default: 3.0</p></li>
<li><p>alphans: NS mass power-law index, default: 0.0</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of BH masses in source frame (Msun).</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of NS masses in source frame (Msun).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.gw_source_population</span> <span class="kn">import</span> <span class="n">CBCSourceParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cbc</span> <span class="o">=</span> <span class="n">CBCSourceParameterDistribution</span><span class="p">(</span><span class="n">event_type</span><span class="o">=</span><span class="s1">&#39;NSBH&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1_src</span><span class="p">,</span> <span class="n">m2_src</span> <span class="o">=</span> <span class="n">cbc</span><span class="o">.</span><span class="n">binary_masses_NSBH_broken_powerlaw</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_uniform">
<span class="sig-name descname"><span class="pre">binary_masses_uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.binary_masses_uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_uniform" title="Link to this definition"></a></dt>
<dd><p>Sample source masses from uniform distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Model parameters:</p>
<ul class="simple">
<li><p>m_min: Minimum mass (Msun), default: 1.0</p></li>
<li><p>m_max: Maximum mass (Msun), default: 3.0</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of primary masses in source frame (Msun).</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of secondary masses in source frame (Msun).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.gw_source_population</span> <span class="kn">import</span> <span class="n">CBCSourceParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cbc</span> <span class="o">=</span> <span class="n">CBCSourceParameterDistribution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1_src</span><span class="p">,</span> <span class="n">m2_src</span> <span class="o">=</span> <span class="n">cbc</span><span class="o">.</span><span class="n">binary_masses_uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_BNS_bimodal">
<span class="sig-name descname"><span class="pre">binary_masses_BNS_bimodal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.binary_masses_BNS_bimodal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.binary_masses_BNS_bimodal" title="Link to this definition"></a></dt>
<dd><p>Sample BNS masses from bimodal Gaussian distribution.</p>
<p>Based on Will M. Farr et al. 2020 Eqn. 6 for neutron star mass
distribution combining two Gaussian peaks.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Model parameters:</p>
<ul class="simple">
<li><p>w: Weight of left peak, default: 0.643</p></li>
<li><p>muL: Mean of left peak (Msun), default: 1.352</p></li>
<li><p>sigmaL: Width of left peak (Msun), default: 0.08</p></li>
<li><p>muR: Mean of right peak (Msun), default: 1.88</p></li>
<li><p>sigmaR: Width of right peak (Msun), default: 0.3</p></li>
<li><p>mmin: Minimum mass (Msun), default: 1.0</p></li>
<li><p>mmax: Maximum mass (Msun), default: 2.3</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of primary masses in source frame (Msun).</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of secondary masses in source frame (Msun).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.gw_source_population</span> <span class="kn">import</span> <span class="n">CBCSourceParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cbc</span> <span class="o">=</span> <span class="n">CBCSourceParameterDistribution</span><span class="p">(</span><span class="n">event_type</span><span class="o">=</span><span class="s1">&#39;BNS&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1_src</span><span class="p">,</span> <span class="n">m2_src</span> <span class="o">=</span> <span class="n">cbc</span><span class="o">.</span><span class="n">binary_masses_BNS_bimodal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.constant_values_n_size">
<span class="sig-name descname"><span class="pre">constant_values_n_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.constant_values_n_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.constant_values_n_size" title="Link to this definition"></a></dt>
<dd><p>Return array of constant values.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of values to return.</p>
<p>default: 100</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Model parameters:</p>
<ul class="simple">
<li><p>value: Constant value to return, default: 0.0</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>values</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of constant values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.sampler_uniform">
<span class="sig-name descname"><span class="pre">sampler_uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.sampler_uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.sampler_uniform" title="Link to this definition"></a></dt>
<dd><p>Sample values from uniform distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Model parameters:</p>
<ul class="simple">
<li><p>xmin: Minimum value, default: 0.0</p></li>
<li><p>xmax: Maximum value, default: 1.0</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>values</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of uniformly distributed values in range [xmin, xmax].</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.sampler_cosine">
<span class="sig-name descname"><span class="pre">sampler_cosine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.sampler_cosine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.sampler_cosine" title="Link to this definition"></a></dt>
<dd><p>Sample from cosine distribution for declination.</p>
<p>Samples values in range [-pi/2, pi/2] following a cosine distribution,
appropriate for isotropic sky position declination.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>values</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of values in range [-pi/2, pi/2] (rad).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CBCSourceParameterDistribution.sampler_sine">
<span class="sig-name descname"><span class="pre">sampler_sine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/gw_source_population/cbc_source_parameter_distribution.html#CBCSourceParameterDistribution.sampler_sine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CBCSourceParameterDistribution.sampler_sine" title="Link to this definition"></a></dt>
<dd><p>Sample from sine distribution for inclination angles.</p>
<p>Samples values in range [0, pi] following a sine distribution,
appropriate for isotropic orientation angles.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, return the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>values</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of values in range [0, pi] (rad).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">ImageProperties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_min_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_max_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['EPL_NUMBA',</span> <span class="pre">'SHEAR']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmology</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">365</span> <span class="pre">*</span> <span class="pre">24</span> <span class="pre">*</span> <span class="pre">3600</span> <span class="pre">*</span> <span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_zero</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_precession</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdet_finder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_effective_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiprocessing_verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_redundant_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/image_properties/image_properties.html#ImageProperties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties" title="Link to this definition"></a></dt>
<dd><p>Class to compute image properties of strongly lensed gravitational wave events.</p>
<p>This class solves the lens equation to find image positions, magnifications,
time delays, and image types (morse phase) for strongly lensed sources. It uses
multiprocessing for efficient computation of large samples.</p>
<p>Key Features:</p>
<ul class="simple">
<li><p>Solves lens equations using multiprocessing for efficiency</p></li>
<li><p>Computes image positions, magnifications, and time delays</p></li>
<li><p>Classifies image types using morse phase</p></li>
<li><p>Calculates detection probabilities for lensed images</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>npool</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of processes for multiprocessing.</p>
<p>default: 4</p>
</dd>
<dt><strong>n_min_images</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Minimum number of images required for a valid lensing event.</p>
<p>default: 2</p>
</dd>
<dt><strong>n_max_images</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Maximum number of images to consider per event.</p>
<p>default: 4</p>
</dd>
<dt><strong>time_window</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Time window for lensed events from min(geocent_time) (units: seconds).</p>
<p>default: 365*24*3600*2 (2 years)</p>
</dd>
<dt><strong>include_effective_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>Whether to include effective parameters (effective_phase, effective_ra, effective_dec) in the output.</p>
<p>default: True</p>
</dd>
<dt><strong>lens_model_list</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">list</span></code></span></dt><dd><p>List of lens models to use.</p>
<p>default: [‘EPL_NUMBA’, ‘SHEAR’]</p>
</dd>
<dt><strong>cosmology</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Cosmology for distance calculations.</p>
<p>If None, uses default LambdaCDM.</p>
<p>default: LambdaCDM(H0=70, Om0=0.3, Ode0=0.7, Tcmb0=0.0, Neff=3.04, m_nu=None, Ob0=0.0)</p>
</dd>
<dt><strong>spin_zero</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, spin parameters are set to zero (no spin sampling).</p>
<p>default: False</p>
</dd>
<dt><strong>spin_precession</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True (and spin_zero=False), sample precessing spin parameters.</p>
<p>If False (and spin_zero=False), sample aligned/anti-aligned spins.</p>
<p>default: False</p>
</dd>
<dt><strong>multiprocessing_verbose</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, shows a progress bar for multiprocessing tasks.</p>
<p>default: True</p>
</dd>
<dt><strong>include_redundant_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, removes redundant parameters (e.g., theta_E, n_images, mass_1, mass_2, luminosity_distance) from output to save memory.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Basic usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.image_properties</span> <span class="kn">import</span> <span class="n">ImageProperties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ip</span> <span class="o">=</span> <span class="n">ImageProperties</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_parameters</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">zs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.0</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">zl</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">gamma1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">gamma2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">phi</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">q</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.8</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">gamma</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.0</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">theta_E</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">])</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ip</span><span class="o">.</span><span class="n">image_properties</span><span class="p">(</span><span class="n">lens_parameters</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
<section id="id3">
<h4>Instance Methods<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<p>ImageProperties has the following methods:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.ImageProperties.image_properties" title="ler.lens_galaxy_population.ImageProperties.image_properties"><code class="xref py py-meth docutils literal notranslate"><span class="pre">image_properties()</span></code></a></p></td>
<td><p>Compute image properties for lensed events</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.ImageProperties.get_lensed_snrs" title="ler.lens_galaxy_population.ImageProperties.get_lensed_snrs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lensed_snrs()</span></code></a></p></td>
<td><p>Compute detection probability for lensed images</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id4">
<h4>Instance Attributes<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<p>ImageProperties has the following attributes:</p>
<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.npool">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">npool</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.npool" title="Link to this definition"></a></dt>
<dd><p>Number of multiprocessing workers.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>npool</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of processes for multiprocessing.</p>
<p>default: 4</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.n_min_images">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_min_images</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.n_min_images" title="Link to this definition"></a></dt>
<dd><p>Minimum number of images required for a valid lensing event.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>n_min_images</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Minimum number of images required.</p>
<p>default: 2</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.n_max_images">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_max_images</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.n_max_images" title="Link to this definition"></a></dt>
<dd><p>Maximum number of images per event.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>n_max_images</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Maximum number of images to consider per event.</p>
<p>default: 4</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.lens_model_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lens_model_list</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.lens_model_list" title="Link to this definition"></a></dt>
<dd><p>List of lens models to use.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_model_list</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">list</span></code></span></dt><dd><p>List of lens model names.</p>
<p>default: [‘EPL_NUMBA’, ‘SHEAR’]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.spin_zero">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spin_zero</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.spin_zero" title="Link to this definition"></a></dt>
<dd><p>Flag for zero spin assumption.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>spin_zero</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>Whether to assume zero spin for compact objects.</p>
<p>If True, spin parameters are set to zero (no spin sampling).</p>
<p>If False, spin parameters are sampled.</p>
<p>default: False</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.spin_precession">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spin_precession</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.spin_precession" title="Link to this definition"></a></dt>
<dd><p>Flag for spin precession.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>spin_precession</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>Whether to include spin precession effects.</p>
<p>If True (and spin_zero=False), sample precessing spin parameters.</p>
<p>If False (and spin_zero=False), sample aligned/anti-aligned spins.</p>
<p>default: False</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.time_window">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_window</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.time_window" title="Link to this definition"></a></dt>
<dd><p>Time window for lensed events.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>time_window</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Time window for lensed events (units: s).</p>
<p>default: 365*24*3600*20 (20 years)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.cosmo">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cosmo</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.cosmo" title="Link to this definition"></a></dt>
<dd><p>Astropy cosmology object for calculations.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>cosmo</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></span></dt><dd><p>Cosmology used for distance calculations.</p>
<p>default: LambdaCDM(H0=70, Om0=0.3, Ode0=0.7, Tcmb0=0.0, Neff=3.04, m_nu=None, Ob0=0.0)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.pdet_finder">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdet_finder</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.pdet_finder" title="Link to this definition"></a></dt>
<dd><p>Detection probability finder function.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>pdet_finder</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function that calculates detection probability for GW events.</p>
<p>The function signature should be:</p>
<p><code class="docutils literal notranslate"><span class="pre">pdet_finder(gw_param_dict)</span> <span class="pre">-&gt;</span> <span class="pre">dict</span></code> with key ‘pdet_net’.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.pdet_finder_output_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdet_finder_output_keys</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.pdet_finder_output_keys" title="Link to this definition"></a></dt>
<dd><p>Output keys from the detection probability finder function.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>pdet_finder_output_keys</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">list</span></code></span></dt><dd><p>List of keys returned by the pdet_finder function.</p>
<p>default: None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.include_effective_parameters">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">include_effective_parameters</span></span><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.include_effective_parameters" title="Link to this definition"></a></dt>
<dd><p>Flag to include effective parameters in output.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>include_effective_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>Whether to include effective parameters in the output of get_lensed_snrs.</p>
<p>default: False</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.multiprocessing_verbose">
<span class="sig-name descname"><span class="pre">multiprocessing_verbose</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'True'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.multiprocessing_verbose" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.include_redundant_parameters">
<span class="sig-name descname"><span class="pre">include_redundant_parameters</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'False'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.include_redundant_parameters" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.image_properties">
<span class="sig-name descname"><span class="pre">image_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lens_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/image_properties/image_properties.html#ImageProperties.image_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.image_properties" title="Link to this definition"></a></dt>
<dd><p>Compute image properties for strongly lensed events.</p>
<p>Solves the lens equation using multiprocessing to find image positions,
magnifications, time delays, and image types for each lensing event.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary containing lens and source parameters shown in the table:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>zl</p></td>
<td></td>
<td><p>redshift of the lens</p></td>
</tr>
<tr class="row-odd"><td><p>zs</p></td>
<td></td>
<td><p>redshift of the source</p></td>
</tr>
<tr class="row-even"><td><p>sigma</p></td>
<td><p>km s^-1</p></td>
<td><p>velocity dispersion</p></td>
</tr>
<tr class="row-odd"><td><p>q</p></td>
<td></td>
<td><p>axis ratio</p></td>
</tr>
<tr class="row-even"><td><p>theta_E</p></td>
<td><p>radian</p></td>
<td><p>Einstein radius</p></td>
</tr>
<tr class="row-odd"><td><p>phi</p></td>
<td><p>rad</p></td>
<td><p>axis rotation angle. counter-clockwise from the
positive x-axis (RA-like axis) to the major axis of
the projected mass distribution.</p></td>
</tr>
<tr class="row-even"><td><p>gamma</p></td>
<td></td>
<td><p>density profile slope of EPL galaxy</p></td>
</tr>
<tr class="row-odd"><td><p>gamma1</p></td>
<td></td>
<td><p>external shear component in the x-direction
(RA-like axis)</p></td>
</tr>
<tr class="row-even"><td><p>gamma2</p></td>
<td></td>
<td><p>external shear component in the y-direction
(Dec-like axis)</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Updated dictionary with additional image properties with the following description:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>x0_image_positions</p></td>
<td><p>radian</p></td>
<td><p>x-coordinate (RA-like axis) of the images</p></td>
</tr>
<tr class="row-even"><td><p>x1_image_positions</p></td>
<td><p>radian</p></td>
<td><p>y-coordinate (Dec-like axis) of the images</p></td>
</tr>
<tr class="row-odd"><td><p>magnifications</p></td>
<td></td>
<td><p>magnifications</p></td>
</tr>
<tr class="row-even"><td><p>time_delays</p></td>
<td></td>
<td><p>time delays</p></td>
</tr>
<tr class="row-odd"><td><p>image_type</p></td>
<td></td>
<td><p>image type</p></td>
</tr>
<tr class="row-even"><td><p>n_images</p></td>
<td></td>
<td><p>number of images</p></td>
</tr>
<tr class="row-odd"><td><p>x_source</p></td>
<td><p>radian</p></td>
<td><p>x-coordinate (RA-like axis) of the source</p></td>
</tr>
<tr class="row-even"><td><p>y_source</p></td>
<td><p>radian</p></td>
<td><p>y-coordinate (Dec-like axis) of the source</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.get_lensed_snrs">
<span class="sig-name descname"><span class="pre">get_lensed_snrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lensed_param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdet_finder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_effective_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/image_properties/image_properties.html#ImageProperties.get_lensed_snrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.get_lensed_snrs" title="Link to this definition"></a></dt>
<dd><p>Compute detection probability for each lensed image.</p>
<p>Calculates the effective luminosity distance, geocent time, and phase
for each image accounting for magnification and morse phase, then
computes detection probabilities using the provided calculator.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lensed_param</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary containing lensed source and image parameters given below:</p>
</dd>
<dt><strong>pdet_finder</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function that computes detection probability given GW parameters.</p>
</dd>
<dt><strong>include_effective_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, includes effective parameters in output lensed_param.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>result_dict</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary containing:</p>
<ul class="simple">
<li><p>‘pdet_net’: network detection probability (shape: size x n_max_images)</p></li>
<li><p>Individual detector probabilities if pdet_finder outputs them</p></li>
</ul>
</dd>
<dt><strong>lensed_param</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Updated dictionary with effective parameters shown below:</p>
<p>+----------------------------------+-----------+------------------------------------------------|
| Parameter                        | Units     | Description
+==================================+===========+================================================+
| effective_luminosity_distance    | Mpc       | magnification-corrected distance               |
|                                  |           | luminosity_distance / sqrt(<a href="#id74"><span class="problematic" id="id75">|magnifications_i|</span></a>) |
+----------------------------------+-----------+------------------------------------------------|
| effective_geocent_time           | s         | time-delay-corrected GPS time                  |
|                                  |           | geocent_time + time_delays_i                   |
+----------------------------------+-----------+------------------------------------------------|
| effective_phase                  | rad       | morse-phase-corrected phase                    |
|                                  |           | phi - morse_phase_i                            |
+----------------------------------+-----------+------------------------------------------------+
| effective_ra                     | rad       | RA of the image                                |
|                                  |           | ra + (x0_image_positions_i - x_source)/cos(dec)|
+----------------------------------+-----------+------------------------------------------------+
| effective_dec                    | rad       | Dec of the image                               |
|                                  |           | dec + (x1_image_positions_i - y_source)        |
+----------------------------------+-----------+------------------------------------------------+</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.recover_redundant_parameters">
<span class="sig-name descname"><span class="pre">recover_redundant_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lensed_param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/image_properties/image_properties.html#ImageProperties.recover_redundant_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.recover_redundant_parameters" title="Link to this definition"></a></dt>
<dd><p>Recover redundant parameters in lensed_param, i.e. theta_E, n_images, mass_1, mass_2, luminosity_distance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.ImageProperties.produce_effective_params">
<span class="sig-name descname"><span class="pre">produce_effective_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lensed_param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/image_properties/image_properties.html#ImageProperties.produce_effective_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.ImageProperties.produce_effective_params" title="Link to this definition"></a></dt>
<dd><p>Produce effective parameters for each lensed image.</p>
<p>Calculates the effective luminosity distance, geocent time, phase,
RA, and Dec for each image accounting for magnification and morse phase.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lensed_param</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary containing lensed source and image parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lensed_param</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Updated dictionary with effective parameters shown below:</p>
<p>+----------------------------------+-----------+------------------------------------------------|
| Parameter                        | Units     | Description
+==================================+===========+================================================+
| effective_luminosity_distance    | Mpc       | magnification-corrected distance               |
|                                  |           | luminosity_distance / sqrt(<a href="#id76"><span class="problematic" id="id77">|magnifications_i|</span></a>) |
+----------------------------------+-----------+------------------------------------------------|
| effective_geocent_time           | s         | time-delay-corrected GPS time                  |
|                                  |           | geocent_time + time_delays_i                   |
+----------------------------------+-----------+------------------------------------------------|
| effective_phase                  | rad       | morse-phase-corrected phase                    |
|                                  |           | phi - morse_phase_i                            |
+----------------------------------+-----------+------------------------------------------------+
| effective_ra                     | rad       | RA of the image                                |
|                                  |           | ra + (x0_image_positions_i - x_source)/cos(dec)|
+----------------------------------+-----------+------------------------------------------------+
| effective_dec                    | rad       | Dec of the image                               |
|                                  |           | dec + (x1_image_positions_i - y_source)        |
+----------------------------------+-----------+------------------------------------------------+</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">FunctionConditioning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_zero_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaussian_kde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaussian_kde_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_function_inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_rvs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiprocessing_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.info">
<span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.info" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.callback">
<span class="sig-name descname"><span class="pre">callback</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'None'</span></em><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.callback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.__call__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.create_decision_function">
<span class="sig-name descname"><span class="pre">create_decision_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">create_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_function_inverse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_rvs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.create_decision_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.create_decision_function" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.create_gaussian_kde">
<span class="sig-name descname"><span class="pre">create_gaussian_kde</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaussian_kde_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.create_gaussian_kde"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.create_gaussian_kde" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.create_interpolator">
<span class="sig-name descname"><span class="pre">create_interpolator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_function_inverse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiprocessing_function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.create_interpolator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.create_interpolator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.create_z_array">
<span class="sig-name descname"><span class="pre">create_z_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiprocessing_function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.create_z_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.create_z_array" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.cdf_values_generator">
<span class="sig-name descname"><span class="pre">cdf_values_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.cdf_values_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.cdf_values_generator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.pdf_norm_const_generator">
<span class="sig-name descname"><span class="pre">pdf_norm_const_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function_spline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.pdf_norm_const_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.pdf_norm_const_generator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.FunctionConditioning.function_spline_generator">
<span class="sig-name descname"><span class="pre">function_spline_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.function_spline_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.FunctionConditioning.function_spline_generator" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.redshift_optimal_spacing">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">redshift_optimal_spacing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/cosmological_coversions.html#redshift_optimal_spacing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.redshift_optimal_spacing" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">LensGalaxyParameterDistribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmology</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'BBH'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epl_shear_galaxy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_functions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_functions_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_param_samplers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_param_samplers_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new_interpolator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_galaxy_parameter_distribution.html#LensGalaxyParameterDistribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="../gw_source_population/index.html#ler.gw_source_population.CBCSourceParameterDistribution" title="ler.gw_source_population.CBCSourceParameterDistribution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ler.gw_source_population.CBCSourceParameterDistribution</span></code></a>, <a class="reference internal" href="../image_properties/index.html#ler.image_properties.ImageProperties" title="ler.image_properties.ImageProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ler.image_properties.ImageProperties</span></code></a>, <a class="reference internal" href="optical_depth/index.html#ler.lens_galaxy_population.optical_depth.OpticalDepth" title="ler.lens_galaxy_population.optical_depth.OpticalDepth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ler.lens_galaxy_population.optical_depth.OpticalDepth</span></code></a></p>
<p>Sample lens galaxy parameters conditioned on strong lensing.</p>
<p>This class handles the distribution of lens galaxy parameters such as velocity
dispersion, axis ratio, axis rotation angle, shear, and density profile slope.
It samples source parameters conditioned on the source being strongly lensed
using cross-section based rejection or importance sampling.</p>
<p>Key Features:</p>
<ul class="simple">
<li><p>Samples lens parameters using EPL+shear galaxy model</p></li>
<li><p>Supports rejection and importance sampling based on cross-section</p></li>
<li><p>Computes optical depth weighted source redshift distributions</p></li>
<li><p>Integrates with GW source population and image property calculations</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>npool</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of processors to use for parallel sampling.</p>
<p>default: 4</p>
</dd>
<dt><strong>z_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum redshift for source and lens populations.</p>
<p>default: 0.0</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum redshift for source and lens populations.</p>
<p>default: 10.0</p>
</dd>
<dt><strong>cosmology</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Cosmology object for distance calculations.</p>
<p>default: None (uses FlatLambdaCDM with H0=70, Om0=0.3)</p>
</dd>
<dt><strong>event_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Type of compact binary coalescence event.</p>
<p>Options:</p>
<ul class="simple">
<li><p>‘BBH’: Binary black hole</p></li>
<li><p>‘BNS’: Binary neutron star</p></li>
<li><p>‘NSBH’: Neutron star-black hole</p></li>
</ul>
<p>default: ‘BBH’</p>
</dd>
<dt><strong>lens_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Type of lens galaxy model to use.</p>
<p>default: ‘epl_shear_galaxy’</p>
</dd>
<dt><strong>lens_functions</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary specifying lens-related functions.</p>
<p>default: None (uses defaults from OpticalDepth)</p>
</dd>
<dt><strong>lens_functions_params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Parameters for lens functions.</p>
<p>default: None</p>
</dd>
<dt><strong>lens_param_samplers</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary specifying lens parameter sampling functions.</p>
<p>default: None (uses defaults from OpticalDepth)</p>
</dd>
<dt><strong>lens_param_samplers_params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Parameters for lens parameter samplers.</p>
<p>default: None</p>
</dd>
<dt><strong>directory</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Directory for storing interpolator files.</p>
<p>default: ‘./interpolator_json’</p>
</dd>
<dt><strong>create_new_interpolator</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, recreates interpolators even if files exist.</p>
<p>default: False</p>
</dd>
<dt><strong>buffer_size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Buffer size for batch sampling of lens parameters.</p>
<p>default: 1000</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional keyword arguments passed to parent classes:</p>
<p><a class="reference internal" href="../gw_source_population/index.html#ler.gw_source_population.CBCSourceParameterDistribution" title="ler.gw_source_population.CBCSourceParameterDistribution"><code class="xref py py-class docutils literal notranslate"><span class="pre">CBCSourceParameterDistribution</span></code></a>,</p>
<p><a class="reference internal" href="../image_properties/index.html#ler.image_properties.ImageProperties" title="ler.image_properties.ImageProperties"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageProperties</span></code></a>,</p>
<p><a class="reference internal" href="#id18" title="ler.lens_galaxy_population.OpticalDepth"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpticalDepth</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Basic usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">LensGalaxyParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span> <span class="o">=</span> <span class="n">LensGalaxyParameterDistribution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lensed_params</span> <span class="o">=</span> <span class="n">lens</span><span class="o">.</span><span class="n">sample_lens_parameters</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lensed_params</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
<section id="id5">
<h4>Instance Methods<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<p>LensGalaxyParameterDistribution has the following methods:</p>
</section>
<section id="id6">
<h4>Instance Attributes<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<p>LensGalaxyParameterDistribution has the following attributes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">npool</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td></td>
<td><p>Number of processors for parallel computation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_min</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td><p>Minimum redshift</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_max</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td><p>Maximum redshift</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">cosmo</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></p></td>
<td></td>
<td><p>Cosmology object for calculations</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.event_type" title="ler.lens_galaxy_population.LensGalaxyParameterDistribution.event_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">event_type</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td></td>
<td><p>Type of CBC event (BBH, BNS, NSBH)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">directory</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td></td>
<td><p>Path to interpolator storage directory</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_param_samplers" title="ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_param_samplers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lens_param_samplers</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Dictionary of lens parameter sampler names</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_param_samplers_params" title="ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_param_samplers_params"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lens_param_samplers_params</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Parameters for lens parameter samplers</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="lens_functions/index.html#module-ler.lens_galaxy_population.lens_functions" title="ler.lens_galaxy_population.lens_functions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lens_functions</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Dictionary of lens function names</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.normalization_pdf_z_lensed" title="ler.lens_galaxy_population.LensGalaxyParameterDistribution.normalization_pdf_z_lensed"><code class="xref py py-attr docutils literal notranslate"><span class="pre">normalization_pdf_z_lensed</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td><p>Normalization constant for lensed source z pdf</p></td>
</tr>
</tbody>
</table>
<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.source_redshift_sl">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source_redshift_sl</span></span><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.source_redshift_sl" title="Link to this definition"></a></dt>
<dd><p>Function to sample source redshifts conditioned on strong lensing.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>source_redshift_sl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">ler.functions.FunctionConditioning</span></code></span></dt><dd><p>Function for sampling source redshifts conditioned on strong lensing.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.normalization_pdf_z_lensed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">normalization_pdf_z_lensed</span></span><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.normalization_pdf_z_lensed" title="Link to this definition"></a></dt>
<dd><p>Normalization constant for the lensed source redshift pdf.</p>
<p>This constant is used to normalize the probability distribution</p>
<p>of source redshifts conditioned on strong lensing. It is computed</p>
<p>by integrating the merger rate density times optical depth.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>normalization_pdf_z_lensed</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Normalization constant for lensed redshift distribution.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_param_samplers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lens_param_samplers</span></span><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_param_samplers" title="Link to this definition"></a></dt>
<dd><p>Dictionary of lens parameter sampler function names.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_param_samplers</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary mapping parameter names to sampler function names.</p>
<p>Keys include: ‘source_redshift_sl’, ‘lens_redshift’,</p>
<p>‘velocity_dispersion’, ‘axis_ratio’, ‘axis_rotation_angle’,</p>
<p>‘external_shear’, ‘density_profile_slope’.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_param_samplers_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lens_param_samplers_params</span></span><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_param_samplers_params" title="Link to this definition"></a></dt>
<dd><p>Dictionary of parameters for lens parameter samplers.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_param_samplers_params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary with sampler parameters.</p>
<p>Each key corresponds to a sampler in lens_param_samplers.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_functions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lens_functions</span></span><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.lens_functions" title="Link to this definition"></a></dt>
<dd><p>Dictionary of lens-related function names.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_functions</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary mapping function types to function names.</p>
<p>Keys include: ‘param_sampler_type’, ‘cross_section_based_sampler’,</p>
<p>‘optical_depth’, ‘cross_section’.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.event_type">
<span class="sig-name descname"><span class="pre">event_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&quot;'BBH'&quot;</span></em><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.event_type" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
<p>Type of event to generate.</p>
<p>e.g. ‘BBH’, ‘BNS’, ‘NSBH’</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.sample_lens_parameters_routine">
<span class="sig-name descname"><span class="pre">sample_lens_parameters_routine</span></span><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.sample_lens_parameters_routine" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.cross_section_based_sampler">
<span class="sig-name descname"><span class="pre">cross_section_based_sampler</span></span><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.cross_section_based_sampler" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.sample_lens_parameters">
<span class="sig-name descname"><span class="pre">sample_lens_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_galaxy_parameter_distribution.html#LensGalaxyParameterDistribution.sample_lens_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.sample_lens_parameters" title="Link to this definition"></a></dt>
<dd><p>Sample lens galaxy and source parameters conditioned on strong lensing.</p>
<p>This method samples both lens galaxy parameters (velocity dispersion, axis
ratio, shear, etc.) and gravitational wave source parameters, with the
source redshift distribution weighted by strong lensing optical depth.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of lens-source parameter sets to sample.</p>
<p>default: 1000</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary containing sampled lens and source parameters.</p>
<p>The included parameters and their units are as follows (for default settings):</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">LensGalaxyParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span> <span class="o">=</span> <span class="n">LensGalaxyParameterDistribution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">lens</span><span class="o">.</span><span class="n">sample_lens_parameters</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.sample_all_routine_epl_shear_sl">
<span class="sig-name descname"><span class="pre">sample_all_routine_epl_shear_sl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_galaxy_parameter_distribution.html#LensGalaxyParameterDistribution.sample_all_routine_epl_shear_sl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.sample_all_routine_epl_shear_sl" title="Link to this definition"></a></dt>
<dd><p>Sample EPL+shear galaxy lens parameters with strong lensing condition.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of lens parameters to sample.</p>
<p>default: 1000</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary of sampled lens parameters.</p>
<p>The included parameters and their units are as follows (for default settings):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>zl</p></td>
<td></td>
<td><p>redshift of the lens</p></td>
</tr>
<tr class="row-odd"><td><p>zs</p></td>
<td></td>
<td><p>redshift of the source</p></td>
</tr>
<tr class="row-even"><td><p>sigma</p></td>
<td><p>km s^-1</p></td>
<td><p>velocity dispersion</p></td>
</tr>
<tr class="row-odd"><td><p>q</p></td>
<td></td>
<td><p>axis ratio</p></td>
</tr>
<tr class="row-even"><td><p>theta_E</p></td>
<td><p>radian</p></td>
<td><p>Einstein radius</p></td>
</tr>
<tr class="row-odd"><td><p>phi</p></td>
<td><p>rad</p></td>
<td><p>axis rotation angle. counter-clockwise from the
positive x-axis (RA-like axis) to the major axis of
the projected mass distribution.</p></td>
</tr>
<tr class="row-even"><td><p>gamma</p></td>
<td></td>
<td><p>density profile slope of EPL galaxy</p></td>
</tr>
<tr class="row-odd"><td><p>gamma1</p></td>
<td></td>
<td><p>external shear component in the x-direction
(RA-like axis)</p></td>
</tr>
<tr class="row-even"><td><p>gamma2</p></td>
<td></td>
<td><p>external shear component in the y-direction
(Dec-like axis)</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.strongly_lensed_source_redshift">
<span class="sig-name descname"><span class="pre">strongly_lensed_source_redshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_galaxy_parameter_distribution.html#LensGalaxyParameterDistribution.strongly_lensed_source_redshift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.strongly_lensed_source_redshift" title="Link to this definition"></a></dt>
<dd><p>Sample source redshifts conditioned on strong lensing.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
<p>default: 1000</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>redshifts</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of source redshifts conditioned on strong lensing.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">LensGalaxyParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span> <span class="o">=</span> <span class="n">LensGalaxyParameterDistribution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zs</span> <span class="o">=</span> <span class="n">lens</span><span class="o">.</span><span class="n">strongly_lensed_source_redshift</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;strongly lensed source redshift: </span><span class="si">{</span><span class="n">zs</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.LensGalaxyParameterDistribution.sample_all_routine_epl_shear_intrinsic">
<span class="sig-name descname"><span class="pre">sample_all_routine_epl_shear_intrinsic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_galaxy_parameter_distribution.html#LensGalaxyParameterDistribution.sample_all_routine_epl_shear_intrinsic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.LensGalaxyParameterDistribution.sample_all_routine_epl_shear_intrinsic" title="Link to this definition"></a></dt>
<dd><p>Sample EPL+shear galaxy lens parameters from intrinsic distributions.</p>
<p>Samples lens parameters from their intrinsic distributions without
applying strong lensing cross-section weighting.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of lens parameters to sample.</p>
<p>default: 1000</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary of sampled lens parameters.</p>
<p>The included parameters and their units are as follows (for default settings):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>zl</p></td>
<td></td>
<td><p>redshift of the lens</p></td>
</tr>
<tr class="row-odd"><td><p>zs</p></td>
<td></td>
<td><p>redshift of the source</p></td>
</tr>
<tr class="row-even"><td><p>sigma</p></td>
<td><p>km s^-1</p></td>
<td><p>velocity dispersion</p></td>
</tr>
<tr class="row-odd"><td><p>q</p></td>
<td></td>
<td><p>axis ratio</p></td>
</tr>
<tr class="row-even"><td><p>theta_E</p></td>
<td><p>radian</p></td>
<td><p>Einstein radius</p></td>
</tr>
<tr class="row-odd"><td><p>phi</p></td>
<td><p>rad</p></td>
<td><p>axis rotation angle. counter-clockwise from the
positive x-axis (RA-like axis) to the major axis of
the projected mass distribution.</p></td>
</tr>
<tr class="row-even"><td><p>gamma</p></td>
<td></td>
<td><p>density profile slope of EPL galaxy</p></td>
</tr>
<tr class="row-odd"><td><p>gamma1</p></td>
<td></td>
<td><p>external shear component in the x-direction
(RA-like axis)</p></td>
</tr>
<tr class="row-even"><td><p>gamma2</p></td>
<td></td>
<td><p>external shear component in the y-direction
(Dec-like axis)</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.cubic_spline_interpolator">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">cubic_spline_interpolator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xnew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coefficients</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#cubic_spline_interpolator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.cubic_spline_interpolator" title="Link to this definition"></a></dt>
<dd><p>Function to interpolate using cubic spline.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>xnew</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>new x values.</p>
</dd>
<dt><strong>coefficients</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>coefficients of the cubic spline.</p>
</dd>
<dt><strong>x</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>x values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>interpolated values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.inverse_transform_sampler">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">inverse_transform_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#inverse_transform_sampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.inverse_transform_sampler" title="Link to this definition"></a></dt>
<dd><p>Function to sample from the inverse transform method.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples.</p>
</dd>
<dt><strong>cdf</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>cdf values.</p>
</dd>
<dt><strong>x</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>x values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>samples</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>samples from the cdf.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.cubic_spline_interpolator2d_array">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">cubic_spline_interpolator2d_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xnew_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ynew_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coefficients</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#cubic_spline_interpolator2d_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.cubic_spline_interpolator2d_array" title="Link to this definition"></a></dt>
<dd><p>Function to calculate the interpolated value of snr_partialscaled given the mass ratio (ynew) and total mass (xnew). This is based off 2D bicubic spline interpolation.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>xnew_array</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Total mass of the binary.</p>
</dd>
<dt><strong>ynew_array</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Mass ratio of the binary.</p>
</dd>
<dt><strong>coefficients</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Array of coefficients for the cubic spline interpolation.</p>
</dd>
<dt><strong>x</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Array of total mass values for the coefficients.</p>
</dd>
<dt><strong>y</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Array of mass ratio values for the coefficients.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Interpolated value of snr_partialscaled.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.save_json">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">save_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#save_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.save_json" title="Link to this definition"></a></dt>
<dd><p>Save a dictionary as a json file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>file_name</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the parameters.</p>
</dd>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary to be saved as a json file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.load_json">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">load_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#load_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.load_json" title="Link to this definition"></a></dt>
<dd><p>Load a json file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>file_name</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.interpolator_json_path">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">interpolator_json_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolator_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#interpolator_json_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.interpolator_json_path" title="Link to this definition"></a></dt>
<dd><p>Function to create the interpolator json file path.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>identifier_dict</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of identifiers.</p>
</dd>
<dt><strong>directory</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>directory to store the interpolator.</p>
</dd>
<dt><strong>sub_directory</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>sub-directory to store the interpolator.</p>
</dd>
<dt><strong>interpolator_name</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>name of the interpolator.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>path_inv_cdf</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>path of the interpolator json file.</p>
</dd>
<dt><strong>it_exist</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>if True, the interpolator exists.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">FunctionConditioning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_zero_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaussian_kde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaussian_kde_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_function_inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_rvs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiprocessing_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id0" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#id7" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id8">
<span class="sig-name descname"><span class="pre">callback</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'None'</span></em><a class="headerlink" href="#id8" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id9">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id9" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id10">
<span class="sig-name descname"><span class="pre">create_decision_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">create_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_function_inverse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_rvs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.create_decision_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id10" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id11">
<span class="sig-name descname"><span class="pre">create_gaussian_kde</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaussian_kde_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.create_gaussian_kde"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id11" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id12">
<span class="sig-name descname"><span class="pre">create_interpolator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_function_inverse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiprocessing_function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.create_interpolator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id12" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id13">
<span class="sig-name descname"><span class="pre">create_z_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiprocessing_function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.create_z_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id13" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">cdf_values_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.cdf_values_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id14" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">pdf_norm_const_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function_spline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.pdf_norm_const_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id15" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id16">
<span class="sig-name descname"><span class="pre">function_spline_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/function_interpolation.html#FunctionConditioning.function_spline_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id16" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.inverse_transform_sampler2d">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">inverse_transform_sampler2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioned_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdf2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#inverse_transform_sampler2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.inverse_transform_sampler2d" title="Link to this definition"></a></dt>
<dd><p>Function to find sampler interpolator coefficients from the conditioned y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>size: `int`</strong></dt><dd><p>Size of the sample.</p>
</dd>
<dt><strong>conditioned_y: `float`</strong></dt><dd><p>Conditioned y value.</p>
</dd>
<dt><strong>cdf2d: `numpy.ndarray`</strong></dt><dd><p>2D array of cdf values.</p>
</dd>
<dt><strong>x2d: `numpy.ndarray`</strong></dt><dd><p>2D array of x values.</p>
</dd>
<dt><strong>y1d: `numpy.ndarray`</strong></dt><dd><p>1D array of y values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>samples: <cite>numpy.ndarray</cite></dt><dd><p>Samples of the conditioned y.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.pdf_cubic_spline_interpolator2d_array">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">pdf_cubic_spline_interpolator2d_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xnew_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ynew_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coefficients</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#pdf_cubic_spline_interpolator2d_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.pdf_cubic_spline_interpolator2d_array" title="Link to this definition"></a></dt>
<dd><p>Function to calculate the interpolated value of snr_partialscaled given the mass ratio (ynew) and total mass (xnew). This is based off 2D bicubic spline interpolation.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>xnew_array</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Total mass of the binary.</p>
</dd>
<dt><strong>ynew_array</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Mass ratio of the binary.</p>
</dd>
<dt><strong>coefficients</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Array of coefficients for the cubic spline interpolation.</p>
</dd>
<dt><strong>x</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Array of total mass values for the coefficients.</p>
</dd>
<dt><strong>y</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Array of mass ratio values for the coefficients.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Interpolated value of snr_partialscaled.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.normal_pdf">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">normal_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#normal_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.normal_pdf" title="Link to this definition"></a></dt>
<dd><p>Calculate the value of a normal probability density function.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>x</strong><span class="classifier"><cite>float</cite> or <cite>numpy.ndarray</cite></span></dt><dd><p>The value(s) at which to evaluate the PDF.</p>
</dd>
<dt><strong>mean</strong><span class="classifier"><cite>float</cite>, optional</span></dt><dd><p>The mean of the normal distribution. Default is 0.</p>
</dd>
<dt><strong>std</strong><span class="classifier"><cite>float</cite>, optional</span></dt><dd><p>The standard deviation of the normal distribution. Default is 0.05.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>pdf</strong><span class="classifier"><cite>float</cite> or <cite>numpy.ndarray</cite></span></dt><dd><p>The probability density function value(s) at x.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.normal_pdf_2d">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">normal_pdf_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#normal_pdf_2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.normal_pdf_2d" title="Link to this definition"></a></dt>
<dd><p>Calculate the value of a 2D normal probability density function.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>x</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>The x-coordinate for which the PDF is evaluated.</p>
</dd>
<dt><strong>y</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>The y-coordinate for which the PDF is evaluated.</p>
</dd>
<dt><strong>mean_x</strong><span class="classifier"><cite>float</cite>, optional</span></dt><dd><p>The mean of the normal distribution along the x-axis. Default is 0.</p>
</dd>
<dt><strong>std_x</strong><span class="classifier"><cite>float</cite>, optional</span></dt><dd><p>The standard deviation of the normal distribution along the x-axis. Default is 0.05.</p>
</dd>
<dt><strong>mean_y</strong><span class="classifier"><cite>float</cite>, optional</span></dt><dd><p>The mean of the normal distribution along the y-axis. Default is 0.</p>
</dd>
<dt><strong>std_y</strong><span class="classifier"><cite>float</cite>, optional</span></dt><dd><p>The standard deviation of the normal distribution along the y-axis. Default is 0.05.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><cite>float</cite></dt><dd><p>The probability density function value at the given x and y coordinates.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.comoving_distance">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">comoving_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">LambdaCDM(H0=70,</span> <span class="pre">Om0=0.3,</span> <span class="pre">Ode0=0.7,</span> <span class="pre">Tcmb0=0.0,</span> <span class="pre">Neff=3.04,</span> <span class="pre">m_nu=None,</span> <span class="pre">Ob0=0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/cosmological_coversions.html#comoving_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.comoving_distance" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.angular_diameter_distance">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">angular_diameter_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">LambdaCDM(H0=70,</span> <span class="pre">Om0=0.3,</span> <span class="pre">Ode0=0.7,</span> <span class="pre">Tcmb0=0.0,</span> <span class="pre">Neff=3.04,</span> <span class="pre">m_nu=None,</span> <span class="pre">Ob0=0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/cosmological_coversions.html#angular_diameter_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.angular_diameter_distance" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.angular_diameter_distance_z1z2">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">angular_diameter_distance_z1z2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">LambdaCDM(H0=70,</span> <span class="pre">Om0=0.3,</span> <span class="pre">Ode0=0.7,</span> <span class="pre">Tcmb0=0.0,</span> <span class="pre">Neff=3.04,</span> <span class="pre">m_nu=None,</span> <span class="pre">Ob0=0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/cosmological_coversions.html#angular_diameter_distance_z1z2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.angular_diameter_distance_z1z2" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.differential_comoving_volume">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">differential_comoving_volume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">LambdaCDM(H0=70,</span> <span class="pre">Om0=0.3,</span> <span class="pre">Ode0=0.7,</span> <span class="pre">Tcmb0=0.0,</span> <span class="pre">Neff=3.04,</span> <span class="pre">m_nu=None,</span> <span class="pre">Ob0=0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/cosmological_coversions.html#differential_comoving_volume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.differential_comoving_volume" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id17">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">redshift_optimal_spacing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/cosmological_coversions.html#redshift_optimal_spacing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id17" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.phi_cut_SIE">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">phi_cut_SIE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_functions.html#phi_cut_SIE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.phi_cut_SIE" title="Link to this definition"></a></dt>
<dd><p>Calculate cross-section scaling factor for SIE lens galaxy from SIS.</p>
<p>Computes the ratio of the SIE (Singular Isothermal Ellipsoid) cross-section
to the SIS (Singular Isothermal Sphere) cross-section for a given axis ratio.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Axis ratio of the lens galaxy (0 &lt; q &lt;= 1).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Scaling factor (normalized to pi).</p>
<p>For q -&gt; 1 (spherical): returns 1.0</p>
<p>For q -&gt; 0 (highly elliptical): returns ~0.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.phi_q2_ellipticity">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">phi_q2_ellipticity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_functions.html#phi_q2_ellipticity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.phi_q2_ellipticity" title="Link to this definition"></a></dt>
<dd><p>Convert position angle and axis ratio to ellipticity components.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>phi</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Position angle of the major axis (radians).</p>
</dd>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Axis ratio (0 &lt; q &lt;= 1).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>e1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>First ellipticity component.</p>
</dd>
<dt><strong>e2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Second ellipticity component.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.cross_section">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">cross_section</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta_E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_functions.html#cross_section"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.cross_section" title="Link to this definition"></a></dt>
<dd><p>Compute the strong lensing cross-section for an EPL+Shear lens.</p>
<p>Uses lenstronomy to compute the caustic structure and returns the
area enclosed by the double-image (outer) caustic.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>theta_E</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Einstein radius (radian).</p>
</dd>
<dt><strong>e1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>First ellipticity component.</p>
</dd>
<dt><strong>e2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Second ellipticity component.</p>
</dd>
<dt><strong>gamma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Power-law density profile slope.</p>
</dd>
<dt><strong>gamma1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>First external shear component.</p>
</dd>
<dt><strong>gamma2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Second external shear component.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>area</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Cross-section area (radian^2).</p>
<p>Returns 0.0 if caustic computation fails.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.cross_section_mp">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">cross_section_mp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/mp.html#cross_section_mp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.cross_section_mp" title="Link to this definition"></a></dt>
<dd><p>Multiprocessing worker for cross-section calculation.</p>
<p>Computes the lensing cross-section for given lens parameters.
Designed to be called via multiprocessing Pool.map().</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></span></dt><dd><p>Packed parameters (theta_E, e1, e2, gamma, gamma1, gamma2, idx). theta_E is in radians.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>idx</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Worker index for result ordering.</p>
</dd>
<dt><strong>area</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Cross-section area (radian^2).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id18">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">OpticalDepth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmology</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epl_shear_galaxy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_functions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_functions_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_param_samplers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_param_samplers_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./interpolator_json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_new_interpolator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id18" title="Link to this definition"></a></dt>
<dd><p>Class for computing optical depth and lens galaxy population parameters.</p>
<p>This class calculates strong lensing optical depth, velocity dispersion,
axis ratio, and other parameters for a lens galaxy population. It supports
SIS, SIE, and EPL + external shear lens models with customizable samplers
and interpolators for efficient computation.</p>
<p>Key Features:</p>
<ul class="simple">
<li><p>Multiple lens model support (SIS, SIE, EPL + shear)</p></li>
<li><p>Configurable velocity dispersion distributions</p></li>
<li><p>Cached interpolators for fast optical depth computation</p></li>
<li><p>Flexible parameter sampling with user-defined priors</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>npool</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of processors for multiprocessing.</p>
<p>default: 4</p>
</dd>
<dt><strong>z_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum redshift of the lens galaxy population.</p>
<p>default: 0.0</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum redshift of the lens galaxy population.</p>
<p>default: 10.0</p>
</dd>
<dt><strong>cosmology</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Cosmology object for distance calculations.</p>
<p>default: LambdaCDM(H0=70, Om0=0.3, Ode0=0.7)</p>
</dd>
<dt><strong>lens_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Type of lens galaxy model.</p>
<p>Options:</p>
<ul class="simple">
<li><p>‘epl_shear_galaxy’: Elliptical power-law with external shear</p></li>
<li><p>‘sie_galaxy’: Singular isothermal ellipsoid</p></li>
<li><p>‘sis_galaxy’: Singular isothermal sphere</p></li>
</ul>
<p>default: ‘epl_shear_galaxy’</p>
</dd>
<dt><strong>lens_functions</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary with lens-related functions.</p>
<p>default: None (uses defaults for lens_type)</p>
</dd>
<dt><strong>lens_functions_params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary with parameters for lens-related functions.</p>
<p>default: None</p>
</dd>
<dt><strong>lens_param_samplers</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary of sampler functions for lens parameters.</p>
<p>default: None (uses defaults for lens_type)</p>
</dd>
<dt><strong>lens_param_samplers_params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></span></dt><dd><p>Dictionary with parameters for the samplers.</p>
<p>default: None</p>
</dd>
<dt><strong>directory</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Directory where interpolators are saved.</p>
<p>default: ‘./interpolator_json’</p>
</dd>
<dt><strong>create_new_interpolator</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code> or <code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Whether to create new interpolators.</p>
<p>default: False</p>
</dd>
<dt><strong>verbose</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, prints additional information.</p>
<p>default: False</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Basic usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tau</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">optical_depth</span><span class="p">(</span><span class="n">zs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]))</span>
</pre></div>
</div>
<section id="id19">
<h4>Instance Methods<a class="headerlink" href="#id19" title="Link to this heading"></a></h4>
<p>OpticalDepth has the following instance methods:</p>
</section>
<section id="id20">
<h4>Instance Attributes<a class="headerlink" href="#id20" title="Link to this heading"></a></h4>
<p>OpticalDepth has the following instance attributes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#id22" title="ler.lens_galaxy_population.OpticalDepth.npool"><code class="xref py py-attr docutils literal notranslate"><span class="pre">npool</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td></td>
<td><p>Number of processors for multiprocessing</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id23" title="ler.lens_galaxy_population.OpticalDepth.z_min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_min</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td><p>Minimum redshift</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id24" title="ler.lens_galaxy_population.OpticalDepth.z_max"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_max</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td><p>Maximum redshift</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id25" title="ler.lens_galaxy_population.OpticalDepth.cosmo"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cosmo</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></p></td>
<td></td>
<td><p>Cosmology object</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id21" title="ler.lens_galaxy_population.OpticalDepth.lens_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lens_type</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td></td>
<td><p>Type of lens galaxy model</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id26" title="ler.lens_galaxy_population.OpticalDepth.directory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">directory</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td></td>
<td><p>Directory for interpolator storage</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="optical_depth/index.html#module-ler.lens_galaxy_population.optical_depth" title="ler.lens_galaxy_population.optical_depth"><code class="xref py py-attr docutils literal notranslate"><span class="pre">optical_depth</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>Optical depth calculator</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id27" title="ler.lens_galaxy_population.OpticalDepth.velocity_dispersion"><code class="xref py py-attr docutils literal notranslate"><span class="pre">velocity_dispersion</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td><p>km/s</p></td>
<td><p>Velocity dispersion sampler</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id28" title="ler.lens_galaxy_population.OpticalDepth.axis_ratio"><code class="xref py py-attr docutils literal notranslate"><span class="pre">axis_ratio</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>Axis ratio sampler</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id29" title="ler.lens_galaxy_population.OpticalDepth.axis_rotation_angle"><code class="xref py py-attr docutils literal notranslate"><span class="pre">axis_rotation_angle</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td><p>rad</p></td>
<td><p>Axis rotation angle sampler</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id33" title="ler.lens_galaxy_population.OpticalDepth.lens_redshift"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lens_redshift</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>Lens redshift sampler</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id31" title="ler.lens_galaxy_population.OpticalDepth.external_shear"><code class="xref py py-attr docutils literal notranslate"><span class="pre">external_shear</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>External shear sampler</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id30" title="ler.lens_galaxy_population.OpticalDepth.density_profile_slope"><code class="xref py py-attr docutils literal notranslate"><span class="pre">density_profile_slope</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></p></td>
<td></td>
<td><p>Density profile slope sampler</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id72" title="ler.lens_galaxy_population.cross_section"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cross_section</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">callable</span></code></p></td>
<td><p>rad²</p></td>
<td><p>Cross-section calculator</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id37" title="ler.lens_galaxy_population.OpticalDepth.available_lens_samplers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">available_lens_samplers</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Available lens parameter samplers</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id38" title="ler.lens_galaxy_population.OpticalDepth.available_lens_functions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">available_lens_functions</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td></td>
<td><p>Available lens functions</p></td>
</tr>
</tbody>
</table>
<dl class="py property">
<dt class="sig sig-object py" id="id21">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lens_type</span></span><a class="headerlink" href="#id21" title="Link to this definition"></a></dt>
<dd><p>Type of lens galaxy model.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Lens type (‘epl_shear_galaxy’, ‘sie_galaxy’, or ‘sis_galaxy’).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id22">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">npool</span></span><a class="headerlink" href="#id22" title="Link to this definition"></a></dt>
<dd><p>Number of processors for multiprocessing.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>npool</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of parallel processors.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id23">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">z_min</span></span><a class="headerlink" href="#id23" title="Link to this definition"></a></dt>
<dd><p>Minimum redshift of the lens galaxy population.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum redshift.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id24">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">z_max</span></span><a class="headerlink" href="#id24" title="Link to this definition"></a></dt>
<dd><p>Maximum redshift of the lens galaxy population.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum redshift.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id25">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cosmo</span></span><a class="headerlink" href="#id25" title="Link to this definition"></a></dt>
<dd><p>Cosmology object for distance calculations.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>cosmo</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></span></dt><dd><p>Cosmology object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id26">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">directory</span></span><a class="headerlink" href="#id26" title="Link to this definition"></a></dt>
<dd><p>Directory for interpolator storage.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>directory</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>Path to interpolator JSON files.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id27">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">velocity_dispersion</span></span><a class="headerlink" href="#id27" title="Link to this definition"></a></dt>
<dd><p>Velocity dispersion sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size,</span> <span class="pre">zl)</span></code>: Sample velocity dispersion values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(sigma,</span> <span class="pre">zl)</span></code>: Get probability density</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function(sigma,</span> <span class="pre">zl)</span></code>: Get number density function</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>velocity_dispersion</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for velocity dispersion (km/s).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">velocity_dispersion</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id28">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_ratio</span></span><a class="headerlink" href="#id28" title="Link to this definition"></a></dt>
<dd><p>Axis ratio sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size,</span> <span class="pre">sigma)</span></code>: Sample axis ratio values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(q,</span> <span class="pre">sigma)</span></code>: Get probability density</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function(q,</span> <span class="pre">sigma)</span></code>: Get distribution function</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>axis_ratio</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for axis ratio.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_ratio</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">200.</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id29">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_rotation_angle</span></span><a class="headerlink" href="#id29" title="Link to this definition"></a></dt>
<dd><p>Axis rotation angle sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample axis rotation angles</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(phi)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>axis_rotation_angle</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for axis rotation angle (rad).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phi</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_rotation_angle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id30">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">density_profile_slope</span></span><a class="headerlink" href="#id30" title="Link to this definition"></a></dt>
<dd><p>Density profile slope sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample density profile slope values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(gamma)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>density_profile_slope</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for density profile slope.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">density_profile_slope</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id31">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">external_shear</span></span><a class="headerlink" href="#id31" title="Link to this definition"></a></dt>
<dd><p>External shear sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample shear components (gamma1, gamma2)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(gamma1,</span> <span class="pre">gamma2)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>external_shear</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for external shear.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">external_shear</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id32">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cross_section</span></span><a class="headerlink" href="#id32" title="Link to this definition"></a></dt>
<dd><p>Lensing cross-section calculator.</p>
<p>Returns a callable that computes lensing cross-section for individual</p>
<p>lensing events. Input parameters depend on lens type:</p>
<ul class="simple">
<li><p>EPL+shear: zs, zl, sigma, q, phi, gamma, gamma1, gamma2</p></li>
<li><p>SIE: zs, zl, sigma, q</p></li>
<li><p>SIS: zs, zl, sigma</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>cross_section</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Cross-section function (rad² units).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">cross_section</span><span class="p">(</span><span class="n">zs</span><span class="o">=</span><span class="n">zs</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="n">zl</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="n">sigma</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id33">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lens_redshift</span></span><a class="headerlink" href="#id33" title="Link to this definition"></a></dt>
<dd><p>Lens redshift sampler object.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size,</span> <span class="pre">zs)</span></code>: Sample lens redshifts given source redshifts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(zl,</span> <span class="pre">zs)</span></code>: Get probability density</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function(zl,</span> <span class="pre">zs)</span></code>: Get effective lensing cross-section</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_redshift</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for lens redshift.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">lens_redshift</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">2.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id34">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">density_profile_slope_sl</span></span><a class="headerlink" href="#id34" title="Link to this definition"></a></dt>
<dd><p>Density profile slope sampler object (strong lensing conditioned).</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample density profile slope values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(gamma)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>density_profile_slope_sl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for density profile slope (strong lensing).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">density_profile_slope_sl</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id35">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">external_shear_sl</span></span><a class="headerlink" href="#id35" title="Link to this definition"></a></dt>
<dd><p>External shear sampler object (strong lensing conditioned).</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code> object with methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rvs(size)</span></code>: Sample shear components (gamma1, gamma2)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf(gamma1,</span> <span class="pre">gamma2)</span></code>: Get probability density</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>external_shear_sl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Sampler object for external shear (strong lensing).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">external_shear_sl</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id36">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">optical_depth</span></span><a class="headerlink" href="#id36" title="Link to this definition"></a></dt>
<dd><p>Strong lensing optical depth calculator.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>optical_depth</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Function object with <cite>.function(zs)</cite> method that returns n
optical depth for given source redshifts.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tau</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">optical_depth</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id37">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_lens_samplers</span></span><a class="headerlink" href="#id37" title="Link to this definition"></a></dt>
<dd><p>Dictionary of available lens parameter samplers and their default parameters.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>available_lens_samplers</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary with sampler names and default parameters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id38">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_lens_functions</span></span><a class="headerlink" href="#id38" title="Link to this definition"></a></dt>
<dd><p>Dictionary of available lens functions and their default parameters.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>available_lens_functions</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Dictionary with function names and default parameters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id39">
<span class="sig-name descname"><span class="pre">comoving_distance</span></span><a class="headerlink" href="#id39" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id40">
<span class="sig-name descname"><span class="pre">angular_diameter_distance</span></span><a class="headerlink" href="#id40" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id41">
<span class="sig-name descname"><span class="pre">angular_diameter_distance_z1z2</span></span><a class="headerlink" href="#id41" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id42">
<span class="sig-name descname"><span class="pre">differential_comoving_volume</span></span><a class="headerlink" href="#id42" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id43">
<span class="sig-name descname"><span class="pre">lens_redshift_intrinsic</span></span><a class="headerlink" href="#id43" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id44">
<span class="sig-name descname"><span class="pre">lens_redshift_strongly_lensed_numerical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.lens_redshift_strongly_lensed_numerical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id44" title="Link to this definition"></a></dt>
<dd><p>Sample lens redshifts conditioned on strong lensing (numerical method).</p>
<p>This method computes the lens redshift distribution by numerically
integrating over the velocity dispersion distribution (galaxy density distribution wrt), cross-section and differential comoving volume.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate. n
default: 1000</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples. n
default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Lens redshift samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">lens_redshift</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">2.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id45">
<span class="sig-name descname"><span class="pre">lens_redshift_strongly_lensed_sis_haris</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.lens_redshift_strongly_lensed_sis_haris"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id45" title="Link to this definition"></a></dt>
<dd><p>Sample SIS lens redshifts using Haris et al. (2018) distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Lens redshift samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_type</span><span class="o">=</span><span class="s1">&#39;sis_galaxy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">lens_redshift</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">2.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id46">
<span class="sig-name descname"><span class="pre">velocity_dispersion_gengamma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.velocity_dispersion_gengamma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id46" title="Link to this definition"></a></dt>
<dd><p>Sample velocity dispersion from generalized gamma distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sigma_min</p></td>
<td><p>km/s</p></td>
<td><p>minimum velocity dispersion</p></td>
</tr>
<tr class="row-odd"><td><p>sigma_max</p></td>
<td><p>km/s</p></td>
<td><p>maximum velocity dispersion</p></td>
</tr>
<tr class="row-even"><td><p>alpha</p></td>
<td><p>dimensionless</p></td>
<td><p>Power-law index governing the slope
of the distribution at low velocities</p></td>
</tr>
<tr class="row-odd"><td><p>beta</p></td>
<td><p>dimensionless</p></td>
<td><p>Exponential parameter determining the
sharpness of the high-velocity cutoff</p></td>
</tr>
<tr class="row-even"><td><p>phistar</p></td>
<td><p>h^3 Mpc^-3</p></td>
<td><p>Normalization constant representing
the comoving number density of galaxy</p></td>
</tr>
<tr class="row-odd"><td><p>sigmastar</p></td>
<td><p>km/s</p></td>
<td><p>Characteristic velocity scale marking
the “knee” transition in the VDF</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Velocity dispersion samples (km/s) or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">velocity_dispersion</span><span class="o">=</span><span class="s2">&quot;velocity_dispersion_gengamma&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">velocity_dispersion</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id47">
<span class="sig-name descname"><span class="pre">velocity_dispersion_bernardi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.velocity_dispersion_bernardi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id47" title="Link to this definition"></a></dt>
<dd><p>Sample velocity dispersion from Bernardi et al. (2010) distribution.</p>
<p>Uses inverse transform sampling on the velocity dispersion function.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sigma_min</p></td>
<td><p>km/s</p></td>
<td><p>minimum velocity dispersion</p></td>
</tr>
<tr class="row-odd"><td><p>sigma_max</p></td>
<td><p>km/s</p></td>
<td><p>maximum velocity dispersion</p></td>
</tr>
<tr class="row-even"><td><p>alpha</p></td>
<td><p>dimensionless</p></td>
<td><p>Power-law index governing the slope
of the distribution at low velocities</p></td>
</tr>
<tr class="row-odd"><td><p>beta</p></td>
<td><p>dimensionless</p></td>
<td><p>Exponential parameter determining the
sharpness of the high-velocity cutoff</p></td>
</tr>
<tr class="row-even"><td><p>phistar</p></td>
<td><p>h^3 Mpc^-3</p></td>
<td><p>Normalization constant representing
the comoving number density of galaxy</p></td>
</tr>
<tr class="row-odd"><td><p>sigmastar</p></td>
<td><p>km/s</p></td>
<td><p>Characteristic velocity scale marking
the “knee” transition in the VDF</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Velocity dispersion samples (km/s) or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">velocity_dispersion</span><span class="o">=</span><span class="s2">&quot;velocity_dispersion_bernardi&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">velocity_dispersion</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id48">
<span class="sig-name descname"><span class="pre">velocity_dispersion_ewoud</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.velocity_dispersion_ewoud"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id48" title="Link to this definition"></a></dt>
<dd><p>Sample redshift-dependent velocity dispersion from Wempe et al. (2022).</p>
<p>Uses inverse transform sampling with redshift-dependent velocity
dispersion function.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Lens redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sigma_min</p></td>
<td><p>km/s</p></td>
<td><p>minimum velocity dispersion</p></td>
</tr>
<tr class="row-odd"><td><p>sigma_max</p></td>
<td><p>km/s</p></td>
<td><p>maximum velocity dispersion</p></td>
</tr>
<tr class="row-even"><td><p>alpha</p></td>
<td><p>dimensionless</p></td>
<td><p>Power-law index governing the slope
of the distribution at low velocities</p></td>
</tr>
<tr class="row-odd"><td><p>beta</p></td>
<td><p>dimensionless</p></td>
<td><p>Exponential parameter determining the
sharpness of the high-velocity cutoff</p></td>
</tr>
<tr class="row-even"><td><p>phistar</p></td>
<td><p>h^3 Mpc^-3</p></td>
<td><p>Normalization constant representing
the comoving number density of galaxy</p></td>
</tr>
<tr class="row-odd"><td><p>sigmastar</p></td>
<td><p>km/s</p></td>
<td><p>Characteristic velocity scale marking
the “knee” transition in the VDF</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Velocity dispersion samples (km/s) or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">velocity_dispersion</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id49">
<span class="sig-name descname"><span class="pre">axis_ratio_rayleigh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.axis_ratio_rayleigh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id49" title="Link to this definition"></a></dt>
<dd><p>Sample axis ratio from Rayleigh distribution conditioned on velocity dispersion.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Velocity dispersion of the lens galaxy (km/s).</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (q_min, q_max).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Axis ratio samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">axis_ratio</span><span class="o">=</span><span class="s2">&quot;axis_ratio_rayleigh&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_ratio</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mf">200.</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id50">
<span class="sig-name descname"><span class="pre">axis_ratio_padilla_strauss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.axis_ratio_padilla_strauss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id50" title="Link to this definition"></a></dt>
<dd><p>Sample axis ratio from Padilla &amp; Strauss (2008) distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
<p>default: 1000</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (q_min, q_max).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Axis ratio samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">axis_ratio</span><span class="o">=</span><span class="s2">&quot;axis_ratio_padilla_strauss&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_ratio</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id51">
<span class="sig-name descname"><span class="pre">axis_rotation_angle_uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.axis_rotation_angle_uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id51" title="Link to this definition"></a></dt>
<dd><p>Sample axis rotation angle from uniform distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (phi_min, phi_max).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>phi</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Axis rotation angle samples (rad) or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phi</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_rotation_angle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id52">
<span class="sig-name descname"><span class="pre">axis_ratio_uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.axis_ratio_uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id52" title="Link to this definition"></a></dt>
<dd><p>Sample axis ratio from uniform distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (q_min, q_max).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Axis ratio samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">(</span><span class="n">lens_param_samplers</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">axis_ratio</span><span class="o">=</span><span class="s2">&quot;axis_ratio_uniform&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">axis_ratio</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id53">
<span class="sig-name descname"><span class="pre">external_shear_normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.external_shear_normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id53" title="Link to this definition"></a></dt>
<dd><p>Sample external shear parameters from 2D normal distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (mean, std).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>shear</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Array of shape (2, size) with gamma1, gamma2 or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">external_shear</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id54">
<span class="sig-name descname"><span class="pre">density_profile_slope_normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.density_profile_slope_normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id54" title="Link to this definition"></a></dt>
<dd><p>Sample density profile slope from normal distribution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to generate.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the sampler object instead of samples.</p>
<p>default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters (mean, std).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>gamma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Density profile slope samples or sampler object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gamma</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">density_profile_slope</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id55">
<span class="sig-name descname"><span class="pre">optical_depth_numerical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.optical_depth_numerical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id55" title="Link to this definition"></a></dt>
<dd><p>Helper to compute optical depth numerically by integrating lens redshift.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the function object instead of values. n
default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>tau</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Optical depth values or function object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id56">
<span class="sig-name descname"><span class="pre">compute_einstein_radii</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.compute_einstein_radii"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id56" title="Link to this definition"></a></dt>
<dd><p>Function to compute the Einstein radii of the lens galaxies</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>velocity dispersion of the lens galaxy</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>lens redshifts</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>source redshifts</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>theta_E</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Einstein radii of the lens galaxies in radians. Multiply by</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">LensGalaxyParameterDistribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span> <span class="o">=</span> <span class="n">LensGalaxyParameterDistribution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="mf">200.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zs</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens</span><span class="o">.</span><span class="n">compute_einstein_radii</span><span class="p">(</span><span class="n">sigma</span><span class="p">,</span> <span class="n">zl</span><span class="p">,</span> <span class="n">zs</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id57">
<span class="sig-name descname"><span class="pre">optical_depth_sis_analytic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.optical_depth_sis_analytic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id57" title="Link to this definition"></a></dt>
<dd><p>Function to compute the strong lensing optical depth (SIS).
LambdaCDM(H0=70, Om0=0.3, Ode0=0.7) was used to derive the following equation. This is the analytic version of optical depth from z=0 to z=zs.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>get_attribute</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, returns the function object instead of values. n
default: False</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Additional parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>tau</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="docutils literal notranslate"><span class="pre">FunctionConditioning</span></code></span></dt><dd><p>Optical depth values or function object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id58">
<span class="sig-name descname"><span class="pre">cross_section_sis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_sis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id58" title="Link to this definition"></a></dt>
<dd><p>Function to compute the SIS cross-section</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>velocity dispersion of the lens galaxy</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>redshift of the lens galaxy</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>redshift of the source galaxy</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cross_section</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>SIS cross-section</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cross_section_sis</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mf">200.</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id59">
<span class="sig-name descname"><span class="pre">cross_section_sie_feixu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_sie_feixu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id59" title="Link to this definition"></a></dt>
<dd><p>Function to compute the SIE cross-section from Fei Xu et al. (2021)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>velocity dispersion of the lens galaxy</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>redshift of the lens galaxy</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>redshift of the source galaxy</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cross_section</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>SIE cross-section</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">OpticalDepth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">OpticalDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cross_section_sie_feixu</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mf">200.</span><span class="p">,</span> <span class="n">zl</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id60">
<span class="sig-name descname"><span class="pre">cross_section_epl_shear_numerical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_epl_shear_numerical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id60" title="Link to this definition"></a></dt>
<dd><p>Function to compute the strong lensing cross-section numerically for EPL + external shear lenses.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>redshift of the source galaxies</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>redshift of the lens galaxies</p>
</dd>
<dt><strong>sigma</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>velocity dispersion of the lens galaxies</p>
</dd>
<dt><strong>q</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>axis ratios of the lens galaxies</p>
</dd>
<dt><strong>phi</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>axis rotation angles of the lens galaxies in radians</p>
</dd>
<dt><strong>gamma</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear magnitudes of the lens galaxies</p>
</dd>
<dt><strong>gamma1</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear component 1 of the lens galaxies</p>
</dd>
<dt><strong>gamma2</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear component 2 of the lens galaxies</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cross_section</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>strong lensing cross-section of the lens galaxies in square radians</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id61">
<span class="sig-name descname"><span class="pre">cross_section_epl_shear_numerical_mp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta_E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_epl_shear_numerical_mp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id61" title="Link to this definition"></a></dt>
<dd><p>Function to compute the strong lensing cross-section numerically for EPL + external shear lenses.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>theta_E</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Einstein radii of the lens galaxies in radians</p>
</dd>
<dt><strong>gamma</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear magnitudes of the lens galaxies</p>
</dd>
<dt><strong>gamma1</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear component 1 of the lens galaxies</p>
</dd>
<dt><strong>gamma2</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>external shear component 2 of the lens galaxies</p>
</dd>
<dt><strong>q</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>axis ratios of the lens galaxies</p>
</dd>
<dt><strong>phi</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>axis rotation angles of the lens galaxies in radians</p>
</dd>
<dt><strong>e1</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>ellipticity component 1 of the lens galaxies</p>
</dd>
<dt><strong>e2</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>ellipticity component 2 of the lens galaxies</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cross_section</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>strong lensing cross-section of the lens galaxies in square radians</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id62">
<span class="sig-name descname"><span class="pre">create_parameter_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[25,</span> <span class="pre">25,</span> <span class="pre">45,</span> <span class="pre">15,</span> <span class="pre">15]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.create_parameter_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id62" title="Link to this definition"></a></dt>
<dd><p>Create a parameter grid for lens galaxies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>size_list</strong><span class="classifier">list</span></dt><dd><p>List of sizes for each parameter grid.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>zl</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>Lens redshifts.</p>
</dd>
<dt><strong>sigma</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>Velocity dispersions.</p>
</dd>
<dt><strong>q</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>Axis ratios.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id63">
<span class="sig-name descname"><span class="pre">cross_section_epl_shear_interpolation_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_epl_shear_interpolation_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id63" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id64">
<span class="sig-name descname"><span class="pre">cross_section_epl_shear_interpolation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[25,</span> <span class="pre">25,</span> <span class="pre">45,</span> <span class="pre">15,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/optical_depth.html#OpticalDepth.cross_section_epl_shear_interpolation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id64" title="Link to this definition"></a></dt>
<dd><p>Function to compute the cross-section correction factor</p>
</dd></dl>

</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id65">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">cross_section</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta_E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_functions.html#cross_section"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id65" title="Link to this definition"></a></dt>
<dd><p>Compute the strong lensing cross-section for an EPL+Shear lens.</p>
<p>Uses lenstronomy to compute the caustic structure and returns the
area enclosed by the double-image (outer) caustic.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>theta_E</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Einstein radius (radian).</p>
</dd>
<dt><strong>e1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>First ellipticity component.</p>
</dd>
<dt><strong>e2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Second ellipticity component.</p>
</dd>
<dt><strong>gamma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Power-law density profile slope.</p>
</dd>
<dt><strong>gamma1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>First external shear component.</p>
</dd>
<dt><strong>gamma2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Second external shear component.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>area</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Cross-section area (radian^2).</p>
<p>Returns 0.0 if caustic computation fails.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.load_pickle">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">load_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#load_pickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.load_pickle" title="Link to this definition"></a></dt>
<dd><p>Load a pickle file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>file_name</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>pickle file name for storing the parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CS_UNIT_SLOPE">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">CS_UNIT_SLOPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'0.31830988618379075'</span></em><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/mp.html#CS_UNIT_SLOPE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CS_UNIT_SLOPE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.CS_UNIT_INTERCEPT">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">CS_UNIT_INTERCEPT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'-3.2311742677852644e-27'</span></em><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/mp.html#CS_UNIT_INTERCEPT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.CS_UNIT_INTERCEPT" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.lens_redshift_strongly_lensed_njit">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">lens_redshift_strongly_lensed_njit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl_scaled</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dVcdz_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/mp.html#lens_redshift_strongly_lensed_njit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_njit" title="Link to this definition"></a></dt>
<dd><p>JIT-compiled parallel computation of lens redshift optical depth.</p>
<p>Computes the differential optical depth for strong lensing as a function
of source and lens redshifts using Monte Carlo integration with parallel
execution over source redshifts.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs_array</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>1D array of source redshifts.</p>
</dd>
<dt><strong>zl_scaled</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>2D array of scaled lens redshifts (zl/zs).</p>
</dd>
<dt><strong>sigma_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum velocity dispersion (km/s).</p>
</dd>
<dt><strong>sigma_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum velocity dispersion (km/s).</p>
</dd>
<dt><strong>q_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample axis ratios given size and sigma.</p>
</dd>
<dt><strong>phi_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample axis rotation angles.</p>
</dd>
<dt><strong>gamma_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample density profile slopes.</p>
</dd>
<dt><strong>shear_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample external shear components (gamma1, gamma2).</p>
</dd>
<dt><strong>number_density</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to compute velocity dispersion number density.</p>
</dd>
<dt><strong>cross_section</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to compute lensing cross-section.</p>
</dd>
<dt><strong>dVcdz_function</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to compute differential comoving volume.</p>
</dd>
<dt><strong>integration_size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of Monte Carlo samples per (zs, zl) pair.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>result_array</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>2D array of optical depth values with shape (len(zs_array), len(zl_scaled[0])).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.lens_redshift_strongly_lensed_mp">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">lens_redshift_strongly_lensed_mp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/mp.html#lens_redshift_strongly_lensed_mp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_mp" title="Link to this definition"></a></dt>
<dd><p>Multiprocessing worker for lens redshift optical depth calculation.</p>
<p>Computes the differential optical depth for a single source redshift
across multiple lens redshifts. Designed to be called via multiprocessing
Pool.map() for parallel computation.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></span></dt><dd><p>Packed parameters tuple containing:</p>
<ul class="simple">
<li><p>params[0]: Source redshift (float)</p></li>
<li><p>params[1]: Scaled lens redshift array (1D array)</p></li>
<li><p>params[2]: Worker index (int)</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>idx</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Worker index for result ordering.</p>
</dd>
<dt><strong>result_array</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>1D array of optical depth values for each lens redshift.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.cross_section_unit_mp">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">cross_section_unit_mp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/mp.html#cross_section_unit_mp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.cross_section_unit_mp" title="Link to this definition"></a></dt>
<dd><p>Multiprocessing worker for unit Einstein radius cross-section.</p>
<p>Computes the lensing cross-section for a lens with unit Einstein radius
(theta_E = 1). Used for building cross-section interpolation grids.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></span></dt><dd><p>Packed parameters (e1, e2, gamma, gamma1, gamma2, idx).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>idx</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Worker index for result ordering.</p>
</dd>
<dt><strong>area</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Cross-section area (dimensionless, for theta_E = 1).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id66">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">cross_section_mp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/mp.html#cross_section_mp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id66" title="Link to this definition"></a></dt>
<dd><p>Multiprocessing worker for cross-section calculation.</p>
<p>Computes the lensing cross-section for given lens parameters.
Designed to be called via multiprocessing Pool.map().</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>params</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></span></dt><dd><p>Packed parameters (theta_E, e1, e2, gamma, gamma1, gamma2, idx). theta_E is in radians.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>idx</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Worker index for result ordering.</p>
</dd>
<dt><strong>area</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Cross-section area (radian^2).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.is_njitted">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">is_njitted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#is_njitted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.is_njitted" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.save_pickle">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">save_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#save_pickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.save_pickle" title="Link to this definition"></a></dt>
<dd><p>Save a dictionary as a pickle file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>file_name</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>pickle file name for storing the parameters.</p>
</dd>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary to be saved as a pickle file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id67">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">load_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#load_pickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id67" title="Link to this definition"></a></dt>
<dd><p>Load a pickle file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>file_name</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>pickle file name for storing the parameters.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id68">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">inverse_transform_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/utils.html#inverse_transform_sampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id68" title="Link to this definition"></a></dt>
<dd><p>Function to sample from the inverse transform method.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples.</p>
</dd>
<dt><strong>cdf</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>cdf values.</p>
</dd>
<dt><strong>x</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>x values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>samples</strong><span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>samples from the cdf.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id69">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">redshift_optimal_spacing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/utils/cosmological_coversions.html#redshift_optimal_spacing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id69" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.available_sampler_list">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">available_sampler_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#available_sampler_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.available_sampler_list" title="Link to this definition"></a></dt>
<dd><p>Return list of available lens parameter samplers.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sampler_list</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">list</span></code></span></dt><dd><p>List of available sampler function names.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">samplers</span> <span class="o">=</span> <span class="n">available_sampler_list</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">samplers</span><span class="p">)</span>
<span class="go">[&#39;lens_redshift_strongly_lensed_sis_haris&#39;, &#39;velocity_dispersion_gengamma&#39;, &#39;axis_ratio_rayleigh&#39;, &#39;axis_ratio_padilla_strauss&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_pdf">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">lens_redshift_strongly_lensed_sis_haris_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">LambdaCDM(H0=70,</span> <span class="pre">Om0=0.3,</span> <span class="pre">Ode0=0.7,</span> <span class="pre">Tcmb0=0.0,</span> <span class="pre">Neff=3.04,</span> <span class="pre">m_nu=None,</span> <span class="pre">Ob0=0.0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#lens_redshift_strongly_lensed_sis_haris_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_pdf" title="Link to this definition"></a></dt>
<dd><p>Compute lens redshift PDF for SIS model (Haris et al. 2018).</p>
<p>Computes the probability density function for lens redshift between
zl=0 and zl=zs using the analytical form from Haris et al. (2018)
equation A7, based on the SIS (Singular Isothermal Sphere) lens model.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Redshift of the lens galaxy.</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Redshift of the source.</p>
</dd>
<dt><strong>cosmo</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></span></dt><dd><p>Cosmology object for distance calculations.</p>
<p>default: LambdaCDM(H0=70, Om0=0.3, Ode0=0.7, Tcmb0=0.0, Neff=3.04, m_nu=None, Ob0=0.0)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>pdf</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Probability density at the given lens redshift.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.cosmology</span> <span class="kn">import</span> <span class="n">LambdaCDM</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cosmo</span> <span class="o">=</span> <span class="n">LambdaCDM</span><span class="p">(</span><span class="n">H0</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">Om0</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">Ode0</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">Tcmb0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">Neff</span><span class="o">=</span><span class="mf">3.04</span><span class="p">,</span> <span class="n">m_nu</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Ob0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pdf</span> <span class="o">=</span> <span class="n">lens_redshift_strongly_lensed_sis_haris_pdf</span><span class="p">(</span><span class="n">zl</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">zs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">cosmo</span><span class="o">=</span><span class="n">cosmo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;PDF at zl=0.5: </span><span class="si">{</span><span class="n">pdf</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">PDF at zl=0.5: 1.8750</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_rvs">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">lens_redshift_strongly_lensed_sis_haris_rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">LambdaCDM(H0=70,</span> <span class="pre">Om0=0.3,</span> <span class="pre">Ode0=0.7,</span> <span class="pre">Tcmb0=0.0,</span> <span class="pre">Neff=3.04,</span> <span class="pre">m_nu=None,</span> <span class="pre">Ob0=0.0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#lens_redshift_strongly_lensed_sis_haris_rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.lens_redshift_strongly_lensed_sis_haris_rvs" title="Link to this definition"></a></dt>
<dd><p>Sample lens redshifts for SIS model (Haris et al. 2018).</p>
<p>Uses inverse transform sampling with the analytical CDF of the Haris et al.
(2018) lens redshift distribution to efficiently generate samples.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Redshift of the source.</p>
</dd>
<dt><strong>z_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum redshift for interpolation grid.</p>
<p>default: 0.001</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum redshift for interpolation grid.</p>
<p>default: 10.0</p>
</dd>
<dt><strong>cosmo</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">astropy.cosmology</span></code></span></dt><dd><p>Cosmology object for distance calculations.</p>
<p>default: LambdaCDM(H0=70, Om0=0.3, Ode0=0.7, Tcmb0=0.0, Neff=3.04, m_nu=None, Ob0=0.0)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Array of sampled lens redshifts with shape (size,).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.cosmology</span> <span class="kn">import</span> <span class="n">LambdaCDM</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cosmo</span> <span class="o">=</span> <span class="n">LambdaCDM</span><span class="p">(</span><span class="n">H0</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">Om0</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">Ode0</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">Tcmb0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">Neff</span><span class="o">=</span><span class="mf">3.04</span><span class="p">,</span> <span class="n">m_nu</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Ob0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl_samples</span> <span class="o">=</span> <span class="n">lens_redshift_strongly_lensed_sis_haris_rvs</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">zs</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">z_min</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">z_max</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">cosmo</span><span class="o">=</span><span class="n">cosmo</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean lens redshift: </span><span class="si">{</span><span class="n">zl_samples</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Redshift range: [</span><span class="si">{</span><span class="n">zl_samples</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">zl_samples</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.velocity_dispersion_ewoud_denisty_function">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">velocity_dispersion_ewoud_denisty_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.85</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phistar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02099</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmastar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">113.78</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#velocity_dispersion_ewoud_denisty_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.velocity_dispersion_ewoud_denisty_function" title="Link to this definition"></a></dt>
<dd><p>Calculate the lens galaxy velocity dispersion function at redshift z (Oguri et al. (2018b) + Wempe et al. (2022)).</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Velocity dispersion of the lens galaxy (km/s).</p>
</dd>
<dt><strong>z</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Redshift of the lens galaxy.</p>
</dd>
<dt><strong>alpha</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Shape parameter of the velocity dispersion function.</p>
<p>default: 0.94</p>
</dd>
<dt><strong>beta</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Slope parameter of the velocity dispersion function.</p>
<p>default: 1.85</p>
</dd>
<dt><strong>phistar</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Normalization of the velocity dispersion function (Mpc^-3).</p>
<p>default: 2.099e-2</p>
</dd>
<dt><strong>sigmastar</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Characteristic velocity dispersion (km/s).</p>
<p>default: 113.78</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Velocity dispersion function values.</p>
<p>Negative values are clipped to 0.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.velocity_dispersion_bernardi_denisty_function">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">velocity_dispersion_bernardi_denisty_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phistar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmastar</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#velocity_dispersion_bernardi_denisty_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.velocity_dispersion_bernardi_denisty_function" title="Link to this definition"></a></dt>
<dd><p>Calculate the local universe velocity dispersion function.</p>
<p>This implements the velocity dispersion function from Bernardi et al. (2010).</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Velocity dispersion of the lens galaxy (km/s).</p>
</dd>
<dt><strong>alpha</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Shape parameter (alpha/beta is used in the gamma function).</p>
<p>For Oguri et al. (2018b): alpha=0.94</p>
<p>For Choi et al. (2008): alpha=2.32/2.67</p>
</dd>
<dt><strong>beta</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Slope parameter of the velocity dispersion function.</p>
<p>For Oguri et al. (2018b): beta=1.85</p>
<p>For Choi et al. (2008): beta=2.67</p>
</dd>
<dt><strong>phistar</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Normalization of the velocity dispersion function (Mpc^-3).</p>
<p>For Oguri et al. (2018b): phistar=2.099e-2*(h/0.7)^3</p>
<p>For Choi et al. (2008): phistar=8.0e-3*h^3</p>
</dd>
<dt><strong>sigmastar</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Characteristic velocity dispersion (km/s).</p>
<p>For Oguri et al. (2018b): sigmastar=113.78</p>
<p>For Choi et al. (2008): sigmastar=161.0</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>philoc</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Local velocity dispersion function values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.velocity_dispersion_gengamma_density_function">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">velocity_dispersion_gengamma_density_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.85</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phistar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02099</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmastar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">113.78</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#velocity_dispersion_gengamma_density_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.velocity_dispersion_gengamma_density_function" title="Link to this definition"></a></dt>
<dd><p>Compute unnormalized velocity dispersion function using generalized gamma.</p>
<p>Computes the galaxy velocity dispersion function (VDF) using the generalized
gamma distribution formulation from Choi et al. (2007).</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Velocity dispersion in km/s.</p>
</dd>
<dt><strong>alpha</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Power-law index governing the low-velocity slope.</p>
<p>default: 0.94</p>
</dd>
<dt><strong>beta</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Exponential parameter for high-velocity cutoff sharpness.</p>
<p>default: 1.85</p>
</dd>
<dt><strong>phistar</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Normalization constant (comoving number density, Mpc^-3).</p>
<p>default: 8.0e-3</p>
</dd>
<dt><strong>sigmastar</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Characteristic velocity scale in km/s.</p>
<p>default: 113.78</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>density</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Unnormalized velocity dispersion function value.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">150.0</span><span class="p">,</span> <span class="mf">200.0</span><span class="p">,</span> <span class="mf">250.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">density</span> <span class="o">=</span> <span class="n">velocity_dispersion_gengamma_density_function</span><span class="p">(</span><span class="n">sigma</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Density at sigma=200 km/s: </span><span class="si">{</span><span class="n">density</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.velocity_dispersion_gengamma_pdf">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">velocity_dispersion_gengamma_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">400.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.85</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmastar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">113.78</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#velocity_dispersion_gengamma_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.velocity_dispersion_gengamma_pdf" title="Link to this definition"></a></dt>
<dd><p>Compute normalized velocity dispersion PDF using generalized gamma.</p>
<p>Computes the probability density function for velocity dispersion using
the generalized gamma distribution, normalized over the specified range.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Velocity dispersion in km/s.</p>
</dd>
<dt><strong>sigma_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum velocity dispersion for normalization (km/s).</p>
<p>default: 100.0</p>
</dd>
<dt><strong>sigma_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum velocity dispersion for normalization (km/s).</p>
<p>default: 400.0</p>
</dd>
<dt><strong>alpha</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Power-law index governing the low-velocity slope.</p>
<p>default: 0.94</p>
</dd>
<dt><strong>beta</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Exponential parameter for high-velocity cutoff sharpness.</p>
<p>default: 1.85</p>
</dd>
<dt><strong>sigmastar</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Characteristic velocity scale in km/s.</p>
<p>default: 113.78</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>pdf</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Normalized probability density at the given velocity dispersion.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pdf</span> <span class="o">=</span> <span class="n">velocity_dispersion_gengamma_pdf</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sigma</span><span class="o">=</span><span class="mf">200.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sigma_min</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sigma_max</span><span class="o">=</span><span class="mf">400.0</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;PDF at sigma=200 km/s: </span><span class="si">{</span><span class="n">pdf</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.velocity_dispersion_gengamma_rvs">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">velocity_dispersion_gengamma_rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">400.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.85</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmastar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">113.78</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#velocity_dispersion_gengamma_rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.velocity_dispersion_gengamma_rvs" title="Link to this definition"></a></dt>
<dd><p>Sample velocity dispersions from generalized gamma distribution.</p>
<p>Uses truncated generalized gamma sampling via rejection to generate
velocity dispersion samples within the specified bounds.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>sigma_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum velocity dispersion (km/s).</p>
<p>default: 100.0</p>
</dd>
<dt><strong>sigma_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum velocity dispersion (km/s).</p>
<p>default: 400.0</p>
</dd>
<dt><strong>alpha</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Power-law index governing the low-velocity slope.</p>
<p>default: 0.94</p>
</dd>
<dt><strong>beta</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Exponential parameter for high-velocity cutoff sharpness.</p>
<p>default: 1.85</p>
</dd>
<dt><strong>sigmastar</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Characteristic velocity scale in km/s.</p>
<p>default: 113.78</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled velocity dispersions in km/s with shape (size,).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sigma_samples</span> <span class="o">=</span> <span class="n">velocity_dispersion_gengamma</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sigma_min</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sigma_max</span><span class="o">=</span><span class="mf">400.0</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean sigma: </span><span class="si">{</span><span class="n">sigma_samples</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km/s&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Range: [</span><span class="si">{</span><span class="n">sigma_samples</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">sigma_samples</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">] km/s&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.axis_ratio_rayleigh_rvs">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">axis_ratio_rayleigh_rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#axis_ratio_rayleigh_rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.axis_ratio_rayleigh_rvs" title="Link to this definition"></a></dt>
<dd><p>Sample axis ratios from velocity-dependent Rayleigh distribution.</p>
<p>Generates axis ratio samples using the Rayleigh distribution with
scale parameter dependent on velocity dispersion, as described in
Wierda et al. (2021) Appendix C.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Velocity dispersions in km/s with shape (size,).</p>
</dd>
<dt><strong>q_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum allowed axis ratio.</p>
<p>default: 0.2</p>
</dd>
<dt><strong>q_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum allowed axis ratio.</p>
<p>default: 1.0</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled axis ratios with shape (size,).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q_samples</span> <span class="o">=</span> <span class="n">axis_ratio_rayleigh_rvs</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="n">sigma</span><span class="p">,</span> <span class="n">q_min</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">q_max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean axis ratio: </span><span class="si">{</span><span class="n">q_samples</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Range: [</span><span class="si">{</span><span class="n">q_samples</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">q_samples</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.axis_ratio_rayleigh_pdf">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">axis_ratio_rayleigh_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#axis_ratio_rayleigh_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.axis_ratio_rayleigh_pdf" title="Link to this definition"></a></dt>
<dd><p>Compute truncated Rayleigh PDF for axis ratio.</p>
<p>Computes the probability density function for axis ratio using the
truncated Rayleigh distribution with velocity-dependent scale parameter
(Wierda et al. 2021 equation C16).</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Axis ratios at which to evaluate PDF.</p>
</dd>
<dt><strong>sigma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Velocity dispersions in km/s (same shape as q).</p>
</dd>
<dt><strong>q_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum axis ratio for truncation.</p>
<p>default: 0.2</p>
</dd>
<dt><strong>q_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum axis ratio for truncation.</p>
<p>default: 1.0</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>pdf</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Probability density values with same shape as q.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">150.0</span><span class="p">,</span> <span class="mf">200.0</span><span class="p">,</span> <span class="mf">250.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pdf</span> <span class="o">=</span> <span class="n">axis_ratio_rayleigh_pdf</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;PDF values: </span><span class="si">{</span><span class="n">pdf</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.axis_ratio_padilla_strauss_rvs">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">axis_ratio_padilla_strauss_rvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#axis_ratio_padilla_strauss_rvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.axis_ratio_padilla_strauss_rvs" title="Link to this definition"></a></dt>
<dd><p>Sample axis ratios from Padilla &amp; Strauss (2008) distribution.</p>
<p>Uses inverse transform sampling with the empirical PDF from
Padilla &amp; Strauss (2008) for early-type galaxy axis ratios.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled axis ratios with shape (size,).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q_samples</span> <span class="o">=</span> <span class="n">axis_ratio_padilla_strauss_rvs</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean axis ratio: </span><span class="si">{</span><span class="n">q_samples</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Range: [</span><span class="si">{</span><span class="n">q_samples</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">q_samples</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.axis_ratio_padilla_strauss_pdf">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">axis_ratio_padilla_strauss_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#axis_ratio_padilla_strauss_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.axis_ratio_padilla_strauss_pdf" title="Link to this definition"></a></dt>
<dd><p>Compute axis ratio PDF from Padilla &amp; Strauss (2008).</p>
<p>Evaluates the probability density function for axis ratio using
cubic spline interpolation of the Padilla &amp; Strauss (2008) data.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Axis ratios at which to evaluate PDF.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>pdf</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Probability density values with same shape as q.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pdf</span> <span class="o">=</span> <span class="n">axis_ratio_padilla_strauss_pdf</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;PDF at q=0.5: </span><span class="si">{</span><span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.bounded_normal_sample">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">bounded_normal_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#bounded_normal_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.bounded_normal_sample" title="Link to this definition"></a></dt>
<dd><p>Sample from truncated normal distribution via rejection.</p>
<p>Generates samples from a normal distribution with specified mean and
standard deviation, rejecting samples outside the specified bounds.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of samples to draw.</p>
</dd>
<dt><strong>mean</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Mean of the normal distribution.</p>
</dd>
<dt><strong>std</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Standard deviation of the normal distribution.</p>
</dd>
<dt><strong>low</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Lower bound for samples.</p>
</dd>
<dt><strong>high</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Upper bound for samples.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>samples</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Bounded normal samples with shape (size,).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span> <span class="o">=</span> <span class="n">bounded_normal_sample</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">std</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">low</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean: </span><span class="si">{</span><span class="n">samples</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, Std: </span><span class="si">{</span><span class="n">samples</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Range: [</span><span class="si">{</span><span class="n">samples</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">samples</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.rejection_sampler">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">rejection_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">safety_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#rejection_sampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.rejection_sampler" title="Link to this definition"></a></dt>
<dd><p>Core rejection sampling algorithm for lens parameters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Lens redshifts.</p>
</dd>
<dt><strong>sigma_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum velocity dispersion (km/s) for computing upper bound.</p>
</dd>
<dt><strong>sigma_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample velocity dispersion: sigma_rvs(n, zl) -&gt; array.</p>
</dd>
<dt><strong>q_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample axis ratio: q_rvs(n, sigma) -&gt; array.</p>
</dd>
<dt><strong>phi_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample orientation angle: phi_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>gamma_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample power-law index: gamma_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>shear_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample external shear: shear_rvs(n) -&gt; (gamma1, gamma2).</p>
</dd>
<dt><strong>cross_section</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to compute lensing cross section.</p>
</dd>
<dt><strong>safety_factor</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Multiplicative safety factor for the upper bound.</p>
<p>default: 1.2</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma_array</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled velocity dispersions (km/s).</p>
</dd>
<dt><strong>q_array</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled axis ratios.</p>
</dd>
<dt><strong>phi_array</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled orientation angles (rad).</p>
</dd>
<dt><strong>gamma_array</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled power-law indices.</p>
</dd>
<dt><strong>gamma1_array</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled external shear component 1.</p>
</dd>
<dt><strong>gamma2_array</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled external shear component 2.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.create_rejection_sampler">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">create_rejection_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">safety_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_njit_sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#create_rejection_sampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.create_rejection_sampler" title="Link to this definition"></a></dt>
<dd><p>Create a rejection sampler for cross-section weighted lens parameters.</p>
<p>Returns a callable that samples lens parameters using rejection sampling,
weighting by the gravitational lensing cross section. Optionally uses
Numba JIT compilation for improved performance.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum velocity dispersion (km/s) for computing upper bound.</p>
</dd>
<dt><strong>sigma_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample velocity dispersion: sigma_rvs(n, zl) -&gt; array.</p>
</dd>
<dt><strong>q_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample axis ratio: q_rvs(n, sigma) -&gt; array.</p>
</dd>
<dt><strong>phi_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample orientation angle: phi_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>gamma_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample power-law index: gamma_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>shear_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample external shear: shear_rvs(n) -&gt; (gamma1, gamma2).</p>
</dd>
<dt><strong>cross_section</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to compute lensing cross section.</p>
</dd>
<dt><strong>safety_factor</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Multiplicative safety factor for the upper bound.</p>
<p>default: 1.2</p>
</dd>
<dt><strong>use_njit_sampler</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, uses Numba JIT compilation for faster execution.</p>
<p>default: True</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>rejection_sampler_wrapper</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function with signature (zs, zl) -&gt; (sigma, q, phi, gamma, gamma1, gamma2).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numba</span> <span class="kn">import</span> <span class="n">njit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">sigma_rvs</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">zl</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">200</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">q_rvs</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">sigma</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">phi_rvs</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">gamma_rvs</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">shear_rvs</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">cross_section</span><span class="p">(</span><span class="n">zs</span><span class="p">,</span> <span class="n">zl</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">sigma</span><span class="o">**</span><span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">create_rejection_sampler</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sigma_max</span><span class="o">=</span><span class="mf">400.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sigma_rvs</span><span class="o">=</span><span class="n">sigma_rvs</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">q_rvs</span><span class="o">=</span><span class="n">q_rvs</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">phi_rvs</span><span class="o">=</span><span class="n">phi_rvs</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">gamma_rvs</span><span class="o">=</span><span class="n">gamma_rvs</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">shear_rvs</span><span class="o">=</span><span class="n">shear_rvs</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">cross_section</span><span class="o">=</span><span class="n">cross_section</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span> <span class="o">=</span> <span class="n">sampler</span><span class="p">(</span><span class="n">zs</span><span class="p">,</span> <span class="n">zl</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.importance_sampler">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">importance_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_prop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#importance_sampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.importance_sampler" title="Link to this definition"></a></dt>
<dd><p>Core importance sampling algorithm for lens parameters.</p>
<p>This function samples lens galaxy parameters weighted by their lensing
cross sections using importance sampling with a uniform proposal distribution
for velocity dispersion.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Lens redshifts.</p>
</dd>
<dt><strong>sigma_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum velocity dispersion (km/s) for uniform proposal.</p>
</dd>
<dt><strong>sigma_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum velocity dispersion (km/s) for uniform proposal.</p>
</dd>
<dt><strong>q_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample axis ratio: q_rvs(n, sigma) -&gt; array.</p>
</dd>
<dt><strong>phi_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample orientation angle: phi_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>gamma_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample power-law index: gamma_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>shear_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample external shear: shear_rvs(n) -&gt; (gamma1, gamma2).</p>
</dd>
<dt><strong>number_density</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Number density or velocity dispersion function: number_density(sigma, zl) -&gt; array.</p>
</dd>
<dt><strong>cross_section</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to compute lensing cross section.</p>
</dd>
<dt><strong>n_prop</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of proposal samples per lens.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled velocity dispersions (km/s).</p>
</dd>
<dt><strong>q_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled axis ratios.</p>
</dd>
<dt><strong>phi_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled orientation angles (rad).</p>
</dd>
<dt><strong>gamma_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled power-law indices.</p>
</dd>
<dt><strong>gamma1_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled external shear component 1.</p>
</dd>
<dt><strong>gamma2_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled external shear component 2.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.importance_sampler_mp">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">importance_sampler_mp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#importance_sampler_mp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.importance_sampler_mp" title="Link to this definition"></a></dt>
<dd><p>Multiprocessing version of importance sampling for lens parameters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Source redshifts.</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Lens redshifts.</p>
</dd>
<dt><strong>sigma_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum velocity dispersion (km/s) for uniform proposal.</p>
</dd>
<dt><strong>sigma_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum velocity dispersion (km/s) for uniform proposal.</p>
</dd>
<dt><strong>q_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample axis ratio: q_rvs(n, sigma) -&gt; array.</p>
</dd>
<dt><strong>phi_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample orientation angle: phi_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>gamma_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample power-law index: gamma_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>shear_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample external shear: shear_rvs(n) -&gt; (gamma1, gamma2).</p>
</dd>
<dt><strong>number_density</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Number density or velocity dispersion function: number_density(sigma, zl) -&gt; array.</p>
</dd>
<dt><strong>cross_section</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to compute lensing cross section.</p>
</dd>
<dt><strong>n_prop</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of proposal samples per lens.</p>
</dd>
<dt><strong>npool</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of parallel processes to use.</p>
<p>default: 4</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled velocity dispersions (km/s).</p>
</dd>
<dt><strong>q_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled axis ratios.</p>
</dd>
<dt><strong>phi_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled orientation angles (rad).</p>
</dd>
<dt><strong>gamma_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled power-law indices.</p>
</dd>
<dt><strong>gamma1_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled external shear component 1.</p>
</dd>
<dt><strong>gamma2_post</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Sampled external shear component 2.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.create_importance_sampler">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">create_importance_sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_rvs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_njit_sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/sampler_functions.html#create_importance_sampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.create_importance_sampler" title="Link to this definition"></a></dt>
<dd><p>Create an importance sampler for cross-section weighted lens parameters.</p>
<p>Returns a callable that samples lens parameters using importance sampling
with uniform proposal distribution, optionally JIT-compiled for improved
performance.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma_min</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Minimum velocity dispersion (km/s) for uniform proposal.</p>
</dd>
<dt><strong>sigma_max</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Maximum velocity dispersion (km/s) for uniform proposal.</p>
</dd>
<dt><strong>q_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample axis ratio: q_rvs(n, sigma) -&gt; array.</p>
</dd>
<dt><strong>phi_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample orientation angle: phi_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>gamma_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample power-law index: gamma_rvs(n) -&gt; array.</p>
</dd>
<dt><strong>shear_rvs</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to sample external shear: shear_rvs(n) -&gt; (gamma1, gamma2).</p>
</dd>
<dt><strong>number_density</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Number density or velocity dispersion function: number_density(sigma, zl) -&gt; array.</p>
</dd>
<dt><strong>cross_section</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function to compute lensing cross section.</p>
</dd>
<dt><strong>n_prop</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of proposal samples per lens.</p>
</dd>
<dt><strong>use_njit_sampler</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code></span></dt><dd><p>If True, uses Numba JIT compilation for faster execution.</p>
<p>default: True</p>
</dd>
<dt><strong>npool</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of parallel processes (only used when use_njit_sampler=False).</p>
<p>default: 4</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>importance_sampler_wrapper</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Function with signature (zs, zl) -&gt; (sigma, q, phi, gamma, gamma1, gamma2).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numba</span> <span class="kn">import</span> <span class="n">njit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">q_rvs</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">sigma</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">phi_rvs</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">gamma_rvs</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">shear_rvs</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">number_density</span><span class="p">(</span><span class="n">sigma</span><span class="p">,</span> <span class="n">zl</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">sigma</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@njit</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">cross_section</span><span class="p">(</span><span class="n">zs</span><span class="p">,</span> <span class="n">zl</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">sigma</span><span class="o">**</span><span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">create_importance_sampler</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sigma_min</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sigma_max</span><span class="o">=</span><span class="mf">400.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">q_rvs</span><span class="o">=</span><span class="n">q_rvs</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">phi_rvs</span><span class="o">=</span><span class="n">phi_rvs</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">gamma_rvs</span><span class="o">=</span><span class="n">gamma_rvs</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">shear_rvs</span><span class="o">=</span><span class="n">shear_rvs</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">number_density</span><span class="o">=</span><span class="n">number_density</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">cross_section</span><span class="o">=</span><span class="n">cross_section</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">n_prop</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span> <span class="o">=</span> <span class="n">sampler</span><span class="p">(</span><span class="n">zs</span><span class="p">,</span> <span class="n">zl</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id70">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">phi_cut_SIE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_functions.html#phi_cut_SIE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id70" title="Link to this definition"></a></dt>
<dd><p>Calculate cross-section scaling factor for SIE lens galaxy from SIS.</p>
<p>Computes the ratio of the SIE (Singular Isothermal Ellipsoid) cross-section
to the SIS (Singular Isothermal Sphere) cross-section for a given axis ratio.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Axis ratio of the lens galaxy (0 &lt; q &lt;= 1).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Scaling factor (normalized to pi).</p>
<p>For q -&gt; 1 (spherical): returns 1.0</p>
<p>For q -&gt; 0 (highly elliptical): returns ~0.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id71">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">phi_q2_ellipticity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_functions.html#phi_q2_ellipticity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id71" title="Link to this definition"></a></dt>
<dd><p>Convert position angle and axis ratio to ellipticity components.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>phi</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Position angle of the major axis (radians).</p>
</dd>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Axis ratio (0 &lt; q &lt;= 1).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>e1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>First ellipticity component.</p>
</dd>
<dt><strong>e2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Second ellipticity component.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id72">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">cross_section</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta_E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_functions.html#cross_section"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id72" title="Link to this definition"></a></dt>
<dd><p>Compute the strong lensing cross-section for an EPL+Shear lens.</p>
<p>Uses lenstronomy to compute the caustic structure and returns the
area enclosed by the double-image (outer) caustic.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>theta_E</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Einstein radius (radian).</p>
</dd>
<dt><strong>e1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>First ellipticity component.</p>
</dd>
<dt><strong>e2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Second ellipticity component.</p>
</dd>
<dt><strong>gamma</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Power-law density profile slope.</p>
</dd>
<dt><strong>gamma1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>First external shear component.</p>
</dd>
<dt><strong>gamma2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Second external shear component.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>area</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Cross-section area (radian^2).</p>
<p>Returns 0.0 if caustic computation fails.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id73">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">phi_q2_ellipticity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/lens_functions.html#phi_q2_ellipticity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id73" title="Link to this definition"></a></dt>
<dd><p>Convert position angle and axis ratio to ellipticity components.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>phi</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Position angle of the major axis (radians).</p>
</dd>
<dt><strong>q</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Axis ratio (0 &lt; q &lt;= 1).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>e1</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>First ellipticity component.</p>
</dd>
<dt><strong>e2</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Second ellipticity component.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.C_LIGHT">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">C_LIGHT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'299792.458'</span></em><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/cross_section_interpolator.html#C_LIGHT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.C_LIGHT" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.lens_galaxy_population.make_cross_section_reinit">
<span class="sig-prename descclassname"><span class="pre">ler.lens_galaxy_population.</span></span><span class="sig-name descname"><span class="pre">make_cross_section_reinit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e1_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma1_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cs_spline_coeff_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Da_instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csunit_to_cs_slope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.31830988618379075</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csunit_to_cs_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-3.2311742677852644e-27</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/ler/lens_galaxy_population/cross_section_interpolator.html#make_cross_section_reinit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.lens_galaxy_population.make_cross_section_reinit" title="Link to this definition"></a></dt>
<dd><p>Factory function to create a JIT-compiled cross section calculator.</p>
<p>This function precomputes B-spline coefficients and creates a closure
that captures the grid parameters, returning a fast Numba-compiled
function for computing cross sections.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>e1_grid</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Grid values for ellipticity component e1, shape (n_e1,).</p>
</dd>
<dt><strong>e2_grid</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Grid values for ellipticity component e2, shape (n_e2,).</p>
</dd>
<dt><strong>gamma_grid</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Grid values for density slope gamma, shape (n_g,).</p>
</dd>
<dt><strong>gamma1_grid</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Grid values for shear component gamma1, shape (n_g1,).</p>
</dd>
<dt><strong>gamma2_grid</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Grid values for shear component gamma2, shape (n_g2,).</p>
</dd>
<dt><strong>cs_spline_coeff_grid</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></span></dt><dd><p>Raw cross section grid data (before spline filtering),</p>
<p>shape (n_e1, n_e2, n_g, n_g1, n_g2).</p>
</dd>
<dt><strong>Da_instance</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>Angular diameter distance function.</p>
<p>Signature: <code class="docutils literal notranslate"><span class="pre">Da_instance(z)</span> <span class="pre">-&gt;</span> <span class="pre">distance</span></code></p>
</dd>
<dt><strong>csunit_to_cs_slope</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Slope for affine calibration from unit cross section.</p>
<p>default: 0.31830988618379075</p>
</dd>
<dt><strong>csunit_to_cs_intercept</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>Intercept for affine calibration from unit cross section.</p>
<p>default: -3.2311742677852644e-27</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cross_section_reinit</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">callable</span></code></span></dt><dd><p>JIT-compiled function with signature:</p>
<p><code class="docutils literal notranslate"><span class="pre">cross_section_reinit(zs,</span> <span class="pre">zl,</span> <span class="pre">sigma,</span> <span class="pre">q,</span> <span class="pre">phi,</span> <span class="pre">gamma,</span> <span class="pre">gamma1,</span> <span class="pre">gamma2)</span></code></p>
<p>Returns cross sections as <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> of shape (N,).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population.cross_section_interpolator</span> <span class="kn">import</span> <span class="n">make_cross_section_reinit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs_func</span> <span class="o">=</span> <span class="n">make_cross_section_reinit</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">e1_grid</span><span class="p">,</span> <span class="n">e2_grid</span><span class="p">,</span> <span class="n">gamma_grid</span><span class="p">,</span> <span class="n">gamma1_grid</span><span class="p">,</span> <span class="n">gamma2_grid</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">cs_spline_coeff_grid</span><span class="p">,</span> <span class="n">Da_instance</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cross_sections</span> <span class="o">=</span> <span class="n">cs_func</span><span class="p">(</span><span class="n">zs</span><span class="p">,</span> <span class="n">zl</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">gamma1</span><span class="p">,</span> <span class="n">gamma2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../gw_source_population/sfr_with_time_delay/index.html" class="btn btn-neutral float-left" title="ler.gw_source_population.sfr_with_time_delay" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cross_section_interpolator/index.html" class="btn btn-neutral float-right" title="ler.lens_galaxy_population.cross_section_interpolator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Phurailatpam Hemantakumar.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>